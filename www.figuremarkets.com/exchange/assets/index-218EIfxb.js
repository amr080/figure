var ud=Object.defineProperty;var md=(t,s,a)=>s in t?ud(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var je=(t,s,a)=>(md(t,typeof s!="symbol"?s+"":s,a),a),Sr=(t,s,a)=>{if(!s.has(t))throw TypeError("Cannot "+a)};var S=(t,s,a)=>(Sr(t,s,"read from private field"),a?a.call(t):s.get(t)),be=(t,s,a)=>{if(s.has(t))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(t):s.set(t,a)},nt=(t,s,a,n)=>(Sr(t,s,"write to private field"),n?n.call(t,a):s.set(t,a),a);var ml=(t,s,a,n)=>({set _(r){nt(t,s,r,a)},get _(){return S(t,s,n)}}),We=(t,s,a)=>(Sr(t,s,"access private method"),a);import{r as c,Q as Ci,j as e,a as co,$ as Ia,t as k,b as Ke,c as xd,i as hd,d as lr,e as fd,f as pd,U as Ni,L as gd,N as jd,_ as bd,g as yd,B as xl,h as gs,k as Cd,m as Nd,l as oa,v as wd,u as fe,n as pe,o as Y,p as vd,q as Ld,s as Ed,w as wi,x as Sd,y as ns,z as rs,A as vi,C as Li,D as Ye,E as Ei,F as Si,G as Xt,H as Ws,I as xa,J as is,K as or,M as cr,O as Ad,P as Dd,R as Td,S as Pd,T as kd,V as uo,W as Id,X as mo,Y as Od,Z as Md,a0 as _d,a1 as Rd,a2 as Xe,a3 as et,a4 as tt,a5 as qe,a6 as st,a7 as xs,a8 as Fd,a9 as Ud,aa as mt,ab as Oa,ac as Bd,ad as xo,ae as Wd,af as Ai,ag as qd,ah as $d,ai as dr,aj as Ht,ak as Hd,al as ho,am as Vd,an as Zd,ao as ks,ap as Gd,aq as Cs,ar as Di,as as Ti,at as fo,au as Pi,av as po,aw as go,ax as zd,ay as Kd,az as Yd,aA as ki,aB as jo,aC as Qd,aD as Jd,aE as ur,aF as mr,aG as xr,aH as es,aI as Xd,aJ as bo,aK as yo,aL as Co,aM as No,aN as e0,aO as Jr,aP as t0,aQ as wo,aR as vo,aS as Ii,aT as s0,aU as a0,aV as hl,aW as n0,aX as r0,aY as i0,aZ as Y9,a_ as Q9,a$ as J9,b0 as l0,b1 as o0,b2 as c0,b3 as d0,b4 as u0,b5 as m0,b6 as x0,b7 as h0}from"./vendor-Y1n5A6vp.js";const Lo=c.createContext(void 0),f0=()=>c.useContext(Lo),{Provider:p0}=Lo,Aa=new Ci({defaultOptions:{queries:{refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,retry:!1}}});Aa.invalidateQueries.bind(Aa);Aa.refetchQueries.bind(Aa);const Eo=({children:t,...s})=>(s.queryClientOptions&&Aa.setDefaultOptions(s.queryClientOptions),e.jsx(p0,{value:s,children:e.jsx(co,{client:Aa,children:t})}));class qn extends Error{constructor(a,n,r,i){super();je(this,"response");je(this,"status");je(this,"message");je(this,"data");this.response=a,this.status=n,this.message=r,this.data=i}}async function g0(t,s){if(!t)return new qn(null,null,`Response was not defined for ${s}`,null);const a=await t.text();try{const n=JSON.parse(a);return new qn(t,t.status,t.statusText,n)}catch{return new qn(t,t.status,a,null)}}function j0(t){const s=new URLSearchParams;for(const[a,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>s.append(a,r)):n!==void 0&&s.set(a,n.toString());return s}async function lt({url:t="",options:s,onError:a,preRequest:n,includeResponseHeaders:r=!1,isDocumentResponse:i=!1}){var u,d,x;let l;try{const m=j0((s==null?void 0:s.params)??{}).toString(),f={credentials:"include",headers:{Authorization:localStorage.getItem("jwt")??"","Content-Type":"application/json"}},p=(n==null?void 0:n(t,f))??f,g={...p.headers,...(u=s==null?void 0:s.request)==null?void 0:u.headers};if((d=g["Content-Type"])!=null&&d.toLowerCase().includes("multipart/form-data")&&delete g["Content-Type"],l=await fetch(`${t}${m?`?${m}`:""}`,{credentials:"include",...p,...s==null?void 0:s.request,headers:g}),l.ok){let h;return i?h=await l.arrayBuffer().catch(()=>{}):h=await((x=l.headers.get("content-type"))!=null&&x.startsWith("text")?l.text():l.json()).catch(()=>{}),r?{data:h,headers:Object.fromEntries(l.headers.entries())}:h}}catch(m){const f=m instanceof Error?m.message:`${m}`;throw new qn(l??null,(l==null?void 0:l.status)??0,f,null)}const o=await g0(l,t);throw a==null||a(o),o}const H=t=>{const s=f0();return({options:a,url:n,baseUrl:r,includeResponseHeaders:i,isDocumentResponse:l})=>lt({url:`${r??(typeof s.baseUrl=="function"?s.baseUrl(n):s.baseUrl)}${n}`,onError:s.onError,preRequest:s.preRequest,includeResponseHeaders:i,isDocumentResponse:l,options:{...a,request:{...a==null?void 0:a.request,method:t}}})},ie=t=>{const s={request:{},params:void 0};return"header"in t&&(s.request={headers:t.header}),"query"in t&&(s.params=t.query),"requestBody"in t&&t.requestBody&&(s.request={body:JSON.stringify(t.requestBody),...s.request}),s},So=t=>t&&(t.length>11?`${t.slice(0,6)}...${t.slice(t.length-5,t.length)}`:t),Xr=t=>t&&/[a-zA-Z]/.test(t)?t.replace(/\b\w/g,a=>a.toUpperCase()):"",wa=({rootApp:t})=>["HOME","TRADE","LEND"].includes(t),xt=({rootApp:t})=>t==="INVEST",b0=()=>window.location.hostname==="localhost",_t=(t=!1)=>{const{protocol:s,hostname:a,port:n}=window.location;return b0()&&t?"https://www.figuremarkets.dev":`${s}//${a}${n?`:${n}`:""}`},xn="text-[14px] tracking-normal rounded-full disabled:opacity-50 disabled:cursor-not-allowed outline-none transition-all font-button tracking-widest",Oi="py-2.5 px-4",Mi="py-3.5 px-6",y0=t=>{const{className:s,small:a,...n}=t;return e.jsx(Ia,{className:k(a?Oi:Mi,xn,"text-positive-800 bg-positive-300 font-[500]",!t.isDisabled&&"hover:bg-positive-400","active:bg-positive-400 active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-dark active:ring-inset",String(s)),...n})},C0=t=>{const{className:s,...a}=t;return e.jsx(Ia,{className:Ke("py-[4px] px-[10px]",xn,"text-sm text-light bg-p-500","hover:bg-p-dark","active:bg-p-500 active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-dark active:ring-inset",String(s)),...a})},N0=t=>{const{className:s,small:a,inverse:n,...r}=t;return e.jsx(Ia,{className:k(a?Oi:Mi,xn,n?"bg-neutral-800 text-neutral-0":"bg-neutral-100 ring-inset ring-1 ring-neutral-150 text-neutral-850","hover:bg-neutral-800 group hover:text-neutral-0","active:text-neutral-0 active:bg-neutral-800 active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-neutral-150 active:ring-inset",String(s)),...r})},w0=t=>{const{className:s,small:a,...n}=t;return e.jsx(Ia,{className:Ke(a?`${Oi} text-xxs`:`${Mi} text-xs`,xn,"ring-inset ring-1 ring-negative-300 text-negative-300","hover:bg-negative-300 hover:text-light","active:text-light active:bg-negative-300 active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-dark active:ring-inset",String(s)),...n})},v0=t=>{const{className:s,...a}=t;return e.jsx(Ia,{className:Ke("py-1.5 px-2.5 text-xxs rounded-sm font-bolder border-[1px] border-solid border-negative-300 text-negative-300 outline-none transition-all","disabled:opacity-50 disabled:cursor-not-allowed","hover:border-light hover:text-light","active:text-light active:border-negative-300",String(s)),...a})},L0=t=>{const{className:s,...a}=t;return e.jsx(Ia,{className:k(xn,"rounded-none text-neutral-500",s?String(s):""),...a})},ts={Primary:y0,Deposit:C0,Secondary:N0,Alert:w0,Cancel:v0,Nav:L0},Ao=({full:t=!1,rootApp:s,login:a,navigate:n})=>e.jsxs("section",{"aria-label":"Login Section",className:`relative flex gap-x-4 justify-self-end ${t?"mb-4 flex-col gap-y-4":""}`,children:[e.jsx(ts.Primary,{className:k(`bg-[#5A56EC] px-2.5 py-1 text-white ${t?"mx-4 flex justify-center px-3 py-2 text-[16px]":"text-[12px]"}`,xt({rootApp:s})?"rounded-md hover:bg-[#F4F3F2] hover:text-[#42403D] uppercase":"font-bold tracking-normal rounded-[4px] hover:bg-[#2F285A]"),onPress:()=>{xt({rootApp:s})?n(`/signup?redirectUrl=${encodeURIComponent(window.location.href)}`):window.location.href=`${_t(!0)}/c/signup?redirectUrl=${encodeURIComponent(window.location.href)}`},children:"Sign Up"}),e.jsx(ts.Secondary,{className:k(`px-2.5 py-1 text-white ${t?"mx-4 flex justify-center px-3 py-2 text-[16px]":"text-[12px]"}`,xt({rootApp:s})?"rounded-md ring-0 font-medium bg-[#595754] hover:bg-[#F4F3F2] hover:text-[#42403D] uppercase":"rounded-[4px] font-bold bg-transparent ring-inset ring-1 ring-[#5A56EC] tracking-normal hover:bg-[#5A56EC]"),onPress:()=>{a?a():xt({rootApp:s})?n(`/login?redirectUrl=${encodeURIComponent(window.location.href)}`):window.location.href=`${_t(!0)}/c/login?redirectUrl=${encodeURIComponent(window.location.href)}`},children:"Log In"})]}),kt=t=>e.jsx("p",{...t,className:k("leading-5 font-text",t.className)}),Zn=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",className:t,children:e.jsx("path",{d:"M4.99023 5.76367L5.43945 5.31445L9.18945 1.56445L9.63867 1.11523L8.74023 0.236328L8.31055 0.685547L4.99023 3.98633L1.68945 0.685547L1.24023 0.236328L0.361328 1.11523L0.810547 1.56445L4.56055 5.31445L4.99023 5.76367Z",fill:"currentColor"})}),E0=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",className:t,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.98492 4.59459L4.48995 4.09961L3.5 5.08956L3.99498 5.58453L7.7 9.28955L3.99498 12.9946L3.5 13.4895L4.48995 14.4795L4.98492 13.9845L8.68994 10.2795L12.395 13.9845L12.8899 14.4795L13.8799 13.4895L13.3849 12.9946L9.67988 9.28955L13.3849 5.58453L13.8799 5.08956L12.8899 4.09961L12.395 4.59459L8.68994 8.29961L4.98492 4.59459Z",fill:"white"})}),S0=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:t,children:[e.jsxs("g",{clipPath:"url(#clip0_739_17945)",children:[e.jsx("mask",{id:"mask0_739_17945",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"12",height:"12",children:e.jsx("path",{d:"M12 0H0V12H12V0Z",fill:"white"})}),e.jsxs("g",{mask:"url(#mask0_739_17945)",children:[e.jsx("path",{d:"M4 3.75H0.5V11.5005L7.25016 11.4732V8.24496",stroke:"white",strokeWidth:"1.5"}),e.jsx("path",{d:"M4.75 0.75H11.25V8.25H4.75V0.75Z",stroke:"white",strokeWidth:"1.5"})]})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_739_17945",children:e.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Do=({className:t})=>e.jsxs("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",className:t,xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M10.1158 2.5L6.61575 6.00007",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"square",strokeLinejoin:"round"}),e.jsx("path",{d:"M5.61578 2H2.61578V10H10.6158V7",stroke:"currentColor",strokeWidth:"1.5"}),e.jsx("path",{d:"M7.61578 2H10.6158V5",stroke:"currentColor",strokeWidth:"1.5"})]}),To=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",className:t,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5C3.79086 5 2 6.79086 2 9V18C2 20.2091 3.79086 22 6 22H20C22.2091 22 24 20.2091 24 18V9C24 6.79086 22.2091 5 20 5H6ZM4 9C4 7.89543 4.89543 7 6 7H20C21.1046 7 22 7.89543 22 9H4ZM6 11C4.89543 11 4 11.8954 4 13H10C10 13.2626 10.0776 13.5227 10.2284 13.7654C10.3791 14.008 10.6001 14.2285 10.8787 14.4142C11.1573 14.5999 11.488 14.7472 11.8519 14.8478C12.2159 14.9483 12.606 15 13 15C13.394 15 13.7841 14.9483 14.1481 14.8478C14.512 14.7472 14.8427 14.5999 15.1213 14.4142C15.3999 14.2285 15.6209 14.008 15.7716 13.7654C15.9224 13.5227 16 13.2626 16 13H22C22 11.8954 21.1046 11 20 11H6Z",fill:"#D9D9D9"})}),A0=({rootApp:t,isAuthenticatedWithCookie:s,passportName:a,walletAddress:n,login:r,logout:i,md:l,lg:o,navigate:u})=>{var g,h;const[d,x]=c.useState(!1),[m,f]=c.useState(!1),p=c.useRef(null);return c.useEffect(()=>{const b=j=>{p.current&&!p.current.contains(j.target)&&x(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)}),c.useEffect(()=>{const b=setTimeout(()=>{m&&f(!1)},3e3);return()=>clearTimeout(b)},[m]),s?e.jsxs("div",{className:"relative justify-self-end",children:[e.jsxs(ts.Nav,{className:"flex cursor-pointer items-center gap-x-1.5 text-white",onPress:()=>x(!d),children:[e.jsx(To,{className:l?"":"size-8"}),l&&e.jsxs(e.Fragment,{children:[e.jsx(kt,{className:k("tracking-normal",xt({rootApp:t})?"font-heading text-[15px] font-medium":"text-xs font-[700]"),children:l&&!o&&((g=String(a))==null?void 0:g.length)>10?((h=Xr(a))==null?void 0:h.substring(0,10))+"...":Xr(a)}),e.jsx(Zn,{className:k("transition duration-300",d&&"rotate-180")})]})]}),e.jsxs("div",{ref:p,className:k("absolute flex flex-col rounded-b-md text-base text-white w-[208px] bg-[#242530] z-[1]",!d&&"hidden",xt({rootApp:t})?"top-[50px] right-[-32px]":"top-[36px] right-0"),children:[e.jsxs(ts.Nav,{className:"flex select-none items-center gap-x-2.5 p-4 text-left text-base text-white transition-all duration-150 hover:bg-[#313342] active:translate-y-1",onPress:()=>{navigator.clipboard.writeText(n??""),f(!0)},children:[e.jsx(S0,{}),e.jsx(kt,{className:"text-sm",children:m?`${n==null?void 0:n.substring(0,3)}... copied`:So(String(n))})]}),e.jsx("hr",{className:"h-px w-full border-transparent bg-[#121321]"}),e.jsxs(ts.Nav,{className:"flex items-center gap-x-2.5 rounded-l-md rounded-t-none p-4 text-left text-base text-white hover:bg-[#313342]",onPress:()=>{x(!1),i==null||i()},children:[e.jsx(E0,{}),e.jsx(kt,{className:"text-sm",children:"Disconnect"})]})]})]}):e.jsx(Ao,{rootApp:t,login:r,navigate:u})},D0=({title:t,description:s,image:a,route:n,rootApp:r,setOpen:i,setOpenSubmenu:l})=>e.jsxs("button",{className:k("flex h-[6.25rem] w-[25.813rem] gap-x-3 text-left rounded-md border p-6",xt({rootApp:r})?"bg-[#242530] border-[#121321] border-opacity-50 hover:bg-[#313342]":"bg-[#1D2434] border-[#080E18] hover:bg-[#5A56EC]"),onClick:()=>{i(!1),l(!1),n()},children:[e.jsx("img",{src:a.src,alt:a.alt,className:"size-12"}),e.jsxs("div",{className:k("flex flex-col",xt({rootApp:r})?"gap-y-3":"gap-y-1"),children:[e.jsx(kt,{className:"font-button text-sm font-semibold leading-[1.125rem] tracking-widest text-white",children:t}),e.jsx(kt,{className:"font-text text-sm leading-tight text-[#EDECEA]",children:s})]})]}),T0=({open:t,setOpen:s,isAuthenticatedWithCookie:a,passportName:n,walletAddress:r,logout:i,lg:l,md:o,rootApp:u,exchangeLocationDropdown:d,depositButton:x,navigate:m,routeOverride:f,externalTitles:p,login:g,hiddenTitles:h,isRexNav:b})=>{var A;const[j,y]=c.useState(!1),[C,w]=c.useState(0);c.useEffect(()=>{s(!1)},[s]);const N=({openMenu:E,index:P})=>{y(E),w(P)},v=b?Io:ko;return e.jsxs(e.Fragment,{children:[e.jsx("nav",{"aria-label":"Main Navigation",id:"navigation",className:k("fixed w-full text-white z-[200]",xt({rootApp:u})?"py-6 px-10 bg-[#121321]":"py-2.5 px-4 bg-[#070E18]"),children:e.jsxs("div",{className:k("relative mx-auto grid items-center",xt({rootApp:u})&&"max-w-screen-2xl",!l&&!a?"grid-cols-[minmax(310px,_auto)_auto_auto] gap-2":"grid-cols-3"),children:[e.jsxs("div",{className:"flex gap-x-4",children:[e.jsx(Po,{rootApp:u}),d&&e.jsx(e.Fragment,{children:d})]}),e.jsx("div",{"aria-label":"Menu Options",className:"flex items-center gap-x-8 justify-self-center text-sm tracking-widest",children:v({rootApp:u,navigate:m,externalTitles:p,hiddenTitles:h}).map((E,P)=>e.jsxs(ts.Nav,{className:k("text-white flex gap-x-2 items-center text-sm tracking-widest transition duration-300",E.subMenu&&t&&"text-neutral-200",E.title===u&&"gradient-text",!xt({rootApp:u})&&"font-bold tracking-[1px] antialiased text-[text-rendering:optimizeLegibility]"),onHoverStart:()=>N({openMenu:!!E.subMenu,index:P}),onPress:E.subMenu?()=>N({openMenu:!j,index:P}):()=>{var L;s(!1),y(!1),f&&E.route?f(E):(L=E.route)==null||L.call(E)},children:[E.title,!E.subMenu&&E.isExternal&&e.jsx(Do,{}),E.subMenu&&e.jsx(Zn,{className:k("transition duration-300 text-white",j&&C===P&&"rotate-180")})]},E.title))}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(A0,{rootApp:u,isAuthenticatedWithCookie:a,passportName:n,walletAddress:r,md:o,lg:l,login:g,logout:i,navigate:m}),x&&e.jsx(e.Fragment,{children:x})]})]})}),v({rootApp:u,navigate:m,hiddenTitles:h})[C].subMenu&&e.jsx("div",{"aria-expanded":t,"aria-label":"Submenu Navigation","aria-hidden":!j,onMouseLeave:()=>y(!1),className:k("transition ease-in-out duration-300 left-0 w-full py-6 px-10 flex gap-x-6 justify-center items-center mb-2 rounded-md",j?"visible opacity-100 translate-y-0 z-[200]":"invisible opacity-0",xt({rootApp:u})?"absolute top-[74px] bg-[#2C2D3B]":"fixed top-[46px] bg-[#161B24]"),children:(A=v({rootApp:u,navigate:m})[C].subMenu)==null?void 0:A.map(E=>e.jsx(D0,{...E,rootApp:u,setOpen:s,setOpenSubmenu:y},E.title))})]})},Ar="box-border h-[2px] w-[18px] rounded-full outline outline-transparent transition-all ease bg-white",P0=({title:t,description:s,image:a,route:n,setOpen:r,setOpenSubmenu:i})=>e.jsxs("button",{className:"flex gap-x-3 border-b border-[#242530] px-4 py-6 text-left",onClick:()=>{r(!1),i(!1),n()},children:[e.jsx("img",{src:a.src,alt:a.alt,className:"size-12"}),e.jsxs("div",{className:"flex flex-col gap-y-3",children:[e.jsx(kt,{className:"font-button text-sm font-semibold leading-[1.125rem] tracking-widest text-white",children:t}),e.jsx(kt,{className:"font-text text-sm leading-tight text-[#EDECEA]",children:s})]})]}),fl=({setOpen:t,isAuthenticatedWithCookie:s,passportName:a,walletAddress:n,login:r,logout:i,rootApp:l,navigate:o})=>{const[u,d]=c.useState(!1);return c.useEffect(()=>{const x=setTimeout(()=>{u&&d(!1)},3e3);return()=>clearTimeout(x)},[u]),e.jsx(e.Fragment,{children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between rounded-none border-t border-[#242530] p-4",children:[e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(To,{className:"size-6 text-white"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(kt,{className:"text-base text-white",children:Xr(a)}),e.jsx(kt,{className:"text-xs text-white",children:So(n)})]})]}),e.jsx(ts.Nav,{className:k("flex text-[#B8B6B3] text-left items-center","select-none active:translate-y-1 transition-all duration-150"),onPress:()=>{navigator.clipboard.writeText(n??""),d(!0)},children:e.jsx(kt,{className:"text-sm",children:u?"COPIED":"COPY"})})]}),e.jsx(ts.Nav,{className:"rounded-none border-t border-[#242530] px-4 py-6 text-left text-base font-semibold text-[#1D82FB]",onPress:()=>{i&&i(),t(!1)},children:e.jsx(kt,{className:k("text-sm",!xt({rootApp:l})&&"text-[#9692F6] font-bold"),children:"DISCONNECT"})})]}):e.jsx(Ao,{full:!0,rootApp:l,login:r,navigate:o})})},k0=({open:t,setOpen:s,isAuthenticatedWithCookie:a,passportName:n,walletAddress:r,logout:i,rootApp:l,exchangeLocationDropdown:o,depositButton:u,navigate:d,routeOverride:x,externalTitles:m,login:f,hiddenTitles:p,isRexNav:g})=>{var N;const[h,b]=c.useState(!1),[j,y]=c.useState(0),C=({openMenu:v,index:A})=>{b(v),y(A)},w=g?Io:ko;return e.jsxs(e.Fragment,{children:[e.jsx("nav",{"aria-label":"Main Navigation",className:"fixed top-0 z-[200] w-full bg-[#010101] px-4 py-2.5 text-white",children:e.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between",children:[e.jsxs("div",{className:"flex gap-x-4",children:[e.jsx(Po,{rootApp:l}),o&&e.jsx(e.Fragment,{children:o})]}),e.jsxs("button",{className:"flex h-6 w-6 flex-col items-center justify-center gap-1",type:"button",onClick:()=>{s(!t),b(!1)},"aria-expanded":t?"true":"false",children:[e.jsx("span",{className:"sr-only",children:"Menu Button"}),e.jsx("div",{className:k(Ar,t&&"translate-y-1 rotate-45","duration-300")}),e.jsx("div",{className:k(Ar,t&&"scale-x-0","duration-300")}),e.jsx("div",{className:k(Ar,t&&"-translate-y-2 -rotate-45","duration-300")})]})]})}),e.jsxs("div",{"aria-expanded":t,"aria-label":"Menu Navigation",className:k("scroll-touch fixed left-0 bottom-0 top-[43px] bg-[#2C2D3B] w-full pt-8 flex flex-col gap-y-8 rounded-tl-[0.625rem] rounded-tr-[0.625rem]",t?"transition duration-300 visible opacity-100 z-[200]":"hidden invisible opacity-0 z-[-10]"),children:[w({rootApp:l,navigate:d,externalTitles:m,hiddenTitles:p}).map((v,A)=>e.jsx("div",{className:h?"invisible opacity-0":"visible opacity-100",children:e.jsxs(ts.Nav,{className:k("text-white flex gap-x-2 justify-between items-center text-base tracking-widest transition duration-300 px-4 w-full border-b border-[#242530] pb-8 rounded-none"),onPress:v.subMenu?()=>C({openMenu:!0,index:A}):()=>{var E;s(!1),b(!1),x&&v.route?x(v):(E=v.route)==null||E.call(v)},children:[v.title,!v.subMenu&&v.isExternal&&e.jsx(Do,{}),v.subMenu&&e.jsx(Zn,{className:"size-4 rotate-[-90deg] text-white"})]})},v.title)),e.jsxs("div",{className:"flex h-full flex-col justify-end",children:[u&&e.jsx("div",{className:"border-t border-t-[#242530] p-4",children:u}),e.jsx(fl,{setOpen:s,passportName:n,walletAddress:r,isAuthenticatedWithCookie:a,login:f,logout:i,rootApp:l,navigate:d})]})]}),e.jsxs("div",{"aria-expanded":h,"aria-label":"Menu Navigation",className:k("fixed left-0 bottom-0 top-[3rem] rounded-tl-[0.625rem] rounded-tr-[0.625rem] bg-[#2C2D3B] w-full flex flex-col",h?"visible opacity-100 z-[200]":"invisible opacity-0 z-[-10]"),children:[e.jsxs(ts.Nav,{className:"flex items-center gap-x-3 rounded-none border-b border-[#242530] p-4 text-[#1D82FB]",onPress:()=>b(!1),children:[e.jsx(Zn,{className:k("size-3 rotate-[90deg]",!xt({rootApp:l})&&"text-[#9692F6]")}),e.jsx(kt,{className:k("text-sm tracking-widest",!xt({rootApp:l})&&"text-[#9692F6] font-bold"),children:"BACK"})]}),(N=w({rootApp:l,navigate:d,hiddenTitles:p})[j].subMenu)==null?void 0:N.map(v=>e.jsx(P0,{...v,setOpen:s,setOpenSubmenu:b},v.title)),e.jsx("div",{className:"flex h-full flex-col justify-end",children:u&&e.jsx("div",{className:"border-t border-t-[#242530] p-4",children:u})}),e.jsx(fl,{setOpen:s,passportName:n,walletAddress:r,isAuthenticatedWithCookie:a,login:f,logout:i,rootApp:l,navigate:d})]})]})},I0=window.location.host==="www.figuremarkets.com"||window.location.host==="figuremarkets.com",O0=I0?"https://cryptoloan.figuremarkets.com/account/crypto-backed-loan/residency":"https://cryptoloan.figuremarkets.dev/account/crypto-backed-loan/residency",Po=({rootApp:t})=>e.jsxs("button",{className:`flex ${wa({rootApp:t})?"pointer-events-none":"cursor-pointer"} items-center justify-center gap-x-2 justify-self-start`,onClick:()=>{wa({rootApp:t})||(window.location.href=`${_t(!0)}/exchange`)},children:[e.jsx("img",{className:"size-4",src:"https://www.datocms-assets.com/119559/1721144988-figure-markets-png.png",alt:"markets"}),e.jsx(kt,{className:"text-md font-[500]",children:"Figure Markets"})]}),ko=({rootApp:t,navigate:s,externalTitles:a=[],hiddenTitles:n=[]})=>[{title:"HOME",isExternal:a.includes("HOME"),route:()=>{wa({rootApp:t})?s("/home"):window.location.href=`${_t(!0)}/exchange/home`}},{title:"TRADE",isExternal:a.includes("TRADE"),route:()=>{wa({rootApp:t})?s("/trade"):window.location.href=`${_t(!0)}/exchange/trade`}},{title:"INVEST",isExternal:a.includes("INVEST"),route:()=>{xt({rootApp:t})?s("/invest"):window.location.href=`${_t(!0)}/c/invest`}},{title:"LEND",isExternal:a.includes("LEND"),route:()=>{wa({rootApp:t})?s("/lend"):window.location.href=`${_t(!0)}/exchange/lend`}},{title:"BORROW",isExternal:a.includes("BORROW"),route:()=>window.open(O0,"_blank")}].filter(r=>!n.map(i=>i.toLowerCase()).includes(r.title.toLowerCase())),Io=({rootApp:t,navigate:s,externalTitles:a=[],hiddenTitles:n=[]})=>[{title:"HOME",isExternal:a.includes("HOME"),route:()=>{window.location.href=`${_t(!0)}/c/home`}},{title:"TRADE",isExternal:a.includes("TRADE"),route:()=>{wa({rootApp:t})?s("/trade"):window.location.href=`${_t(!0)}/exchange/trade`}},{title:"EARN",isExternal:a.includes("EARN"),route:()=>{window.location.href=`${_t(!0)}/c/earn`}},{title:"BORROW",isExternal:a.includes("BORROW"),route:()=>{window.location.href=`${_t(!0)}/c/borrow`}},{title:"LEARN",isExternal:a.includes("LEARN"),route:()=>{window.location.href=`${_t(!0)}/c/learn`}}].filter(r=>!n.map(i=>i.toLowerCase()).includes(r.title.toLowerCase())),M0=({isAuthenticatedWithCookie:t,passportName:s,walletAddress:a,rootApp:n,exchangeLocationDropdown:r,depositButton:i,navigate:l,routeOverride:o,externalTitles:u,login:d,logout:x,hiddenTitles:m,isRexNav:f})=>{const[p,g]=c.useState(window.innerWidth),[h,b]=c.useState(!1);c.useEffect(()=>{const C=()=>g(window.innerWidth);return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),c.useEffect(()=>{window.dispatchEvent(new CustomEvent("openToggled",{detail:{open:h}}))},[h]);const j=900,y=1200;return p>j?e.jsx(T0,{open:h,setOpen:b,isAuthenticatedWithCookie:t,passportName:s,walletAddress:a,logout:x,lg:p>y,md:p>j,rootApp:n,exchangeLocationDropdown:r,depositButton:i,navigate:l,routeOverride:o,externalTitles:u,login:d,hiddenTitles:m,isRexNav:f}):e.jsx(k0,{open:h,setOpen:b,isAuthenticatedWithCookie:t,passportName:s,walletAddress:a,logout:x,rootApp:n,exchangeLocationDropdown:r,depositButton:i,navigate:l,routeOverride:o,externalTitles:u,login:d,hiddenTitles:m,isRexNav:f})},_0=()=>{const t=new URLSearchParams(window.location.search),s={};let a=!1;for(const n of t.keys())n.startsWith("utm_")&&(a=!0,s[n]=t.get(n));a&&localStorage.setItem("utm_params",JSON.stringify(s))},R0=t=>`https://${window.location.href.includes("www.")?"www.":""}figuremarkets.${t?"com":"dev"}`,F0=new Ci({defaultOptions:{queries:{refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,retry:!1}}}),Oo=c.createContext(void 0),U0=({children:t,isProd:s,apiBase:a=R0(s),client:n=F0})=>e.jsx(co,{client:n,children:e.jsx(Oo.Provider,{value:{isProd:s,apiBase:a},children:t})}),B0={NO_PROVIDER:"DappCoreProvider not found. Please import @figure-markets/dapp-core and include DappCoreProvider in your root providers."},hn=()=>{const t=c.useContext(Oo);if(!t)throw new Error(B0.NO_PROVIDER);return t},Mo=({children:t,space:s=!1,className:a,...n})=>e.jsxs("span",{...n,className:k("sr-only",a),children:[s&&" ",t]}),pl=({ariaLive:t="polite",role:s="status",statusMessage:a,...n})=>e.jsx(Mo,{"aria-live":t,role:s,as:"div",...n,children:a}),W0=({politeStatusMessage:t,assertiveStatusMessage:s})=>e.jsxs(Mo,{as:"section",id:"aria-live-region-lib",children:[e.jsx(pl,{statusMessage:t}),e.jsx(pl,{ariaLive:"assertive",role:"alert",statusMessage:s})]}),q0=c.createContext(void 0),$0=({children:t})=>{const[s,a]=c.useState(""),[n,r]=c.useState(""),i=c.useRef(),l=c.useRef();return c.useEffect(()=>{s&&(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>a(""),300)),n&&(l.current&&clearTimeout(l.current),l.current=setTimeout(()=>r(""),300))},[s,n]),e.jsxs(q0.Provider,{value:{setPoliteStatusMessage:a,setAssertiveStatusMessage:r},children:[e.jsx(W0,{politeStatusMessage:s,assertiveStatusMessage:n}),t]})},H0=e.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),e.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),e.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),_o=({title:t,desc:s,children:a,role:n,color:r,...i})=>e.jsxs("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:n??"presentation",color:r??"currentColor",...i,width:"1.4em",height:"1.4em",children:[t&&e.jsx("title",{children:t}),s&&e.jsx("desc",{children:s}),a??H0]}),_i=t=>{const{className:s,inline:a,size:n,...r}=t,{progressBarProps:i}=xd({isIndeterminate:!0,"aria-label":"Loading",...r});return e.jsx("div",{...i,className:k("flex flex-col items-center",!a&&"text-primary-500",n==="sm"?"h-4 w-4":a&&!n||n==="md"?"h-8 w-8":"h-24 w-24",s),children:e.jsx("svg",{viewBox:"0 0 50 50",className:"h-full w-full animate-spin",children:e.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentcolor",className:"animate-activity stroke-[8px]"})})})},V0={h6:"text-lg",h5:"text-xl",h4:"text-2xl",h3:"text-3xl",h2:"text-4xl",h1:"text-5xl leading-tight"},Z0=t=>{const{children:s,size:a,className:n,as:r="h1"}=t;return e.jsx(r,{className:k(V0[a??r],"font-medium font-heading",n),children:s})},G0=["p","span","i","del","u","abbr","cite","em","ins","kbd","mark","s","samp","sub","sup"],z0=t=>{const{as:s="p",children:a,className:n,...r}=t;return hd(G0.includes(s),`Text cannot be rendered as an "${s}" element`),e.jsx(s,{...r,className:k("text-base font-normal",n),children:a})},K0=c.createContext(void 0);function Y0(t){const{children:s}=t,a=lr(t),n=c.useRef(null),{overlayProps:r,triggerProps:i}=fd({type:"dialog"},a);return e.jsx(K0.Provider,{value:{state:a,overlayProps:r,triggerProps:i,focusRef:n},children:s})}const Q0=({children:t})=>e.jsx("div",{className:"isolate",children:e.jsx($0,{children:e.jsx(Y0,{children:t})})}),J0="@figure-markets/wallet-bridge",X0="1.2.8",e2="Figure Wallet Bridge",t2="UNLICENSED",s2="module",a2="./src/index.ts",n2=!1,r2={main:"./dist/index.js",typings:"./dist/src/index.d.ts",registry:"https://janus.figuremarkets.dev/repository/figure-npm/"},i2={type:"git",url:"git://github.com/figuremarkets/frontend-markets.git",directory:"modules/wallet-bridge"},l2="https://github.com/figuremarkets/frontend-markets/tree/main/modules/wallet-bridge",o2={"@walletconnect/core":"2.17.1","@walletconnect/sign-client":"2.17.1","@walletconnect/utils":"2.17.1",pino:"7.11.0",qrcode:"^1.5.4"},c2={"@figure-markets/tsconfig":"workspace:^","@figure-markets/vite-config":"workspace:^","@types/qrcode":"^1.5.5","@types/react":"^18.2.55","@walletconnect/types":"2.17.1",react:"^18.2.0"},d2={name:J0,version:X0,description:e2,license:t2,type:s2,main:a2,sideEffects:n2,publishConfig:r2,repository:i2,homepage:l2,dependencies:o2,devDependencies:c2},fn=t=>({address:t.address,isGroupAccount:t.isGroupAccount,publicKey:t.publicKey,memberAddress:t.memberAddress,memberName:t.memberName,name:t.name}),hr=t=>{const{loginMessage:s,signedLoginMessage:a,type:n,...r}=t;return{...r}},Ba={backgroundColor:"#ffffff",foregroundColor:"#000000",padding:0,showLogo:!0},u2=(t,s=Ba)=>{const a=s.backgroundColor||Ba.backgroundColor,n=s.foregroundColor||Ba.foregroundColor,r=s.padding||Ba.padding,i=typeof s.showLogo=="boolean"?s.showLogo:Ba.showLogo;return new Promise(l=>{pd.toString(t,{type:"svg",margin:r,color:{light:a,dark:n}}).then(o=>{const u=o.indexOf("</svg>"),d=o.substring(0,u)+W2+o.substring(u),x=i?d:o,m=new Blob([x],{type:"image/svg+xml"}),f=new FileReader;f.readAsDataURL(m),f.onloadend=()=>l(f.result)})})},_s=()=>window.location.host==="figuremarkets.dev"||window.location.host==="www.figuremarkets.dev"||window.location.host.includes("localhost:")||window.location.host.includes("test.")||window.location.host.includes("ephemeral.figuremarkets.dev"),Ri=async({signedLoginMessage:t,loginMessage:s,publicKey:a,accountAddress:n,groupPolicyAddress:r})=>{const i=Ro(n,"login"),l={message:s,signature:t,publicKey:a,groupPolicyAddress:r};try{const u=(await fetch(i,{method:"post",body:JSON.stringify(l),credentials:"include"})).status===200,{expirationTime:d}=JSON.parse(atob(s)),x=new Date(d).getTime(),m=Date.now(),f=r||n;return u&&x&&m&&f?{success:!0,figureAuthExp:x,figureAuthEst:m,figureAuthAddress:f}:{success:!1,error:`Failed to Figure Authenticate - figureAuthExp: ${x} | figureAuthEst: ${m} | figureAuthAddress: ${f}`}}catch(o){return{success:!1,error:`${o}`}}},pn=async t=>{const s=Ro(t,"logout");try{return await fetch(s,{method:"post",credentials:"include"}),{success:!0}}catch(a){return{success:!1,error:a}}},m2=t=>t.startsWith(Y2),Ro=(t,s="login")=>{const a=s==="login"?P2:I2,n=s==="login"?k2:O2;return m2(t)?a:n},x2=(t,s)=>{if(!s)return t;const a=new URL(t);return H2(s).forEach(n=>{const r=s[n];r&&a.searchParams.append(n,`${r}`)}),a.toString()},Fo=(t,s)=>{const a=`${jl}&${bl}=`,n=_s()?`${Wo}/connect?address=`:`${qo}/connect?address=`,r=encodeURIComponent(n);if(!t)return`${a}${r}`;const i=encodeURIComponent(t),l=x2(`${n}${i}`,s),o=encodeURIComponent(l);return`${jl}&${bl}=${o}`},ce=(t,s)=>{const{code:a,message:n,methodName:r,raw:i}=s,l=si[t],o=$o[l],u=`${r?`${r} `:""}Failed: ${n||o}`;return{success:!1,code:a??l,message:u,methodName:r,...i?{raw:i}:{}}},Ot=t=>({success:!0,message:`${t?`${t} `:""}${$o[si.SUCCESS]}`,methodName:t,code:si.SUCCESS}),h2=t=>{Fi(),f2(t)},Uo=()=>{const t=window.localStorage.getItem(Gn)||"{}";return JSON.parse(t)},f2=t=>{const s=window.localStorage.getItem(Gn)||"{}",n={...JSON.parse(s),...t},r=JSON.stringify(n);window.localStorage.setItem(Gn,r)},Fi=()=>{localStorage.removeItem(Gn)},Ui=t=>{const s=t.find(({active:u})=>u),a=t.map(u=>({...u,active:!1})),{account:n}=Uo(),{address:r,memberAddress:i}=n||{},l=r?a.find(u=>(u.type==="INDIVIDUAL"||i===u.memberAddress)&&r===u.address):void 0;if(l)l.active=!0;else if(s){const u=a.find(d=>d.type==="INDIVIDUAL"&&s.type==="INDIVIDUAL"?d.address===s.address:d.type==="GROUP"&&s.type==="GROUP"?d.address===s.address&&d.memberAddress===s.memberAddress:!1);u&&(u.active=!0)}else a[0].active=!0;return a.map(u=>{if(u.type==="GROUP"){const d=u,x=a.find(m=>m.type==="INDIVIDUAL"?m.address===d.memberAddress:!1);if(x){const{name:m,publicKey:f,signedLoginMessage:p,loginMessage:g}=x;return{...u,memberName:m,publicKey:f,signedLoginMessage:p,loginMessage:g,isGroupAccount:!0}}}return{...u,isGroupAccount:!1}})},Bi=t=>t!=null&&t.data?JSON.parse(t.data):void 0,p2=t=>{var a;const s=((a=Bi(t))==null?void 0:a.accounts)||[];return Ui(s)},Bo=t=>{const s=Object.values(t.namespaces).flatMap(r=>r.methods),a=t.peer.metadata,n=t.sessionProperties?p2(t.sessionProperties):[];return{methods:s,walletMetadata:a,accounts:n}},g2=t=>{var n;const s=((n=Bi(t))==null?void 0:n.accounts)||[],a=s.find(({active:r})=>r);if(a)if(a.type==="INDIVIDUAL"){const{loginMessage:r,signedLoginMessage:i,address:l,publicKey:o}=a;return{loginMessage:r,signedLoginMessage:i,accountAddress:l,publicKey:o,groupPolicyAddress:void 0}}else{const{memberAddress:r}=a,i=s.find(({address:l})=>l===r);if(i&&i.type==="INDIVIDUAL"){const{loginMessage:l,signedLoginMessage:o,address:u,publicKey:d}=i;return{loginMessage:l,signedLoginMessage:o,accountAddress:r,publicKey:d,groupPolicyAddress:u}}return}},gl=1e3*60*5;function j2(t,s){const a=_s()?D2:T2,n=new WebSocket(`${a}?link_id=${t}`);return new Promise((r,i)=>{s.signal.addEventListener("abort",()=>{const o="Web app rejected connection attempt";clearTimeout(l),n.close(1e3,o),i({message:o,code:3e3})});const l=setTimeout(()=>{const o=`Timeout waiting for scan (${gl}ms)`;n.close(1e3,o),i(new Error(o))},gl);n.onmessage=o=>{try{JSON.parse(o.data).used===!0&&(n.close(1e3,"LinkID already used"),clearTimeout(l),r(o.data))}catch{const u="Error parsing scan data";n.close(1e3,u),i(new Error(u))}},n.onerror=o=>{n.close(1e3,`${o}`),i(o)}})}const b2=t=>{const s={};$2.forEach(a=>{s[a]=t[a]}),h2(s)},y2="wallet_connect_dapp_origin",C2={name:"WalletConnect 2.0 Demo",description:"Dapp Demo for WalletConnect",url:"https://test.figure.com/walletconnect-demo",icons:["https://test.figure.com/walletconnect-demo/favicon.png"]},N2="wss://relay.walletconnect.com",w2={pairing_create:"pairing_create",pairing_delete:"pairing_delete",pairing_expire:"pairing_expire",pairing_ping:"pairing_ping"},v2=7*24*60*60*1e3,L2="https://www.figuremarkets.dev/service-mobile-wallet",E2="https://www.figuremarkets.com/service-mobile-wallet",S2=`${L2}/external/api/v1`,A2=`${E2}/external/api/v1`,D2="wss://www.figuremarkets.dev/service-mobile-wallet/external/ws/v1/qr-redirect",T2="wss://www.figuremarkets.com/service-mobile-wallet/external/ws/v1/qr-redirect",Ma="/v1",Wi="https://www.figuremarkets.dev/service-wallet-auth/api",qi="https://www.figuremarkets.com/service-wallet-auth/api",P2=`${Wi}${Ma}/login`,k2=`${qi}${Ma}/login`,I2=`${Wi}${Ma}/logout`,O2=`${qi}${Ma}/logout`,M2=`${Wi}${Ma}/session/status`,_2=`${qi}${Ma}/session/status`,R2=`${S2}/qr-redirect/register`,F2=`${A2}/qr-redirect/register`,U2="5f0f348828770ea9bff9a134b47f813a",B2="d67ef7069b09ab3fec3e5e69a9b7582a",Wo="https://figuremarkets.dev/mobile",qo="https://figuremarkets.com/mobile",jl="https://figuremarkets.onelink.me/Plnq?af_xp=qr&pid=QR_code",bl="deep_link_value",ei=250,ti=48,yl=-(ti/2-ei/2).toPrecision(5),W2=`
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 ${ei} ${ei}" height="100%" width="100%" stroke-width="3" stroke="#000000">
  <svg height="${ti}" width="${ti}" x="${yl}" y="${yl}" fill="none" stroke="none">
    <rect width="100%" height="100%" fill="#FFFFFF" x="0" y="0" />
    <path fill="url(#a)" fill-rule="evenodd" d="M41 7.2c1 .6 1.3 2 .6 3L28.6 31c-1.3 2-4.1 2-5.6.2l-6.3-8-6.8 11L6 31.9l7.6-12.4c1.2-2 4-2.2 5.5-.4l6.4 8.1L37.8 8c.7-1 2-1.4 3.1-.7Z" clip-rule="evenodd" shape-rendering="auto"/>
    <path fill="#121321" fill-rule="evenodd" d="M34.8 6H8.2C7 6 6 7 6 8.2v31.5C6 41 7 42 8.2 42h31.5c1.3 0 2.3-1 2.3-2.3V9.5l-4.5 7v21h-27v-27h21.8L34.8 6Z" clip-rule="evenodd"/>
    <defs>
      <linearGradient id="a" x1="-3.3" x2="63.4" y1="41" y2="18.4" gradientUnits="userSpaceOnUse">
        <stop offset=".1" stop-color="#5D57F8"/>
        <stop offset=".5" stop-color="#4DE0B5"/>
        <stop offset=".8" stop-color="#9BE839"/>
      </linearGradient>
    </defs>
  </svg>
</svg>`,q2=5e3,si={SUCCESS:2e3,UNKNOWN_ERROR:0,NO_CLIENT:4001,NO_SESSION:4002,MISSING_ACCOUNT:4003,MISSING_ACCOUNT_DATA:4004,ALREADY_ACTIVE:4005,NO_MATCHING_ACCOUNT:4006,NO_PAIRING:4007,MISSING_AUTH_DATA:4008,ALREADY_CONNECTED:4009},$o={2e3:"Success",3e3:"Connection rejected by web app",0:"Unknown Error",4001:"Wallet-Bridge not initialized, client missing",4002:"Session not connected or data missing",4003:"No account currently connected",4004:"Active account missing required data",4005:"Account is already active",4006:"Requested account not found",4007:"Pairing topic not found",4008:"Wallet failed to return valid auth data",4009:"Wallet already connected to web app"},Wa={ACCOUNT:"account",FIGURE_AUTH_ADDRESS:"figureAuthAddress",FIGURE_AUTH_EST:"figureAuthEst",FIGURE_AUTH_EXP:"figureAuthExp",IS_FIGURE_AUTH:"isFigureAuth"},$2=[Wa.ACCOUNT,Wa.FIGURE_AUTH_ADDRESS,Wa.FIGURE_AUTH_EST,Wa.FIGURE_AUTH_EXP,Wa.IS_FIGURE_AUTH],Q={AUTHENTICATE:"Figure Authentication",BROADCAST:"Broadcast",CONNECT:"Connect",DISCONNECT:"Disconnect",PAIR:"Pair",REJECT_CONNECTION:"Reject Connection",REJECT:"Reject",REMOVE_PAIRING:"Remove Pairing",RESET:"Reset",SIGN:"Sign",SWITCH_ACCOUNT:"Switch Account",SYNC:"Sync"},ai={VERBOSE:"VERBOSE",ERROR:"ERROR",NONE:"NONE"},Gn="figure-wallet-bridge",H2=Object.keys,V2="wallet-bridge-channel",Dt={START:"start",FINISH:"finish"},Cl={account:void 0,appLink:Fo(),connectionEst:void 0,connectionExp:void 0,connectionUri:void 0,connectionUriQRImage:void 0,figureAuthEst:void 0,figureAuthExp:void 0,isConnected:!1,isFigureAuth:!1,isPaired:!1,isInitialized:!1,isScanned:!1,walletMetadata:{icons:[],name:"",description:"",url:""}},Nl={accounts:[],authExpCallback:void 0,client:void 0,broadcastChannel:void 0,loggingLevel:ai.ERROR,methods:[],pairings:[],pendingMethod:void 0,projectId:_s()?B2:U2,relayerRegion:N2,session:void 0,version:d2.version},Z2=_s()?ai.VERBOSE:ai.ERROR,G2="provenance:pio-testnet-1",z2="provenance:pio-mainnet-1",Ho="provenance",Vo={PROPERTIES_CHANGED:"properties_changed"},K2=[Vo.PROPERTIES_CHANGED],Y2="tp",Qt={AUTH:"provenance_auth",BROADCAST:"provenance_broadcast",REJECT:"provenance_reject",SIGN:"provenance_sign",SYNC:"provenance_sync"},Q2=[Qt.AUTH,Qt.BROADCAST,Qt.REJECT,Qt.SIGN,Qt.SYNC],Zo=_s()?G2:z2,Go=async({stateMgmt:t,options:s={}})=>{const a=Q.AUTHENTICATE,{account:n}=t.getState(),{client:r,accounts:i,session:l}=t.getPrivateState(),o=()=>{t.setState({isFigureAuth:!1,figureAuthExp:void 0,figureAuthEst:void 0,figureAuthAddress:void 0})},u=i.find(({address:w})=>(n==null?void 0:n.address)===w);if(!u)return o(),ce("MISSING_ACCOUNT",{methodName:a});if(!r)return o(),ce("NO_CLIENT",{methodName:a});if(!l)return o(),ce("NO_SESSION",{methodName:a});const{address:d,chainId:x,customId:m,description:f="Authenticate Request",sync:p}=s,g=i.find(({address:w})=>d===w);if(d&&!g)return o(),ce("NO_MATCHING_ACCOUNT",{methodName:a});const h=g||u,b=h.memberAddress||h.address,j=x?`${h.namespace}:${x}`:`${h.namespace}:${h.chainId}`,y=h.isGroupAccount?h.address:void 0,C={accountAddress:b,customId:m,description:f,groupPolicyAddress:y,sync:p};try{const w=await r.request({chainId:j,request:{method:Qt.AUTH,params:C},topic:l.topic}),{loginMessage:N,signedLoginMessage:v}=w;if(!N||!v)return o(),ce("MISSING_AUTH_DATA",{methodName:a});const A=await Ri({accountAddress:b,publicKey:h.publicKey,loginMessage:N,signedLoginMessage:v,groupPolicyAddress:y}),{success:E}=A;if(E){const{figureAuthEst:P,figureAuthExp:L,figureAuthAddress:O}=A;return t.setState({isFigureAuth:!0,figureAuthExp:L,figureAuthEst:P,figureAuthAddress:O}),{...Ot(a),figureAuthExp:L,figureAuthEst:P,figureAuthAddress:O,isFigureAuth:!0}}else{const{error:P}=A;return o(),ce("UNKNOWN_ERROR",{methodName:a,message:JSON.stringify(P)})}}catch(w){return o(),ce("UNKNOWN_ERROR",{code:w.code,message:w.message,methodName:a,raw:w})}},J2=async({message:t,stateMgmt:s,options:a={}})=>{const n=Q.BROADCAST,{account:r}=s.getState(),{client:i,accounts:l,session:o}=s.getPrivateState(),u=l.find(({address:L,memberAddress:O})=>(r==null?void 0:r.address)===L&&r.memberAddress===O);if(!u)return ce("MISSING_ACCOUNT_DATA",{methodName:n});if(!i)return ce("NO_CLIENT",{methodName:n});if(!o)return ce("NO_SESSION",{methodName:n});const{address:d,chainId:x,customId:m,description:f="Broadcast Request",feeGranter:p,feePayer:g,gasAdjustment:h,groupAddress:b,memo:j,noWrap:y,sync:C,timeoutHeight:w}=a,N=x?`${u.namespace}:${x}`:`${u.namespace}:${u.chainId}`,v=d||u.memberAddress||u.address,A=b||u.isGroupAccount?u.address:void 0,E=Array.isArray(t)?t:[t],P={accountAddress:v,customId:m,date:Date.now(),description:f,feeGranter:p,feePayer:g,gasAdjustment:h,groupPolicyAddress:A,memo:j,messages:E,noWrap:y,sync:C,timeoutHeight:w};s.log({message:`${Q.BROADCAST} method called`,data:{message:t,options:a,broadcastParams:P}});try{const L=await i.request({chainId:N,request:{method:Qt.BROADCAST,params:P},topic:o.topic});return{...Ot(n),success:L.success,raw:L,txId:L.txId}}catch(L){return ce("UNKNOWN_ERROR",{code:L.code,message:L.message,methodName:n,raw:L})}},X2=async({options:t={},stateMgmt:s})=>{var y;const a=Q.CONNECT,{client:n,pairings:r}=s.getPrivateState(),i={code:0,message:"Connection cleanup"},l=n==null?void 0:n.pairing.getAll().filter(({active:C})=>!C),o=n==null?void 0:n.proposal.getAll();if(o==null||o.forEach(({id:C})=>n==null?void 0:n.proposal.delete(C,i)),l==null||l.forEach(({topic:C})=>{n==null||n.core.pairing.disconnect({topic:C})}),!n)return ce("NO_CLIENT",{methodName:a});if(s.getState().isConnected)return ce("ALREADY_CONNECTED",{methodName:a});const u=new AbortController;s.setPrivateState({abortController:u});const{chainIds:d,pairingTopic:x,qrOptions:m,sessionProperties:f,campaignAttributes:p}=t,g=(d==null?void 0:d.length)&&d||[Zo],h=x?r.find(({topic:C})=>C===x):void 0;if(x&&!h)return ce("NO_PAIRING",{methodName:a});const b=h||r[0],j=async C=>{const w=n.pairing.getAll({active:!0});s.setState({isPaired:w.length>0}),s.setPrivateState({pairings:w});const{accounts:N,methods:v,walletMetadata:A}=Bo(C),E=N.find(({active:B})=>B),{address:P,publicKey:L,signedLoginMessage:O,loginMessage:W,active:$,memberAddress:R,isGroupAccount:D}=E;if($&&O&&W){const _=await Ri({accountAddress:R||P,groupPolicyAddress:D?P:void 0,loginMessage:W,publicKey:L,signedLoginMessage:O}),{success:F}=_;if(F){const{figureAuthAddress:U,figureAuthEst:z,figureAuthExp:se}=_,Ee=N.map(Ve=>hr(Ve)),Ue=fn(E),He=Date.now(),Qe=C.expiry*1e3;return s.setState({account:Ue,isConnected:!0,connectionExp:Qe,connectionEst:He,walletMetadata:A,isFigureAuth:!0,figureAuthExp:se,figureAuthEst:z,figureAuthAddress:U,isPaired:w.length>0,connectionUri:void 0,connectionUriQRImage:void 0}),s.setPrivateState({accounts:Ee,pairings:w,methods:v,session:C}),{connectionEst:He,connectionExp:Qe,figureAuthEst:z,figureAuthExp:se,isFigureAuth:!0,sessionProperties:C.sessionProperties,sessionTopic:C.topic,success:!0,walletMetadata:A}}else{const{error:U}=_;return await n.disconnect({reason:{code:0,message:U},topic:C.topic}),{success:!1,isFigureAuth:!1,error:{message:U,code:0}}}}const M=`Failed to Figure Authenticate - Missing active account data - active: ${$}, signedLoginMessage: ${O}, loginMessage: ${W}`;return await n.disconnect({reason:{code:0,message:M},topic:C.topic}),{success:!1,isFigureAuth:!1,error:{message:M,code:0}}};try{const{uri:C,approval:w}=await n.connect({pairingTopic:b==null?void 0:b.topic,requiredNamespaces:{[Ho]:{events:K2,methods:Q2,chains:g}},sessionProperties:f});if(C){const A=Fo(C,p),E=_s()?R2:F2,L=await(await fetch(E,{method:"POST",body:JSON.stringify({link:A}),headers:{"Content-Type":"application/json"},signal:u.signal})).json(),O=_s()?`${Wo}/qr/${L.linkId}`:`${qo}/qr/${L.linkId}`,W=await u2(O,m);s.setState({connectionUri:O,connectionUriQRImage:W}),await j2(L.linkId,u),s.setState({isScanned:!0})}const N=await w(),v=await j(N);return v.success?{...Ot(a),...v}:(s.setState({connectionUri:void 0,connectionUriQRImage:void 0,isScanned:!1}),ce("UNKNOWN_ERROR",{code:((y=v.error)==null?void 0:y.code)||0,message:v.error.message,methodName:a,raw:v}))}catch(C){return s.setState({connectionUri:void 0,connectionUriQRImage:void 0,isScanned:!1}),ce("UNKNOWN_ERROR",{code:(C==null?void 0:C.code)||0,message:C.message,methodName:a,raw:C})}},zo=async t=>{const s=Q.DISCONNECT,{account:a,isConnected:n}=t.getState(),{client:r,session:i,pairings:l}=t.getPrivateState();if(!n)return{...Ot(s),raw:{info:"Wallet-Bridge not connected at time of disconnect."}};if(!a)return ce("MISSING_ACCOUNT",{methodName:s});if(!r)return ce("NO_CLIENT",{methodName:s});if(!i)return ce("NO_SESSION",{methodName:s});const o=async()=>{await pn(a.address);const u=l.some(d=>d.active);t.resetState(u?["isPaired","isInitialized"]:["isInitialized"]),t.resetPrivateState(["client","pairings"]),Fi()};try{const u=await r.disconnect({topic:i.topic,reason:Ni("USER_DISCONNECTED")});return await o(),{...Ot(s),raw:u}}catch(u){return await o(),ce("UNKNOWN_ERROR",{code:u.code,message:u.message,methodName:s,raw:u})}},e5=async({stateMgmt:t,uri:s})=>{const a=Q.PAIR,{client:n}=t.getPrivateState(),{isConnected:r}=t.getState();if(!n)return ce("NO_CLIENT",{methodName:a});if(r)return ce("ALREADY_CONNECTED",{methodName:a});try{const i=await n.pair({uri:s});return{...Ot(a),...i}}catch(i){return t.setState({connectionUri:void 0,connectionUriQRImage:void 0,isScanned:!1}),ce("UNKNOWN_ERROR",{code:(i==null?void 0:i.code)||0,message:i.message,methodName:a,raw:i})}},t5=async t=>{const{client:s,abortController:a}=t.getPrivateState(),n=Q.REJECT_CONNECTION;if(s){const r={code:0,message:"Connection rejected by web app"},i=s.pairing.getAll().filter(({active:o})=>!o),l=s.proposal.getAll();l==null||l.forEach(async({id:o})=>{await(s==null?void 0:s.proposal.delete(o,r))}),i==null||i.forEach(async({topic:o})=>{await s.core.pairing.disconnect({topic:o})})}return a&&(a.abort(),t.setPrivateState({abortController:void 0})),Ot(n)},s5=async({customId:t,stateMgmt:s,options:a={}})=>{const n=Q.REJECT,{account:r}=s.getState(),{client:i,accounts:l,session:o}=s.getPrivateState(),u=l.find(({address:m})=>(r==null?void 0:r.address)===m);if(!u)return ce("MISSING_ACCOUNT",{methodName:n});if(!i)return ce("NO_CLIENT",{methodName:n});if(!o)return ce("NO_SESSION",{methodName:n});const{chainId:d=u.chainId}=a,x=a!=null&&a.chainId?`${u.namespace}:${d}`:`${u.namespace}:${u.chainId}`;try{const m=await i.request({chainId:x,request:{method:Qt.REJECT,params:{requestId:t,customId:null}},topic:o.topic});return m.found?{...Ot(n),raw:m}:ce("UNKNOWN_ERROR",{message:m.message,methodName:n,raw:m})}catch(m){return ce("UNKNOWN_ERROR",{code:m.code,message:m.message,methodName:n,raw:m})}},a5=async(t,s)=>{const a=Q.REMOVE_PAIRING,{client:n,pairings:r,session:i}=s.getPrivateState();if(!n)return ce("NO_CLIENT",{methodName:a});await n.core.pairing.disconnect({topic:t}),i&&i.pairingTopic===t&&await n.disconnect({topic:i.topic,reason:Ni("USER_DISCONNECTED")});const l=r.filter(({topic:u})=>t!==u),o=l.length>0;return s.setState({isPaired:o}),s.setPrivateState({pairings:l}),Ot(a)},n5=async t=>{const s=Q.RESET,{account:a}=t.getState(),{client:n}=t.getPrivateState();if(!n)return ce("NO_CLIENT",{methodName:s});const r=n.pairing.getAll();for(const l of r)await n.core.pairing.disconnect({topic:l.topic});const i=n.session.getAll();for(const l of i)await n.disconnect({topic:l.topic,reason:Ni("USER_DISCONNECTED")});return a!=null&&a.address&&await pn(a.address),t.resetState(),t.resetPrivateState(),Ot(s)},r5=async({message:t,stateMgmt:s,options:a={}})=>{const n=Q.SIGN,{account:r}=s.getState(),{client:i,accounts:l,session:o}=s.getPrivateState(),u=l.find(({address:C})=>(r==null?void 0:r.address)===C);if(!u)return ce("MISSING_ACCOUNT",{methodName:n});if(!i)return ce("NO_CLIENT",{methodName:n});if(!o)return ce("NO_SESSION",{methodName:n});const{address:d,chainId:x,customId:m,description:f="Sign Request",sync:p,isBase64:g}=a,h=d||u.memberAddress||u.address,b=x?`${u.namespace}:${x}`:`${u.namespace}:${u.chainId}`,j=g?t:btoa(t),y={accountAddress:h,base64Bytes:j,customId:m,description:f,sync:p};try{const C=await i.request({chainId:b,request:{method:Qt.SIGN,params:y},topic:o.topic});return{...Ot(n),base64Signature:C.base64Signature,raw:C}}catch(C){return ce("UNKNOWN_ERROR",{code:C.code,message:C.message,methodName:n,raw:C})}},i5=async(t,s,a={})=>{const n=Q.SWITCH_ACCOUNT,{account:r}=s.getState(),{accounts:i}=s.getPrivateState(),{targetMemberAddress:l,sync:o}=a;if(!r)return ce("MISSING_ACCOUNT",{methodName:n});if(t===r.address&&l===r.memberAddress)return ce("ALREADY_ACTIVE",{methodName:n});const u=i.find(({address:d,memberAddress:x})=>l?d===t&&x===l:d===t);if(u){const d=fn(u),x=i.map(p=>({...p}));x.find(({active:p})=>p).active=!1,x.find(({address:p})=>p===t).active=!0;const m={...Ot(n),activeAccount:d};let f={};return f=await Go({options:{address:d.address,sync:o},stateMgmt:s}),f.success&&(s.setState({account:d}),s.setPrivateState({accounts:x})),{...f,...m}}return ce("NO_MATCHING_ACCOUNT",{methodName:n})},l5=async t=>{const{account:s}=t.getState(),{client:a,session:n,accounts:r}=t.getPrivateState(),i=r.find(({address:o})=>(s==null?void 0:s.address)===o),l=Q.SYNC;if(!i)return ce("MISSING_ACCOUNT",{methodName:l});if(!a)return ce("NO_CLIENT",{methodName:l});if(!n)return ce("NO_SESSION",{methodName:l});try{const o=await a.request({chainId:`${i.namespace}:${i.chainId}`,request:{method:Qt.SYNC,params:null},topic:n.topic});if(o){const u={data:JSON.stringify(o.properties)},d=a.session.get(n.topic);await a.session.update(d.topic,{sessionProperties:u})}if(o.properties.accounts){const u=Ui(o.properties.accounts),d=u.find(({active:f})=>f),x=fn(d),m=u.map(f=>hr(f));t.setState({account:x}),t.setPrivateState({accounts:m})}return{...Ot(l),raw:o}}catch(o){return ce("UNKNOWN_ERROR",{code:o.code,message:o.message,methodName:l,raw:o})}},o5=async({stateMgmt:t,sessionProperties:s})=>{const{client:a,pairings:n}=t.getPrivateState();if(a){await Ko({client:a,stateMgmt:t});const r=g2(s);if(r){const{accountAddress:i,loginMessage:l,publicKey:o,signedLoginMessage:u,groupPolicyAddress:d}=r,x=await Ri({accountAddress:i,groupPolicyAddress:d,loginMessage:l,publicKey:o,signedLoginMessage:u}),{success:m}=x;if(m){const{figureAuthAddress:f,figureAuthEst:p,figureAuthExp:g}=x;t.setState({isFigureAuth:!0,figureAuthExp:g,figureAuthEst:p,figureAuthAddress:f})}else{const{error:f}=x;await a.disconnect({reason:{code:0,message:`Failed to Figure Authenticate - ${f}`},topic:n[0].topic})}}}},c5=async(t,s,a)=>{const{params:n,topic:r}=t,{event:i}=n,l=a.session.get(r);if(i.name===Vo.PROPERTIES_CHANGED){const{accounts:o=[]}=i.data,u=Ui(o),d=u.find(({active:p})=>p),x=fn(d),m=u.map(p=>hr(p));s.setState({account:x}),s.setPrivateState({accounts:m});const f={data:JSON.stringify(i.data)};await a.session.update(l.topic,{sessionProperties:f})}},d5=async(t,s)=>{const{accounts:a,methods:n,walletMetadata:r}=Bo(t),i=a.find(({active:x})=>x),l=a.map(x=>hr(x)),o=fn(i),u=t.expiry*1e3,d=u-v2;s.setState({account:o,connectionEst:d,connectionExp:u,isConnected:!0,walletMetadata:r}),s.setPrivateState({methods:n,accounts:l,session:t})},u5=async(t,s)=>{for(const a in yd)t.on(a,async n=>{const{account:r}=s.getState(),{pairings:i}=s.getPrivateState();switch(s.log({message:`client | ${a} | eventData: `,data:n,forceShow:a==="session_delete"}),a){case"session_delete":{r&&await pn(r.address);const l=i.some(o=>o.active);s.resetState(l?["isPaired","isInitialized"]:["isInitialized"]),s.resetPrivateState(["client","pairings"]);break}case"session_event":{await c5(n,s,t);break}case"session_proposal":{const{id:l,params:o}=n,{requiredNamespaces:u,sessionProperties:d}=o,{events:x,methods:m,chains:f}=u[Ho],p=Bi(d),h=((p==null?void 0:p.accounts)||[]).map(({namespace:y,chainId:C,address:w})=>`${y}:${C}:${w}`),b={[Zo]:{accounts:h,events:x,methods:m,chains:f}};(await t.approve({id:l,namespaces:b,sessionProperties:o.sessionProperties})).topic&&await o5({stateMgmt:s,sessionProperties:d});break}}});for(const a in w2)t.core.pairing.events.on(a,async n=>{switch(s.log({message:`client | pairing | ${a} | eventData: `,data:n}),a){case"pairing_expire":case"pairing_delete":{const{pairings:r}=s.getPrivateState(),{topic:i}=n,l=r.filter(({topic:u})=>i!==u),o=l.length>0;s.setState({isPaired:o}),s.setPrivateState({pairings:l})}}})},Ko=async({client:t,stateMgmt:s,session:a})=>{if(s.setPrivateState({pairings:t.pairing.getAll({active:!0})}),s.setState({isPaired:t.pairing.getAll({active:!0}).length>0}),typeof a<"u")return a;if(t.session.length){const n=t.session.keys.length-1,r=t.session.get(t.session.keys[n]);return await d5(r,s),r}return a},Yo=async t=>{const{relayerRegion:s,projectId:a}=t.getPrivateState();try{const n=localStorage.getItem(y2)||window.origin,r=await bd.init({relayUrl:s,projectId:a,logger:gd({level:"silent"}),metadata:{...jd()||C2,url:n}});await u5(r,t);const i=await Ko({client:r,stateMgmt:t});t.setPrivateState({client:r,session:i})}catch(n){t.log({isError:!0,message:"Wallet-Bridge | Connection Resume Error: ",data:n})}},m5=async(t,s)=>{const{success:a}=s||{};if(a&&(t.localStorageToState(),await Yo(t),!t.getPrivateState().client)){const{figureAuthAddress:n}=t.getState();n&&(t.log({message:"handleConnect success, but missing signClient. Logging out.",data:s,forceShow:!0}),await pn(n)),t.resetState(),t.resetPrivateState();return}},x5=async(t,s)=>{s!=null&&s.success&&await zo(t)},h5=async(t,s)=>{const{success:a,activeAccount:n,figureAuthExp:r,figureAuthAddress:i,figureAuthEst:l}=s||{};a&&t.setState({account:n,figureAuthAddress:i,figureAuthEst:l,figureAuthExp:r,isFigureAuth:!0})},f5=async(t,s)=>{const{eventData:a,eventName:n}=s;switch(n){case Q.CONNECT:{await m5(t,a);break}case Q.DISCONNECT:{await x5(t,a);break}case Q.SWITCH_ACCOUNT:{await h5(t,a);break}}},p5=async t=>{const s=new BroadcastChannel(V2),a=async n=>{n.isTrusted&&await f5(t,n.data)};s.onmessage=a,t.setPrivateState({broadcastChannel:s})},Tt=(t,s)=>{t&&s&&t.postMessage(s)};var Ae,va,ln,on,it,jt,ta,we,cn,dn,un,Je,sa,mn,Jn;class g5{constructor(){be(this,Ae,Nl);je(this,"state",Cl);be(this,va,async()=>{if(S(this,on).call(this),await p5(S(this,Je)),await Yo(S(this,Je)),!S(this,Ae).client){this.state.figureAuthAddress&&(S(this,it).call(this,{message:"#initialized failed to create SignClient - Logging out.",isError:!0}),await pn(this.state.figureAuthAddress)),S(this,cn).call(this),S(this,dn).call(this);return}window.walletBridge=window.walletBridge||{getPrivateState:S(this,un),getState:this.getState,sign:async()=>await this.sign("test"),version:S(this,Ae).version},this.state.isConnected||Fi(),await S(this,ln).call(this),S(this,ta).call(this,{isInitialized:!0},!1)});be(this,ln,async()=>{const s=async()=>{var r;const n=Date.now();if((r=S(this,Ae).session)!=null&&r.expiry){const i=S(this,Ae).session.expiry*1e3,l=n>i||n>(this.state.connectionExp||0);if(this.state.isConnected&&(l||!this.state.figureAuthExp)){await this.disconnect(`#initializeTimer | ${l?"Session expired":""}${this.state.figureAuthExp?"":"No Figure Auth"}`);return}}if(this.state.isConnected&&!this.state.isFigureAuth){const i=S(this,Ae).pendingMethod;if(i!==Q.CONNECT&&i!==Q.AUTHENTICATE&&i!==Q.DISCONNECT&&i!==Q.SWITCH_ACCOUNT){await this.disconnect("#initializeTimer | Not figure authenticated");return}}if(this.state.figureAuthExp&&n>this.state.figureAuthExp){await this.disconnect("#initializeTimer | Figure auth expired");return}if(this.state.isFigureAuth&&this.state.figureAuthExp&&n<this.state.figureAuthExp){const i=_s()?M2:_2;try{if((await window.fetch(i,{credentials:"include",headers:{"Content-Type":"application/json"}})).status===200)return;await this.disconnect("#initializeTimer | Figure auth heartbeat non 200");return}catch{await this.disconnect("#initializeTimer | Figure auth heartbeat unknown error");return}}};await s();const a=window.setInterval(async()=>{const n=[Q.DISCONNECT,Q.SWITCH_ACCOUNT,Q.CONNECT];(S(this,Ae).pendingMethod?n.some(i=>S(this,Ae).pendingMethod===i):!0)&&await s()},q2);S(this,we).call(this,{initializationLoop:a})});be(this,on,()=>{const s=Uo();S(this,ta).call(this,s,!1)});be(this,it,({isError:s=!1,message:a,data:n,forceShow:r})=>{const i=S(this,Ae).loggingLevel,l="wallet-bridge |",o=`${new Date(Date.now()).toLocaleDateString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})} |`,u=[l,o];s&&(i==="VERBOSE"||i==="ERROR")?console.error(...u,a,n||""):i==="VERBOSE"?console.log(...u,a,n||""):r&&console.log(...u,a,n||"")});be(this,jt,s=>{Tt(S(this,Ae).broadcastChannel,{eventName:s.methodName,eventData:s,eventState:Dt.FINISH});const a=s.code===3e3;return S(this,it).call(this,{isError:a?!1:!s.success,message:`${s.methodName} result: `,data:s}),s});be(this,ta,(s,a=!0)=>{this.state={...this.state,...s},S(this,mn).call(this),a&&b2(this.state)});be(this,we,s=>{nt(this,Ae,{...S(this,Ae),...s})});be(this,cn,(s=[])=>{const a={};s.forEach(r=>{a[r]=this.state[r]});const n={...Cl,...a};S(this,ta).call(this,n)});be(this,dn,(s=[])=>{const a=["loggingLevel","authExpCallback","projectId","broadcastChannel"],n={};a.concat(s).forEach(l=>{n[l]=S(this,Ae)[l]});const i={...Nl,...n};S(this,we).call(this,i)});je(this,"getState",()=>this.state);be(this,un,()=>S(this,Ae));je(this,"privateData",()=>({privateState:{...S(this,Ae)},privateMethods:{initialize:S(this,va),removePairing:S(this,Jn),setWalletBridgeContext:S(this,sa),stateMgmt:S(this,Je),updateContext:S(this,mn)}}));be(this,Je,{getPrivateState:S(this,un),getState:this.getState,localStorageToState:S(this,on),log:S(this,it),resetPrivateState:S(this,dn),resetState:S(this,cn),setPrivateState:S(this,we),setState:S(this,ta)});be(this,sa,void 0);be(this,mn,()=>{S(this,sa)&&S(this,sa).call(this,{...this.state})});be(this,Jn,async s=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.REMOVE_PAIRING,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.REMOVE_PAIRING} method called`,data:{pairingTopic:s}});const a=await a5(s,S(this,Je));return S(this,jt).call(this,a)});je(this,"switchAccount",async(s,a)=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.SWITCH_ACCOUNT,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.SWITCH_ACCOUNT} method called`,data:{targetAddress:s,options:a}}),S(this,we).call(this,{pendingMethod:Q.SWITCH_ACCOUNT});const n=await i5(s,S(this,Je),a);return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,n)});je(this,"connect",async s=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.CONNECT,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.CONNECT} method called`,data:{options:s}}),S(this,we).call(this,{pendingMethod:Q.CONNECT});const a=await X2({options:s,stateMgmt:S(this,Je)});return S(this,we).call(this,{pendingMethod:void 0}),a.success&&await S(this,ln).call(this),S(this,jt).call(this,a)});je(this,"pair",async s=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.PAIR,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.PAIR} method called`,data:{uri:s}}),S(this,we).call(this,{pendingMethod:Q.PAIR});const a=await e5({uri:s,stateMgmt:S(this,Je)});return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,a)});je(this,"rejectConnection",async()=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.REJECT_CONNECTION,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.REJECT_CONNECTION} method called`}),S(this,we).call(this,{pendingMethod:Q.REJECT_CONNECTION});const s=await t5(S(this,Je));return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,s)});je(this,"disconnect",async s=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.DISCONNECT,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.DISCONNECT} method called`,data:{trace:s},isError:!!s,forceShow:!0}),S(this,Ae).initializationLoop&&(clearInterval(S(this,Ae).initializationLoop),S(this,we).call(this,{initializationLoop:void 0})),S(this,we).call(this,{pendingMethod:Q.DISCONNECT});const a=await zo(S(this,Je));return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,a)});je(this,"sign",async(s,a)=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.SIGN,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.SIGN} method called`,data:{message:s,options:a}}),S(this,we).call(this,{pendingMethod:Q.SIGN});const n=await r5({message:s,stateMgmt:S(this,Je),options:a});return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,n)});je(this,"reject",async(s,a)=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.REJECT,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.REJECT} method called`,data:{customId:s,options:a}}),S(this,we).call(this,{pendingMethod:Q.REJECT});const n=await s5({customId:s,options:a,stateMgmt:S(this,Je)});return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,n)});je(this,"broadcast",async(s,a)=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.BROADCAST,eventState:Dt.START}),S(this,we).call(this,{pendingMethod:Q.BROADCAST});const n=await J2({message:s,options:a,stateMgmt:S(this,Je)});return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,n)});je(this,"authenticate",async s=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.AUTHENTICATE,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.AUTHENTICATE} method called`,data:{options:s}}),S(this,we).call(this,{pendingMethod:Q.AUTHENTICATE});const a=await Go({options:s,stateMgmt:S(this,Je)});return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,a)});je(this,"reset",async()=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.RESET,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.RESET} method called`,forceShow:!0}),S(this,we).call(this,{pendingMethod:Q.RESET});const s=await n5(S(this,Je));return S(this,we).call(this,{pendingMethod:void 0}),await S(this,va).call(this),S(this,jt).call(this,s)});je(this,"sync",async()=>{Tt(S(this,Ae).broadcastChannel,{eventName:Q.SYNC,eventState:Dt.START}),S(this,it).call(this,{message:`${Q.SYNC} method called`}),S(this,we).call(this,{pendingMethod:Q.SYNC});const s=await l5(S(this,Je));return S(this,we).call(this,{pendingMethod:void 0}),S(this,jt).call(this,s)});S(this,va).call(this)}contextLinkInit({updateFunction:s,projectId:a,authExpCallback:n,loggingLevel:r}){nt(this,sa,s),a&&S(this,we).call(this,{projectId:a}),n&&S(this,we).call(this,{authExpCallback:n}),S(this,we).call(this,{loggingLevel:r})}}Ae=new WeakMap,va=new WeakMap,ln=new WeakMap,on=new WeakMap,it=new WeakMap,jt=new WeakMap,ta=new WeakMap,we=new WeakMap,cn=new WeakMap,dn=new WeakMap,un=new WeakMap,Je=new WeakMap,sa=new WeakMap,mn=new WeakMap,Jn=new WeakMap;const Qo=c.createContext(void 0),Dr=new g5,j5=({children:t,projectId:s,authExpCallback:a,loggingLevel:n=Z2})=>{const[r,i]=c.useState({...Dr.state}),[l,o]=c.useState(!0);return c.useEffect(()=>{l&&(o(!1),Dr.contextLinkInit({updateFunction:i,projectId:s,authExpCallback:a,loggingLevel:n}))},[l,s,a,n]),e.jsx(Qo.Provider,{value:{walletBridgeService:Dr,walletBridgeState:r},children:t})},Nt=()=>{const t=c.useContext(Qo);if(t===void 0)throw new Error("useWalletBridge must be used within a WalletBridgeContextProvider");return t},ni=new Ci({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1,staleTime:1e4}}}),Rs={LRWA:"LRWA",USD:"USD",USDC:"USDC"},$i="figure.qp.506b.passport.pb",js=window.location.host==="www.figuremarkets.com"||window.location.host==="figuremarkets.com",Jo=window.location.host.startsWith("localhost:"),b5=window.location.host.includes("ephemeral.figuremarkets.dev");window.location.host.includes("figuremarkets.com");const ke=js?"https://www.figuremarkets.com":"https://www.figuremarkets.dev",ri=js?"https://www.figuremarkets.com":"https://www.figuremarkets.dev",In=5e3,y5="hasDismissedLRWASweepModal",ii="localeCode",C5=3e5,ye={ROOT:"/",NOT_FOUND:"/not-found",PORTFOLIO:"/portfolio",HISTORY:"/portfolio/history",TRADE:"/trade",ATS:"/ats",COMMIT:"/commit",AIRDROP:"/airdrop",FTX_CLAIM_OFFER:"/ftx-claim-offer",CREDENTIAL_TRANSFER_REDIRECT:"/credential-transfer-redirect",PLAYGROUND:"/playground",ONBOARDING:"/onboarding",AUTH_REDIRECT:"/auth-redirect",HOME:"/home",LEGACY_HOME:"/v1/home",LEND:"/lend",LEND_LEARN:"/lend/learn"},re={root:()=>ye.ROOT,portfolio:()=>ye.PORTFOLIO,history:t=>`${ye.HISTORY}${t?`#${t}`:""}`,home:(t,s)=>`${ye.LEGACY_HOME}${t?`/${t}${s?`/${s}`:""}`:""}`,trade:(t,s)=>`${ye.TRADE}${t?`/${t}`:""}${s?`#${s}`:""}`,ats:(t,s)=>`${ye.ATS}${t?`/${t}`:""}${s?`#${s}`:""}`,lend:()=>ye.LEND,lendLearn:()=>ye.LEND_LEARN};function Xo(t){return["position","orders","fills"].includes(t)}const Is="openLRWAModal",ec="lrwaModalStep",N5="isUserTriggerEnableModalOpen",tc=()=>js?"wss://www.figuremarkets.com":"wss://www.figuremarkets.dev",w5=()=>js?"https://www.figuremarkets.com":"https://www.figuremarkets.dev",v5="/api/v1",sc="/service-hft-exchange-websocket",L5="/service-hft-exchange",E5=`${tc()}${sc}/ws/v1`,S5=`${tc()}${sc}/secure/ws/v1`,A5=`${w5()}${L5}`,D5=`${A5}${v5}`,T5="jwt",P5=["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"],I=t=>t?xl(t):xl(0),ac=(t,s)=>{var n;const a=(n=t==null?void 0:t.cashEquivalentPositions)==null?void 0:n.find(r=>r.denom===s);return a?I(a.tradingPower).toNumber():0},k5=new RegExp(/(-)?P(?:([.,\d]+)Y)?(?:([.,\d]+)M)?(?:([.,\d]+)W)?(?:([.,\d]+)D)?T(?:([.,\d]+)H)?(?:([.,\d]+)M)?(?:([.,\d]+)S)?/),Ya=t=>{const s=gs().add(7,"day");return!(t&&gs(t).isAfter(s))},I5=t=>{if(!t)return 0;const s=rc(t);return s?Nd(s):0},nc=t=>{if(!t)return"";const s=rc(t);return s?Cd(s):"N/A"},rc=t=>{const s=t.match(k5);if(s)return{years:s[2]===void 0?0:Number(s[2]),months:s[3]===void 0?0:Number(s[3]),weeks:s[4]===void 0?0:Number(s[4]),days:s[5]===void 0?0:Number(s[5]),hours:s[6]===void 0?0:Number(s[6]),minutes:s[7]===void 0?0:Number(s[7]),seconds:s[8]===void 0?0:Number(s[8])}},ct=(t,s)=>{if(t===null)return s;const{status:a,data:n}=t||{},r=n==null?void 0:n.errors,i=a===401;let l="Something went wrong. Please try again.";if(r&&r[0])try{const o=JSON.parse(r[0]);typeof o.message=="string"&&(l=o.message)}catch{l=r[0]}return i&&(l="Wallet Disconnected"),l};var ot=(t=>(t[t.Limit=1]="Limit",t[t.Market=2]="Market",t[t.Stop=3]="Stop",t[t.StopLimit=4]="StopLimit",t))(ot||{}),as=(t=>(t[t.Buy=1]="Buy",t[t.Sell=-1]="Sell",t))(as||{}),vt=(t=>(t[t.ALLOW_TAKER=1]="ALLOW_TAKER",t[t.MAKER_ONLY=2]="MAKER_ONLY",t))(vt||{}),Ct=(t=>(t[t.ONE_D=1]="ONE_D",t[t.ONE_W=2]="ONE_W",t[t.ONE_M=3]="ONE_M",t))(Ct||{}),Re=(t=>(t[t.TIME_IN_FORCE_GOOD_TILL_CANCEL=1]="TIME_IN_FORCE_GOOD_TILL_CANCEL",t[t.GOOD_TILL_TIME=2]="GOOD_TILL_TIME",t[t.IMMEDIATE_OR_CANCEL=3]="IMMEDIATE_OR_CANCEL",t[t.TIME_IN_FORCE_FILL_OR_KILL=4]="TIME_IN_FORCE_FILL_OR_KILL",t[t.DAY=5]="DAY",t))(Re||{}),ya=(t=>(t[t.ALL_ORDERS=0]="ALL_ORDERS",t[t.OPEN=1]="OPEN",t[t.FILLED=2]="FILLED",t[t.CANCELED=3]="CANCELED",t))(ya||{});const Ca=t=>t.direction==="ASK",ra=t=>t===as.Sell,Fs=t=>t===as.Buy,ic=t=>t===ot.Limit,It=t=>t===ot.Market,gn=t=>t===ot.StopLimit,lc=t=>{switch(t){case ot.Limit:return"LIMIT";case ot.Market:return"MARKET";case ot.StopLimit:return"STOP_LIMIT";default:return"LIMIT"}},O5=(t,s)=>{if(!It(t))switch(s){case vt.ALLOW_TAKER:return"ALLOW_TAKER";case vt.MAKER_ONLY:return"MAKER_ONLY";default:return}},M5=t=>{switch(t){case Re.TIME_IN_FORCE_GOOD_TILL_CANCEL:return"TIME_IN_FORCE_GOOD_TILL_CANCEL";case Re.GOOD_TILL_TIME:return"GOOD_TILL_TIME";case Re.DAY:return"DAY";case Re.TIME_IN_FORCE_FILL_OR_KILL:return"TIME_IN_FORCE_FILL_OR_KILL";case Re.IMMEDIATE_OR_CANCEL:return"IMMEDIATE_OR_CANCEL";default:return}},_5=(t,s)=>{if(t!==Re.GOOD_TILL_TIME)return;const a=new Date;switch(s){case Ct.ONE_D:return new Date(a.setDate(a.getDate()+1)).toISOString();case Ct.ONE_W:return new Date(a.setDate(a.getDate()+7)).toISOString();case Ct.ONE_M:return new Date(a.setMonth(a.getMonth()+1)).toISOString();default:return}},oc=(t,s)=>I(t).mul(I(s)),li=(t,s,a)=>I(t||0).mul(I(s||0)).mul(I(a||0)),cc=(t,s,a,n)=>{if(!n)return;const r=oc(t,s),i=li(t,s,a||0).toFixed(2);if(Fs(n))return r.plus(i);if(ra(n))return r.minus(i);throw Error("Cannot calculate total with fees without order type")},fr=Object.keys,Lt=()=>{const{userAgent:t}=navigator,s=t&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),a=window.matchMedia("only screen and (max-width: 760px)").matches,n="ontouchstart"in document.documentElement;return!!s&&a&&n};function R5(t){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(t)}function F5(t){return ia(t)||Da(t)}function ca(t){return(t==null?void 0:t.currentStep)==="UNIVERSAL_PASSPORT"&&t.requiredPassportLevel!==$i}function Hi(t){return(t==null?void 0:t.currentStep)==="UNIVERSAL_PASSPORT"&&t.requiredPassportLevel===$i}function da(t){return(t==null?void 0:t.currentStep)==="FIAT_ACCOUNT_CREATED"}function Qa(t){return(t==null?void 0:t.currentStep)==="EXCHANGE_CONSENT"}function ia(t){return(t==null?void 0:t.currentStep)==="FUND_ACCOUNT"}function Da(t){return(t==null?void 0:t.currentStep)==="ORDERS"}function Vi(t){return ca(t)&&["PENDING","VALID_PENDING"].includes(String(t.kycStatus))}const U5=t=>ca(t)&&["IN_PROGRESS","VALID_IN_PROGRESS","AWAITING_EOS","VALID_AWAITING_EOS"].includes(String(t.kycStatus));function B5(t){return(t==null?void 0:t.currentStep)==="ALLOWED_TO_TRADE_ON_EXCHANGE"}function Ja(t){return B5(t)&&t.isPassportAddressBlocked}function pr(t){return(t==null?void 0:t.currentStep)==="BROKER_DEALER"}const oi=[{type:"UNIVERSAL_PASSPORT",requiredLevel:"figure.kyc.passport.pb",requiresKycApproval:!1},{type:"EXCHANGE_CONSENT",consentType:"TRADING"},{type:"ALLOWED_TO_TRADE_ON_EXCHANGE"},{type:"FIAT_ACCOUNT_CREATED",requireActivation:!1,skipForInternational:!0},{type:"UNIVERSAL_PASSPORT",requiredLevel:"figure.kyc.passport.pb",requiresKycApproval:!0},{type:"FIAT_ACCOUNT_CREATED",requireActivation:!0,skipForInternational:!0},{type:"FUND_ACCOUNT",requiresKycApproval:!0},{type:"ORDERS",requiresKycApproval:!0}],W5=[{type:"UNIVERSAL_PASSPORT",requiredLevel:"figure.kyc.passport.pb",requiresKycApproval:!1},{type:"EXCHANGE_CONSENT",consentType:"TRADING"},{type:"ALLOWED_TO_TRADE_ON_EXCHANGE"},{type:"FIAT_ACCOUNT_CREATED",requireActivation:!1,skipForInternational:!0},{type:"UNIVERSAL_PASSPORT",requiredLevel:"figure.kyc.passport.pb",requiresKycApproval:!0},{type:"FIAT_ACCOUNT_CREATED",requireActivation:!0,skipForInternational:!0},{type:"BROKER_DEALER"}],dc=t=>ca(t==null?void 0:t.currentStep)||Hi(t==null?void 0:t.currentStep)?"":da(t==null?void 0:t.currentStep)?"Enable Deposits":Qa(t==null?void 0:t.currentStep)?"Review":ia(t==null?void 0:t.currentStep)?"Fund Account":Da(t==null?void 0:t.currentStep)?"Trade Crypto":pr(t==null?void 0:t.currentStep)?"Review Terms":"Loading...",uc=t=>{var s,a;return Vi(t==null?void 0:t.currentStep)?{title:"Pending Identity Verification",message:"Verification can take 1-3 business days, and you’ll be able to trade once approved",shortMessage:"Your account is pending identity verification"}:ca(t==null?void 0:t.currentStep)?{title:"Verify Your Identity",message:"Use your Figure Markets mobile app to continue the sign up process to enable deposits, withdrawals, and trading. It only takes couple of minutes.",shortMessage:"Verify your identity on your Figure Markets mobile app to start trading"}:da(t==null?void 0:t.currentStep)?{title:"Enable USD deposits and withdrawal",message:"Unlock USD movement on and off the exchange through ACH or wires transfer.",shortMessage:"Enable USD deposits and withdrawal"}:Qa(t==null?void 0:t.currentStep)?{title:"Accept Terms and Conditions",message:"Before you can start trading, you’ll need to review and agree to the Cryptocurrency Exchange Terms & Conditions",shortMessage:"Before you can start trading, you’ll need to review and agree to the Cryptocurrency Exchange Terms & Conditions"}:Ja(t==null?void 0:t.currentStep)?{title:`Figure Exchange is currently unavailable${(s=t==null?void 0:t.currentStep)!=null&&s.blockedRegion?` for ${(a=t==null?void 0:t.currentStep)==null?void 0:a.blockedRegion} residents`:""}`,message:"Please check back later",shortMessage:"Please check back later"}:ia(t==null?void 0:t.currentStep)?{title:"Fund Your Account Today",message:"Begin your wealth building journey!",shortMessage:""}:Da(t==null?void 0:t.currentStep)?{title:"Congrats! We Received Your Deposit",message:"Use your assets to trade now",shortMessage:""}:pr(t==null?void 0:t.currentStep)?{title:"Accept Terms and Conditions",message:"Before you can start trading, you’ll need to review and agree to the Figure Securities (ATS) Terms & Conditions",shortMessage:""}:{title:"",message:"Loading...",shortMessage:""}},q5=t=>{switch(t){case"LIMIT":return"Limit";case"MARKET":return"Market";case"STOP_LIMIT":return"Stop Limit";default:return"Limit"}},gr=(t="0",s="0",a=2)=>{try{if(t==="0")return Number(s);if(s==="0")return Number(t);const n=I(t).add(I(s));return Number(n.div(2).toNumber().toFixed(a))}catch{return console.warn("Unable to calculate mid market"),0}},ht=()=>({value:0,display:""}),jn=t=>{const s=Wt(t);return isNaN(Number(s))?0:Number(s)},Us=t=>{const s=Wt(t);return{value:Number(s),display:s}},Zi="-",Jt=(t,s)=>I(Wt(oa({round:s??2})(I(t).toNumber()))).toNumber(),Ta=(t,s)=>I(Wt(oa({truncate:s??2})(I(t).toNumber()))).toNumber(),ps=(t,s)=>oa({round:s??2,padRight:s??2})(I(t).toNumber()),xe=(t,s=!1,a=!0,n,r)=>{if(t==="--")return t;const i=I(t).toFixed(n);return s?oa({suffix:r?` ${r}`:" USD",round:a?n??2:void 0,padRight:n??2})(Number(i)):oa({round:0,padRight:0,suffix:r?` ${r}`:" USD"})(Number(i))},Xa=(t,s)=>{const a=typeof t=="string"?parseFloat(t):t;return a!==void 0&&!Number.isNaN(a)?Number(a/100).toLocaleString(void 0,{style:"percent",minimumFractionDigits:s??2}):Zi},Oe=(t,s)=>{const a=typeof t=="string"?parseFloat(t):t,n=I(a).mul(100).toNumber();return a!==void 0&&!Number.isNaN(a)?`${oa({truncate:s??2,padRight:s??2})(Number(n))}%`:Zi},he=(t,s,a)=>{const n=s&&s<0?void 0:s;return t||a&&t!==void 0?new Intl.NumberFormat("en-US",{maximumFractionDigits:n||2,minimumFractionDigits:n===2?2:0}).format(Number(t)):""},Wt=t=>String(t).replace(/,/g,""),Gi=t=>{const s=t.toString().indexOf(".");return s>=0?t.toString().length-s-1:0},St=(t,s=1,a={})=>{if(t==null||t===""||t==="--")return Zi;const n=I(t);if(a.shorthand){let l="",o=n;const u=1e12,d=1e9,x=1e6,m=1e3;return n.gt(u)?(l="T",o=n.div(u)):n.gt(d)?(l="B",o=n.div(d)):n.gt(x)?(l="M",o=n.div(x)):n.gt(m)&&(l="K",o=n.div(m)),`${Number(o).toLocaleString("en-US",a.minDigits?{minimumFractionDigits:s}:{maximumFractionDigits:s>0?s:0})}${l}`}const r=typeof t=="string"?Number(t):t,i={};return typeof s=="number"&&s>=0&&(a.minDigits?(i.maximumFractionDigits=s,i.minimumFractionDigits=s):i.maximumFractionDigits=s),r.toLocaleString("en-US",{...i,...a})};function mc(t){return typeof t=="object"&&"value"in t}const xc=(t,s)=>{const a=Number(t?s==null?void 0:s.ask:s==null?void 0:s.bid);return a===0?Number(s==null?void 0:s.mid):a},$5=(t,s,a)=>{if(!t)return ht();const n=xc(Fs(t),s);return{value:Number(n),display:he(n,a)}},hc=(t,s)=>{const a=Number(s==null?void 0:s.mid),n=Number(t?s==null?void 0:s.ask:s==null?void 0:s.bid);return a===0?n:a},H5=(t,s)=>Number(I(t).mul(I(s).div(100)).mul(.275)),wl=(t,s)=>Number(I(t).mul(I(s).div(100))),vl=(t,s,a)=>{const n=Number(t?I(s.value).minus(I(s.value).mul(I(a).div(100))):I(s.value).add(I(s.value).mul(I(a).div(100))));return n<0?0:n},pa=(t,s,a)=>{if(!t)return ht();const n=t??"";return a!==void 0&&t<a?{value:t,display:zi(t)}:{value:Jt(n,s)??0,display:he(n,s)}},zi=t=>{const s=Number(String(t)).toFixed(15);if(Number(s)===0)return"";if((s.split(".")[1].length||0)<7)return String(s);const n=s.split(".")[0].length||0;return`${s.split(".")[0]}.${s.split(".")[1].slice(n-1,n+8)}`},Xs=(t,s,a=4,n=0)=>{const r=mc(s)?s.value:s;if(!t||!r||isNaN(r))return ht();const i=Number(I(t).div(I(r)));if(i<n)return{value:i,display:zi(i)};const l=Ta(i,a);return{value:l,display:he(l,a)}},Ts=(t,s,a=2,n=0)=>{const r=mc(s)?s.value:s;if(!t||!r||isNaN(r))return ht();const i=Number(I(t).mul(I(r)));return i<n?{value:i,display:String(i)}:{value:Jt(i,a),display:he(i,a)}};function fc(t){return!!t.plaidItemId}const za=t=>t?(fc(t)?t.institutionName:t.bankName)??`****${t.accountNumberMask}`:"Unknown",V5=t=>t.split("_").map(s=>`${s[0]}${s.substring(1).toLowerCase()}`).join(" "),Z5=t=>{if(G5.includes(t))return t;switch(t){case"America/Denver":case"America/Boise":return"US/Mountain";case"America/Detroit":case"America/Kentucky/Louisville":case"America/Kentucky/Monticello":case"America/Indiana/Indianapolis":case"America/Indiana/Vincennes":case"America/Indiana/Winamac":case"America/Indiana/Marengo":case"America/Indiana/Petersburg":case"America/Indiana/Vevay":return"America/New_York";case"America/North_Dakota/Center":case"America/North_Dakota/New_Salem":case"America/North_Dakota/Beulah":case"America/Indiana/Tell_City":case"America/Indiana/Knox":return"America/Chicago";default:return"Exchange"}},G5=["Africa/Cairo","Africa/Casablanca","Africa/Johannesburg","Africa/Lagos","Africa/Nairobi","Africa/Tunis","America/Anchorage","America/Argentina/Buenos_Aires","America/Bogota","America/Caracas","America/Chicago","America/El_Salvador","America/Juneau","America/Lima","America/Los_Angeles","America/Mexico_City","America/New_York","America/Phoenix","America/Santiago","America/Sao_Paulo","America/Toronto","America/Vancouver","Asia/Almaty","Asia/Ashkhabad","Asia/Bahrain","Asia/Bangkok","Asia/Chongqing","Asia/Colombo","Asia/Dhaka","Asia/Dubai","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Jakarta","Asia/Jerusalem","Asia/Karachi","Asia/Kathmandu","Asia/Kolkata","Asia/Kuwait","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Qatar","Asia/Riyadh","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Tehran","Asia/Tokyo","Asia/Yangon","Atlantic/Reykjavik","Australia/Adelaide","Australia/Brisbane","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Copenhagen","Europe/Dublin","Europe/Helsinki","Europe/Istanbul","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Riga","Europe/Rome","Europe/Stockholm","Europe/Tallinn","Europe/Vilnius","Europe/Warsaw","Europe/Zurich","Pacific/Auckland","Pacific/Chatham","Pacific/Fakaofo","Pacific/Honolulu","Pacific/Norfolk","US/Mountain"],z5=()=>pc()||gc(),pc=()=>window.location.hostname==="localhost",gc=()=>window.location.hostname!=="localhost"&&window.location.hostname!==new URL("https://www.figuremarkets.dev").hostname&&window.location.hostname!==new URL("https://www.figuremarkets.com").hostname,Ll=(t=!1)=>`${Jo?ke:window.location.origin}/c/${t?"signup":"login"}?redirectUrl=${encodeURIComponent(window.location.href)}`,bt=()=>gc()?wd():crypto.randomUUID(),jr=5e3,jc=t=>`${t.slice(0,5)}...${t.slice(t.length-5)}`,Rt=t=>t==="UNRECOGNIZED"||t==="UNKNOWN_MARKET_LOCATION"?"US":t,Na=t=>new Date(t).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"}),Tr=t=>new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),bc=(t,s,a,n)=>{if(t===0)switch(n){case"HOUR":return`${Tr(s)} - Present`;case"DAY":return"Today";case"WEEK":case"MONTH":return`${Na(s)} - Today`;default:return"Today"}switch(n){case"HOUR":return`${Tr(s)} - ${Tr(a)}`;case"DAY":return`${Na(a)}`;default:return`${Na(s)} - ${Na(a)}`}},K5="/exchange/api/config/current",ci={IS_TRADE_ENABLED:!0,BLOCKCHAIN_MAINTENANCE:!1,EXCHANGE_MAINTENANCE:!1,CONTENT_SECURITY_POLICY_ENABLED:!1,CANDLE_TYPE_CONFIG:{},DEFAULT_CHART_CONFIG:{DEFAULT:{interval:"15",chartStyle:1},"HASH-USD":{interval:"60"}},DATADOG_RUM_ENABLED:!1,IS_LEND_ENABLED:z5(),DATAFEED_SOURCE:{US:"pyth",CAYMAN:"pyth",IRELAND:"pyth",UNRECOGNIZED:"pyth",UNKNOWN_MARKET_LOCATION:"pyth"},IS_IRELAND_RESTRICTION_ENABLED:!1,IS_REX_NAV:!1},yc=c.createContext(ci),Y5=({children:t})=>{const[s,a]=c.useState(ci),n=c.useRef(!1),r=async()=>{n.current=!0;const l=await(await fetch(K5,{headers:{"Content-Type":"application/json"}})).json();a({...ci,...l})};return c.useEffect(()=>{const i=setInterval(()=>{r()},1e4);return n.current||r(),()=>{clearInterval(i)}},[]),e.jsx(yc.Provider,{value:s,children:t})},Fe=()=>{const t=c.useContext(yc);if(!t)throw new Error("useAppConfig needs to be used within AppConfigProvider");return t},Cc=["service-broker-dealer-profile","getProfile"];function Q5(t){const s=H("get");return fe({queryKey:[Cc,t.walletAddress],queryFn:()=>s({url:"/service-ats-profile/secure/api/v1/profiles"}),...t.queryOptions})}function J5(t){const s=H("post");return pe({mutationFn:()=>s({url:"/service-ats-profile/secure/api/v1/profiles"}),...t})}const Ki=t=>e.jsx(_o,{viewBox:"0 0 12 12",...t,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.98362 1.56905L2.27652 0.861938L0.862305 2.27615L1.56941 2.98326L4.86231 6.27615L1.56941 9.56905L0.862305 10.2762L2.27652 11.6904L2.98363 10.9833L6.27652 7.69037L9.56941 10.9833L10.2765 11.6904L11.6907 10.2762L10.9836 9.56905L7.69073 6.27615L10.9836 2.98326L11.6907 2.27615L10.2765 0.861938L9.56941 1.56905L6.27652 4.86194L2.98362 1.56905Z",fill:"currentColor"})}),X5=t=>e.jsx(_o,{viewBox:"0 0 100 100",...t,children:e.jsx("circle",{cx:"50",cy:"50",fill:"none",stroke:"currentColor",strokeWidth:"10",r:"30",strokeDasharray:"141.37166941154067 49.12388980384689",transform:"rotate(182.503 50 50)",children:e.jsx("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"2s",begin:"0s",repeatCount:"indefinite"})})}),eu=t=>c.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"M8.8 1.19981L4 5.99982L8.80001 10.7998",stroke:"white",strokeWidth:1.5})),ls="text-xs font-bold rounded-md disabled:opacity-50 disabled:cursor-not-allowed outline-none transition-all",br="py-2.5 px-4",yr="py-[7px] px-6",tu=t=>{const{className:s,small:a,...n}=t;return e.jsx(Y,{className:k(a?br:yr,ls,"text-pretty text-light bg-p-500","hover:bg-p-dark","active:bg-p-500 active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-dark active:ring-inset",String(s)),...n})},su=t=>{const{className:s,small:a,...n}=t;return e.jsx(Y,{className:k(a?br:"py-[15px] px-[14px]",ls,"text-pretty text-figma-neutral-dark bg-figma-positive","hover:bg-figma-positive-dark hover:text-figma-neutral-light","active:bg-figma-positive active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-figma-positive-dark active:ring-inset",String(s)),...n})},au=t=>{const{className:s,state:a,...n}=t,r={BUY:"!text-neutral-100 bg-s-400 hover:bg-s-600 hover:!text-neutral-500 active:bg-s-500 active:!text-neutral-100",SELL:"bg-negative-300 text-neutral-500 hover:bg-negative-500 hover:text-neutral-500"};return e.jsx(Y,{className:k(yr,ls,r[a],"text-pretty w-full relative active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-dark active:ring-inset",String(s)),...n})},nu=t=>{const{className:s,...a}=t;return e.jsx(Y,{className:Ke("py-[4px] px-[10px]",ls.replace("rounded-md",""),"text-sm text-light bg-p-500","hover:bg-p-dark","active:bg-p-500 active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-dark active:ring-inset",String(s)),...a})},ru=t=>{const{className:s,small:a,inverse:n,...r}=t;return e.jsx(Y,{className:k(a?br:yr,ls,n?"bg-light text-dark":"bg-dark ring-inset ring-1 ring-p-500 text-light","hover:bg-p-500 group hover:text-light","active:text-light active:bg-p-500 active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-dark active:ring-inset",String(s)),...r})},iu=t=>{const{className:s,small:a,...n}=t;return e.jsx(Y,{className:Ke(a?`${br} text-xxs`:`${yr} text-xs`,ls,"ring-inset ring-1 ring-negative-300 text-negative-300","hover:bg-negative-300 hover:text-light","active:text-light active:bg-negative-300 active:ring-offset-2 active:ring-offset-white active:ring-2 active:ring-dark active:ring-inset",String(s)),...n})},lu=t=>{const{className:s,...a}=t;return e.jsx(Y,{className:Ke("py-1.5 px-2.5 text-xxs rounded-sm font-bolder border-[1px] border-solid border-negative-300 text-negative-300 outline-none transition-all","disabled:opacity-50 disabled:cursor-not-allowed","hover:border-light hover:text-light","active:text-light active:border-negative-300",String(s)),...a})},ou=t=>{const{className:s,...a}=t;return e.jsx(Y,{className:k(ls,"text-neutral-500",s?String(s):""),...a})},cu=t=>e.jsx(Y,{className:k("h-[32px] w-[32px] ring-inset ring-2 ring-p-dark shadow-close bg-dark rounded-full flex items-center justify-center transition-all outline-none disabled:cursor-not-allowed","hover:bg-p-500 hover:ring-p-500","active:bg-p-500 active:ring-offset-white active:ring-offset-2 active:ring-dark active:ring-inset",String(t.className)),...t,children:e.jsx(Ki,{fontSize:"8px"})}),du=t=>e.jsx(Y,{className:Ke("h-[32px] w-[32px] ring-inset ring-2 ring-neutral-100 shadow-close bg-neutral-100 rounded-full flex items-center justify-center transition-all outline-none disabled:cursor-not-allowed","hover:bg-p-500 hover:ring-p-500","active:bg-p-500 active:ring-offset-white active:ring-offset-2 active:ring-dark active:ring-inset",String(t.className)),...t,children:e.jsx(Ki,{fontSize:"8px"})}),uu=t=>e.jsx(Y,{className:"outline-none cursor-pointer",...t,children:e.jsx(Ki,{fontSize:"8px"})}),mu=({className:t,...s})=>e.jsx(Y,{className:k("outline-none text-neutral-500",String(t)),...s,children:e.jsx(eu,{className:"w-[12px] h-[12px]"})}),xu=t=>e.jsx(Y,{className:k(ls,"font-semibold py-1 px-1.5 w-full bg-dark ring-inset ring-1 ring-neutral-200 text-light outline-none active:ring-p-500 hover:ring-p-500 disabled:ring-neutral-200"),...t}),hu=t=>{const{className:s,active:a,...n}=t;return e.jsx(Y,{className:k(ls,"font-semibold py-1 px-1.5 w-fit bg-dark ring-inset ring-1 ring-neutral-200 text-light outline-none active:ring-p-500 hover:ring-p-500 disabled:ring-neutral-200",a?"ring-p-500":""),...n})},fu=t=>e.jsx(Y,{className:k("font-semibold flex items-center justify-center h-full w-full p-1.5 bg-dark ring-inset ring-1 ring-neutral-200 text-light outline-none active:ring-p-500 hover:ring-p-500 disabled:ring-neutral-200",ls),...t}),pu=t=>{const{className:s,...a}=t;return e.jsx(Y,{className:k("border-2 border-transparent outline-none text-p-light underline disabled:opacity-50 disabled:cursor-not-allowed","hover:text-neutral-500","active:text-p-light active:border-neutral-500 pressed:text-p-light",String(s)),...a})},gu=t=>{const{className:s,...a}=t;return e.jsx(Y,{className:k("p-4 border-[1px] w-full rounded-[10px] border-neutral-200 cursor-pointer disabled:opacity-50 disabled:cursor-default","focus:border-neutral-300","hover:border-neutral-300","active:border-p-500 active:ring-inset active:ring-p-500 active:ring-2","selected:border-p-500",String(s)),...a})},T={Primary:tu,HeroPrimary:su,BuySell:au,Deposit:nu,Secondary:ru,Alert:iu,Cancel:lu,Nav:ou,ModalClose:cu,ToastClose:du,Close:uu,Back:mu,AdjustOrder:xu,Link:pu,IncrementSizeOrder:fu,Highlighted:hu,Outlined:gu},Os=t=>{const{className:s,children:a,isSelected:n,onChange:r}=t,i=c.useRef(null),l={isSelected:n,setSelected:r,toggle:()=>{}},{isFocusVisible:o,focusProps:u}=vd(),{inputProps:d}=Ld(t,l,i);return e.jsxs("label",{className:k("flex items-center gap-x-2",s),children:[e.jsx(Ed,{children:e.jsx("input",{...wi(d,u),ref:i})}),e.jsx("div",{className:k("bg-dark text-white border-2 rounded w-5 h-5","flex flex-shrink-0 justify-center items-center",o?"shadow-outline":"","transition ease-in-out duration-150"),"aria-hidden":"true",children:e.jsx("svg",{className:"stroke-current w-3 h-3",viewBox:"0 0 18 18",children:e.jsx("polyline",{points:"1 9 7 14 15 4",fill:"none",strokeWidth:3,strokeDasharray:22,strokeDashoffset:l.isSelected?44:66,style:{transition:"all 400ms"}})})}),a]})},ue=({coin:t,network:s,displayName:a,className:n})=>{const{getAsset:r,getAssetForNetwork:i,getAssetOutOfMarket:l}=Te();if(!t&&!s)return e.jsx(e.Fragment,{});const o=t?r(t)??l(t):i(t);return o?e.jsx("img",{className:k("block",n),src:o.iconUrl,alt:a}):e.jsx(e.Fragment,{})},ju="data:image/svg+xml,%3csvg%20viewBox='50%200%20120%20120'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M99.2432%2031.7698L167.802%2068.5855C168.727%2069.0832%20168.727%2069.8868%20167.802%2070.3793L124.078%2093.8603C123.153%2094.358%20121.659%2094.358%20120.74%2093.8603L52.1756%2057.0446C51.2504%2056.5469%2051.2504%2055.7433%2052.1756%2055.2507L95.8991%2031.7698C96.8243%2031.2721%2098.318%2031.2721%2099.2432%2031.7698Z'%20fill='%231C2434'/%3e%3cpath%20d='M99.2432%2026.1394L167.802%2062.9551C168.727%2063.4528%20168.727%2064.2564%20167.802%2064.749L124.078%2088.2299C123.153%2088.7277%20121.659%2088.7277%20120.74%2088.2299L52.1756%2051.4142C51.2504%2050.9165%2051.2504%2050.1129%2052.1756%2049.6204L95.8991%2026.1394C96.8243%2025.6417%2098.318%2025.6417%2099.2432%2026.1394Z'%20fill='%23080E18'%20stroke='%235A56EC'/%3e%3cpath%20d='M99.678%2032.1069L156.683%2062.7219C157.736%2063.287%20157.736%2064.2099%20156.683%2064.775L124.123%2082.2626C123.07%2082.8277%20121.353%2082.8277%20120.3%2082.2626L63.2947%2051.6476C62.2413%2051.0825%2062.2413%2050.1597%2063.2947%2049.5945L95.8546%2032.1069C96.908%2031.5418%2098.619%2031.5418%2099.678%2032.1069Z'%20fill='%235A56EC'/%3e%3cpath%20d='M86.854%2035.1291C87.7792%2034.6314%2089.2729%2034.6314%2090.1925%2035.1291L103.942%2042.512C104.232%2042.6675%20104.444%2042.8645%20104.555%2043.0771L107.186%2048.3187C109.727%2053.3789%20117.079%2057.3243%20126.487%2058.6879L136.246%2060.1033C136.647%2060.1603%20137.009%2060.2744%20137.299%2060.4299L151.049%2067.8128C151.974%2068.3105%20151.974%2069.1141%20151.049%2069.6066L124.842%2083.6828C123.923%2084.1805%20122.424%2084.1805%20121.504%2083.6828L60.6477%2050.9992C59.7226%2050.5014%2059.7226%2049.6978%2060.6477%2049.2053L86.854%2035.1291Z'%20fill='%23080E18'%20stroke='%235A56EC'/%3e%3ccircle%20cx='84.75'%20cy='67.5'%20r='15'%20fill='%23FFC82A'/%3e%3cg%20clip-path='url(%23clip0_3712_57986)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M83.6845%2059.4595C84.0222%2059.2714%2084.4026%2059.1729%2084.7891%2059.1729C85.1756%2059.1729%2085.5559%2059.2714%2085.8936%2059.4595C86.2313%2059.6476%2086.5153%2059.9192%2086.7173%2060.2488L86.7195%2060.2524L86.7195%2060.2524L93.1036%2070.7972L93.1099%2070.8075L93.1098%2070.8076C93.3078%2071.1469%2093.4129%2071.5322%2093.4141%2071.9252C93.4152%2072.3181%2093.3122%2072.704%2093.1161%2073.0444C92.92%2073.3848%2092.6378%2073.6675%2092.2984%2073.8651C91.9591%2074.0626%2091.574%2074.1685%2091.1813%2074.1728L91.1732%2074.1729V74.1729H78.405H78.3968L78.3968%2074.1728C78.0042%2074.1685%2077.619%2074.0626%2077.2797%2073.8651C76.9403%2073.6675%2076.6581%2073.3848%2076.462%2073.0444C76.2659%2072.704%2076.163%2072.3181%2076.1641%2071.9252C76.1652%2071.5322%2076.2703%2071.1469%2076.4683%2070.8076L76.4744%2070.7971L76.4745%2070.7972L82.8586%2060.2524L82.8608%2060.2488L82.8608%2060.2488C83.0629%2059.9192%2083.3468%2059.6476%2083.6845%2059.4595ZM84.7891%2060.6729C84.6574%2060.6729%2084.5283%2060.7065%2084.4145%2060.7699C84.3012%2060.833%2084.2071%2060.9233%2084.1405%2061.0313L84.1396%2061.0328L77.7613%2071.568C77.6977%2071.6787%2077.6644%2071.8031%2077.6641%2071.9294C77.6637%2072.0573%2077.6972%2072.1836%2077.7617%2072.2956C77.8263%2072.4078%2077.9201%2072.5022%2078.0344%2072.5688C78.1478%2072.6348%2078.2771%2072.6708%2078.4097%2072.6729H91.1684C91.301%2072.6708%2091.4304%2072.6348%2091.5437%2072.5688C91.658%2072.5022%2091.7518%2072.4078%2091.8164%2072.2956C91.8809%2072.1836%2091.9144%2072.0573%2091.9141%2071.9294C91.9137%2071.8031%2091.8804%2071.6787%2091.8168%2071.568L85.4385%2061.0328L85.4376%2061.0313C85.371%2060.9233%2085.2769%2060.833%2085.1636%2060.7699C85.0498%2060.7065%2084.9207%2060.6729%2084.7891%2060.6729ZM84.7501%2063.7499C85.1643%2063.7499%2085.5001%2064.0857%2085.5001%2064.4999V67.4999C85.5001%2067.9141%2085.1643%2068.2499%2084.7501%2068.2499C84.3359%2068.2499%2084.0001%2067.9141%2084.0001%2067.4999V64.4999C84.0001%2064.0857%2084.3359%2063.7499%2084.7501%2063.7499ZM84.7501%2069.7499C84.3359%2069.7499%2084.0001%2070.0857%2084.0001%2070.4999C84.0001%2070.9141%2084.3359%2071.2499%2084.7501%2071.2499H84.7576C85.1718%2071.2499%2085.5076%2070.9141%2085.5076%2070.4999C85.5076%2070.0857%2085.1718%2069.7499%2084.7576%2069.7499H84.7501Z'%20fill='%233D2E00'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_3712_57986'%3e%3crect%20width='18'%20height='18'%20fill='white'%20transform='translate(75.75%2057.75)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",X=()=>Sd(),ae=ns;var Nc=(t=>(t[t.Locked=0]="Locked",t))(Nc||{});const Pr={formData:{side:0,orderType:ot.Limit,amountQty:ht(),amountCurrency:ht(),limitPrice:ht(),stopPrice:ht(),executionType:vt.ALLOW_TAKER,timeForce:Re.TIME_IN_FORCE_GOOD_TILL_CANCEL,expiration:Ct.ONE_M},marketPrecision:{denomPrecision:2,currencyPrecision:2,denomMinimum:.01,currencyMinimum:.01},currentQuotes:{bid:0,ask:0,mid:0},marginDetails:void 0,isBidOrder:!0,isLockedForm:!0,isControlledAmountInputDenomType:!1},wc=rs({name:"orderForm",initialState:Pr,reducers:{resetData:t=>{t.formData=Pr.formData,t.isBidOrder=!0,t.isLockedForm=!0,t.isControlledAmountInputDenomType=!1,t.marginDetails=void 0},resetForm:t=>{t.formData=Pr.formData,t.isLockedForm=!0},setCurrentQuotes:(t,s)=>{t.currentQuotes=s.payload},setMarketPrecision:(t,s)=>{t.marketPrecision=s.payload},setMarginDetails:(t,s)=>{t.marginDetails=s.payload},setLimitPriceFromOrderbook:(t,s)=>{if(It(t.formData.orderType))return;const a=pa(s.payload,t.marketPrecision.currencyPrecision);if(t.formData.limitPrice=a,t.isControlledAmountInputDenomType){const n=Ts(t.formData.amountQty.value,a,t.marketPrecision.currencyPrecision,t.marketPrecision.currencyMinimum);t.formData.amountCurrency=n}else{const n=Xs(t.formData.amountCurrency.value,a,t.marketPrecision.denomPrecision,t.marketPrecision.denomMinimum);t.formData.amountQty=n}},setClosePosition:(t,s)=>{t.isLockedForm=!1;const a=$5(as.Sell,t.currentQuotes,t.marketPrecision.currencyPrecision),n=pa(s.payload,t.marketPrecision.denomPrecision),r=Ts(s.payload,a.value,t.marketPrecision.currencyPrecision,t.marketPrecision.currencyMinimum);t.formData.side=as.Sell,t.formData.orderType=ot.Limit,t.formData.limitPrice=a,t.formData.amountQty=n,t.formData.amountCurrency=r,t.formData.executionType=vt.ALLOW_TAKER,t.formData.timeForce=Re.GOOD_TILL_TIME,t.formData.expiration=Ct.ONE_M},setSide:(t,s)=>{t.formData.side=s.payload,t.isLockedForm&&(t.formData.executionType=vt.ALLOW_TAKER,t.formData.timeForce=Re.GOOD_TILL_TIME,t.formData.expiration=Ct.ONE_M),t.isLockedForm=!1,t.isBidOrder=Fs(s.payload)},setOrderType:(t,s)=>{if(t.formData.orderType=s.payload,It(s.payload)){const a=hc(Fs(t.formData.side),t.currentQuotes),n=pa(a,t.marketPrecision.currencyPrecision);if(t.formData.limitPrice=n,t.isControlledAmountInputDenomType){const r=Ts(t.formData.amountQty.value,n,t.marketPrecision.currencyPrecision,t.marketPrecision.currencyMinimum);t.formData.amountCurrency=r}else{const r=Xs(t.formData.amountCurrency.value,n,t.marketPrecision.denomPrecision,t.marketPrecision.denomMinimum);t.formData.amountQty=r}}else gn(s.payload)||(t.formData.stopPrice=ht());ic(s.payload)||It(s.payload)?(t.formData.executionType=vt.ALLOW_TAKER,t.formData.timeForce=Re.GOOD_TILL_TIME,t.formData.expiration=Ct.ONE_M):(t.formData.executionType=vt.ALLOW_TAKER,t.formData.timeForce=Re.TIME_IN_FORCE_GOOD_TILL_CANCEL,t.formData.expiration=Ct.ONE_M)},setStopPrice:(t,s)=>{t.formData.stopPrice=s.payload},setLimitPrice:(t,s)=>{const a=pa(s.payload,t.marketPrecision.currencyPrecision);if(t.formData.limitPrice=a,t.isControlledAmountInputDenomType){const n=Ts(t.formData.amountQty.value,a,t.marketPrecision.currencyPrecision,t.marketPrecision.currencyMinimum);t.formData.amountCurrency=n}else{const n=Xs(t.formData.amountCurrency.value,a,t.marketPrecision.denomPrecision,t.marketPrecision.denomMinimum);t.formData.amountQty=n}},setLimitPriceAsNumberInputType:(t,s)=>{t.formData.limitPrice=s.payload},setDualAmountFromQtyUpdate:(t,s)=>{const a=pa(s.payload,t.marketPrecision.denomPrecision,t.marketPrecision.denomMinimum),n=Ts(s.payload,t.formData.limitPrice,t.marketPrecision.currencyPrecision,t.marketPrecision.currencyMinimum);t.formData.amountQty=a,t.formData.amountCurrency=n},setDualAmountFromCurrencyUpdate:(t,s)=>{const a=pa(s.payload,t.marketPrecision.currencyPrecision,t.marketPrecision.currencyMinimum),n=Xs(s.payload,t.formData.limitPrice,t.marketPrecision.denomPrecision,t.marketPrecision.denomMinimum);t.formData.amountQty=n,t.formData.amountCurrency=a},setDualAmountFromQtyOnChange:(t,s)=>{const a=Wt(s.payload),n=Number(a);t.formData.amountQty={value:n,display:a};const r=Ts(n,t.formData.limitPrice,t.marketPrecision.currencyPrecision,t.marketPrecision.currencyMinimum);t.formData.amountCurrency=r},setDualAmountFromCurrencyOnChange:(t,s)=>{const a=Wt(s.payload),n=Number(a);t.formData.amountCurrency={value:n,display:a};const r=Xs(n,t.formData.limitPrice,t.marketPrecision.denomPrecision,t.marketPrecision.denomMinimum);t.formData.amountQty=r},setControlledAmountOnFocus:(t,s)=>{const a=Wt(s.payload),n=Number(a);t.isControlledAmountInputDenomType?t.formData.amountQty={value:n,display:a}:t.formData.amountCurrency={value:n,display:a}},setControlledAmountOnBlur:(t,s)=>{const a=Wt(s.payload),n=Number(a),r=parseFloat(a);if(t.isControlledAmountInputDenomType){const i=t.marketPrecision.denomMinimum;if(r!==0&&r<i&&t.marketPrecision.denomPrecision>0){const l=zi(r);t.formData.amountQty={value:Number(l),display:l}}else t.formData.amountQty={value:Jt(n,t.marketPrecision.denomPrecision),display:he(r,t.marketPrecision.denomPrecision)}}else{const i=t.marketPrecision.currencyMinimum;r!==0&&r<i?t.formData.amountCurrency={value:Number(n),display:n<0?"":a}:t.formData.amountCurrency={value:Jt(n,t.marketPrecision.currencyPrecision),display:he(r,t.marketPrecision.currencyPrecision)}}},setQtyAmountFormatted:(t,s)=>{const a=Wt(s.payload),n=Number(a),r=parseFloat(a);t.formData.amountQty={value:Jt(n,t.marketPrecision.denomPrecision),display:he(r,t.marketPrecision.denomPrecision)}},setCurrencyAmountFormatted:(t,s)=>{const a=Wt(s.payload),n=Number(a),r=parseFloat(a);t.formData.amountCurrency={value:Jt(n,t.marketPrecision.currencyPrecision),display:he(r,t.marketPrecision.currencyPrecision)}},setAmountType:t=>{t.isControlledAmountInputDenomType=!t.isControlledAmountInputDenomType},setExecutionType:(t,s)=>{s.payload===vt.MAKER_ONLY&&[Re.IMMEDIATE_OR_CANCEL,Re.TIME_IN_FORCE_FILL_OR_KILL].includes(t.formData.timeForce)&&(t.formData.timeForce=Re.TIME_IN_FORCE_GOOD_TILL_CANCEL),t.formData.executionType=s.payload},setTimeForce:(t,s)=>{t.formData.timeForce=s.payload},setExpiration:(t,s)=>{t.formData.expiration=s.payload}}}),bu=wc.actions,yu={},Cu=t=>t.form,Nu=wc.reducer,os=()=>{const t=X(),s=ae(Cu),a=c.useMemo(()=>vi(bu,t),[t]);return{...s,...a,...yu}},wu={CRYPTO:{US:"Figure Payments Corporation",CAYMAN:"Figure Markets Cayman Islands"},ATS:{US:"Figure Securities"}},vu={CRYPTO:{US:"btc-usd",CAYMAN:"ky-btc-usdc-1s"},ATS:{US:"fmreit-usd",CAYMAN:"NA"}},Lu={US:"USD",CAYMAN:"USDC"},$n=(t,s)=>(localStorage.setItem(ii,s),{marketType:t,marketLocation:s,defaultMarketId:vu[t][s],marketBaseCurrency:Lu[s],orgName:wu[t][s]}),Eu=localStorage.getItem(ii)?localStorage.getItem(ii):"US",Su=$n("CRYPTO",Eu),vc=rs({name:"marketLocation",initialState:Su,reducers:{setProfileLocale:(t,s)=>({...t,...$n(t.marketType,s.payload==="DOMESTIC"?"US":"CAYMAN")}),setLocation:(t,s)=>({...t,...$n(t.marketType,s.payload)}),setType:(t,s)=>({...t,...$n(s.payload,t.marketLocation)})}}),di=vc.actions,Au=t=>t.marketLocation,Du={},Tu=vc.reducer,me=()=>{const t=X(),s=ae(Au),a=c.useMemo(()=>vi(di,t),[t]);return{...s,...a,...Du}},en=Li({reducerPath:"lendingServicePublic",baseQuery:lt,endpoints:t=>({getCurrentPeriods:t.query({queryFn:async({query:s})=>({data:await lt({url:"https://www.figuremarkets.com/service-lending/api/v1/offers",options:{request:{method:"GET"},params:s}})})}),getNextPeriods:t.query({queryFn:async({query:s})=>({data:await lt({url:"https://www.figuremarkets.com/service-lending/api/v1/offers/next",options:{request:{method:"GET"},params:s}})})}),getAllLeveragePools:t.query({queryFn:async({query:s})=>({data:await lt({url:"https://www.figuremarkets.com/service-lending/api/v1/leverage-pools",options:{request:{method:"GET"},params:s}})})}),getLeveragePool:t.query({queryFn:async({query:s,path:a})=>({data:await lt({url:`https://www.figuremarkets.com/service-lending/api/v1/leverage-pools/${a.asset}`,options:{request:{method:"GET"},params:s}})})})})}),{useGetCurrentPeriodsQuery:Pu,useGetNextPeriodsQuery:ku,useGetAllLeveragePoolsQuery:Iu,useGetLeveragePoolQuery:Ou}=en,{getCurrentPeriods:Mu,getNextPeriods:_u,getAllLeveragePools:Ru,getLeveragePool:X9}=en.endpoints,bs=Li({reducerPath:"serviceHftExchangeSecure",baseQuery:lt,tagTypes:["lender"],endpoints:t=>({getOrders:t.query({queryFn:async({query:s})=>({data:await lt({url:"https://www.figuremarkets.com/service-hft-exchange/secure/api/v1/orders",options:{request:{method:"GET"},params:s}})})}),getConsents:t.query({queryFn:async()=>({data:await lt({url:"https://www.figuremarkets.com/service-hft-exchange/secure/api/v1/consents",options:{request:{method:"GET"}}})})}),getLender:t.query({queryFn:async()=>({data:await lt({url:"https://www.figuremarkets.com/service-hft-exchange/secure/api/v1/lenders",options:{request:{method:"GET"}}})}),providesTags:["lender"]}),registerLender:t.mutation({queryFn:async()=>({data:await lt({url:"https://www.figuremarkets.com/service-hft-exchange/secure/api/v1/lenders",options:{request:{method:"POST"}}})}),invalidatesTags:["lender"]})})}),{useGetOrdersQuery:Fu,useRegisterLenderMutation:Uu,useGetLenderQuery:Bu}=bs,{getOrders:Wu,getLender:qu,registerLender:$u}=bs.endpoints,Hu={hasLoadedPools:!1,selectedLoanPoolAsset:"USD",hasConsented:!0,showBanner:!1,leveragePools:[],currentPeriods:void 0,nextPeriods:void 0,selectedSummary:void 0},Lc=rs({name:"lend",initialState:Hu,reducers:{reset:t=>{t.hasConsented=!0,t.showBanner=!1},selectLoanPool:(t,s)=>{t.selectedLoanPoolAsset=s.payload,t.selectedSummary=t.leveragePools.find(a=>a.asset===s.payload)}},extraReducers:t=>{t.addCase(di.setLocation,s=>{s.hasLoadedPools=!1}).addCase(di.setProfileLocale,s=>{s.hasLoadedPools=!1}),t.addMatcher(qu.matchFulfilled,(s,a)=>{var n;(n=a.payload)!=null&&n.status?s.hasConsented=a.payload.status==="ACTIVE":(s.hasConsented=!1,s.showBanner=!0)}).addMatcher($u.matchFulfilled,(s,a)=>{s.hasConsented=a.payload.status==="ACTIVE",s.showBanner=a.payload.status!=="ACTIVE"}).addMatcher(Ru.matchFulfilled,(s,a)=>{if(s.hasLoadedPools)s.leveragePools=a.payload.sort((n,r)=>n.asset.localeCompare(r.asset));else{const n=a.payload.sort((i,l)=>i.asset.localeCompare(l.asset));s.leveragePools=n,a.payload.find(i=>i.asset===s.selectedLoanPoolAsset)?s.selectedSummary=n.find(i=>i.asset===s.selectedLoanPoolAsset):(s.selectedLoanPoolAsset=a.payload[0].asset,s.selectedSummary=n.find(i=>i.asset===a.payload[0].asset)),s.hasLoadedPools=!0}}).addMatcher(Mu.matchFulfilled,(s,a)=>{s.currentPeriods=a.payload}).addMatcher(_u.matchFulfilled,(s,a)=>{s.nextPeriods=a.payload})}}),Ec=Lc.actions,Vu=t=>t.lend,Zu=Lc.reducer,cs=()=>{const t=X(),s=ae(Vu),a=c.useMemo(()=>vi(Ec,t),[t]);return{...s,...a}};function bn(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/commitments/authz",options:ie(a)}),...t})}function Gu(t){const s=H("put");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/orders/cancel",options:ie(a)}),...t})}function Yi(t){const s=H("put");return pe({mutationFn:a=>s({url:`/service-hft-exchange/secure/api/v1/orders/${a.path.symbol}/${a.path.orderId}/cancel`,options:ie(a)}),...t})}function zu(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/transfers/deposit-address",options:ie(a)}),...t})}function Ku(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/transfers/fiat/withdraw",options:ie(a)}),...t})}function Yu(t){const s=H("post");return pe({mutationFn:a=>s({url:`/service-hft-exchange/secure/api/v1/orders/${a.path.symbol}`,options:ie(a)}),...t})}function Qu(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/transfers/fiat/withdraw/authz",options:ie(a)}),...t})}function Ju(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/transfers/withdraw/authz",options:ie(a)}),...t})}function Sc(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/transfers/withdraw",options:ie(a)}),...t})}function Xu(t){const s=H("delete");return pe({mutationFn:()=>s({url:"/service-hft-exchange/secure/api/v1/margin"}),...t})}function e3(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/margin",options:ie(a)}),...t})}function Cr(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/commitments",options:ie(a)}),...t})}const t3=["service-hft-exchange","getFills"];function s3(t){const s=H("get"),a=t.query?Object.values(t.query).map(r=>JSON.stringify(r)):[],n=t.walletAddress?[t.walletAddress]:[];return fe({queryKey:t3.concat(a).concat(n),queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/orders/fills",options:ie(t)}),...t.queryOptions})}const a3=["service-hft-exchange","getLiquidations"];function Ac(t){const s=H("get");return fe({queryKey:[a3,t.walletAddress],staleTime:1e3*60*1,queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/borrowers/liquidations"}),...t.queryOptions})}const n3=["service-hft-exchange","getLoanHistorySummary"];function r3(t){const s=H("get");return fe({queryKey:[...n3,t.walletAddress,t.query],queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/borrowers/loan-history-summary",options:ie(t)}),...t.queryOptions})}const i3=["service-hft-exchange","getLoanHistory"];function l3(t){const s=H("get");return fe({queryKey:[...i3,t.walletAddress,t.query],queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/borrowers/loan-history",options:ie(t)}),...t.queryOptions})}const o3=t=>["service-hft-exchange","getMarginDetails",t.query,t.walletAddress];function c3(t){const s=H("get");return fe({queryKey:o3(t),queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/margin/details",options:ie(t)}),...t.queryOptions})}const d3=["service-hft-exchange","getMargin"];function u3(t){const s=H("get");return fe({queryKey:[d3,t.walletAddress],queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/margin"}),...t.queryOptions})}const m3=["service-hft-exchange","getOrder"];function x3(t){const s=H("get"),a=t.walletAddress?[t.walletAddress]:[];return fe({queryKey:m3.concat(t.path.orderId).concat(a),queryFn:()=>s({url:`/service-hft-exchange/secure/api/v1/orders/${t.path.orderId}`,options:ie(t)}),...t.queryOptions})}const h3=["service-hft-exchange","getOrderFills"];function Dc(t){const s=H("get"),a=t.query?Object.keys(t.query).map(r=>t.query?String(t.query[r]):""):[],n=t.walletAddress?[t.walletAddress]:[];return fe({queryKey:h3.concat(a).concat(n).concat(t.path.orderId),queryFn:()=>s({url:`/service-hft-exchange/secure/api/v1/orders/${t.path.orderId}/fills`,options:ie(t)}),...t.queryOptions})}const f3=["service-hft-exchange","getOrders"];function El(t){const s=H("get"),a=t.query?Object.values(t.query).map(String):[],n=t.walletAddress?[t.walletAddress]:[];return fe({queryKey:f3.concat(a).concat(n),queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/orders",options:ie(t)}),...t.queryOptions})}const p3=["service-hft-exchange","outstandingBalances"];function g3(t){const s=H("get");return fe({queryKey:[p3,t.walletAddress],queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/borrowers/loan-balances"}),staleTime:1e3*30,...t.queryOptions})}const j3=["service-hft-exchange","getPortfolioHistory"];function b3(t){const s=H("get");return fe({queryKey:[j3,t.walletAddress],queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/markets/portfolio-history",options:ie(t)}),...t.queryOptions})}const y3=["service-hft-exchange","getMarketPositions"];function yn(t){const s=H("get");return fe({queryKey:[y3,t.walletAddress],staleTime:1e3*60*1,queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/markets/positions"}),...t.queryOptions})}const C3=["service-hft-exchange","getTransferHistory"];function N3(t){const s=H("get"),a=t.query?Object.keys(t.query).map(r=>t.query[r]):[],n=t.walletAddress?[t.walletAddress]:[];return fe({queryKey:C3.concat(a).concat(n),queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/transfers/history",options:ie(t)}),...t.queryOptions})}const w3=["service-hft-exchange","getWithdrawFee"];function v3(t){const s=H("get"),a=t.query?Object.keys(t.query).map(r=>t.query[r]):[],n=t.walletAddress?[t.walletAddress]:[];return fe({queryKey:w3.concat(a).concat(n),queryFn:()=>s({url:"/service-hft-exchange/secure/api/v1/transfers/withdraw/fee",options:ie(t)}),...t.queryOptions})}function L3(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/airdrop",options:ie(a)}),...t})}function Qi(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/consents/sign",options:ie(a)}),...t})}function E3(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/referral/referred-by",options:ie(a)}),...t})}function S3(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/margin/reject",options:ie(a)}),...t})}function Tc(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/orders/cancel",options:ie(a)}),...t})}function A3(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-hft-exchange/secure/api/v1/transfers/fiat/deposit",options:ie(a)}),...t})}const Sl="MARKET",Al="ORDER_BOOK",Dl="TRADES",Tl="POSITIONS",Pl="CANDLES",kl="ADDRESS_ORDERS",Il=5;var Ie,La,Yt,Ps,Ea,aa,Pt,Sa,Hn,Xn,Pc,er,kc,tr,Ic,na,Va,sr,Oc,Bt,ms,ar,Mc,nr,_c;const rr=class rr{constructor(){be(this,Sa);be(this,Xn);be(this,er);be(this,tr);be(this,na);be(this,sr);be(this,Bt);be(this,ar);be(this,nr);be(this,Ie,void 0);be(this,La,!1);be(this,Yt,void 0);be(this,Ps,0);be(this,Ea,!1);be(this,aa,!1);be(this,Pt,{isConnected:!1,isSecure:!1,callbacks:[]});je(this,"tradesStore",[]);je(this,"marketSummaryStore",[]);je(this,"orderBookStore",[]);je(this,"candleStore",[]);je(this,"orderStore");je(this,"positionStore")}get isAuthenticated(){return S(this,La)}setIsAuthenticated(s){nt(this,La,s),!(this.isSecure&&s)&&(!this.isSecure&&!s||(this.isSecure&&!s&&We(this,Xn,Pc).call(this),!this.isSecure&&s&&We(this,Sa,Hn).call(this)))}init(){We(this,na,Va).call(this),window.wsManager=this}subscribeToMarketUpdates(s,a){if(!s)return;let n=this.marketSummaryStore.find(r=>r.symbol===s);if(!n){const r=bt();n={symbol:s,channelUuid:r,isSubscribed:!1,callbacks:[],latest:void 0},this.marketSummaryStore.push(n),We(this,Bt,ms).call(this)}if(!n)throw new Error("Unable to subscribe to market updates");n.callbacks.push(a)}unsubscribeFromMarketUpdates(s,a){const n=this.marketSummaryStore.find(r=>r.symbol===s);n&&(n.callbacks=n.callbacks.filter(r=>r!==a))}getLatestMarketUpdate(s){var a;return(a=this.marketSummaryStore.find(n=>n.symbol===s))==null?void 0:a.latest}subscribeToTradeUpdates(s,a){if(!s)return;let n=this.tradesStore.find(r=>r.symbol===s);if(!n){const r=bt();n={symbol:s,channelUuid:r,isSubscribed:!1,callbacks:[],recentTrades:[]},this.tradesStore.push(n),We(this,Bt,ms).call(this)}if(!n)throw new Error("Unable to subscribe to trade updates");n.callbacks.push(a)}unsubscribeFromTradeUpdates(s,a){const n=this.tradesStore.find(r=>r.symbol===s);n&&(n.callbacks=n.callbacks.filter(r=>r!==a))}getLatestTradeUpdate(s){var a;return(a=this.tradesStore.find(n=>n.symbol===s))==null?void 0:a.recentTrades.at(0)}getRecentTrades(s){var a;return((a=this.tradesStore.find(n=>n.symbol===s))==null?void 0:a.recentTrades)??[]}subscribeToOrderBookUpdates(s,a,n){if(!s)return;let r=this.orderBookStore.find(i=>i.symbol===s&&i.tickSize===a);if(!r){const i=bt();r={symbol:s,tickSize:a,channelUuid:i,isSubscribed:!1,callbacks:[],latest:void 0},this.orderBookStore.push(r),We(this,Bt,ms).call(this)}if(!r)throw new Error("Unable to subscribe to order book updates");r.callbacks.push(n)}unsubscribeFromOrderBookUpdates(s,a,n){const r=this.orderBookStore.find(i=>i.symbol===s&&i.tickSize===a);r&&(r.callbacks=r.callbacks.filter(i=>i!==n))}getLatestOrderBookUpdate(s,a){var n;return(n=this.orderBookStore.find(r=>r.symbol===s&&r.tickSize===a))==null?void 0:n.latest}subscribeToCandleUpdates(s,a,n,r){if(!s)return;let i=this.candleStore.find(l=>l.symbol===s&&l.intervalMinutes===a);if(!i){const l=bt();i={symbol:s,intervalMinutes:a,candleType:n,channelUuid:l,isSubscribed:!1,callbacks:[],latest:void 0},this.candleStore.push(i),We(this,Bt,ms).call(this)}if(!i)throw new Error("Unable to subscribe to candle updates");i.callbacks.push(r)}unsubscribeFromCandleUpdates(s,a,n,r){const i=this.candleStore.find(l=>l.symbol===s&&l.intervalMinutes===a&&l.candleType===n);i&&(i.callbacks=i.callbacks.filter(l=>l!==r))}getLatestCandleUpdate(s){var a;return(a=this.candleStore.find(n=>n.symbol===s))==null?void 0:a.latest}subscribeToOrderUpdates(s){if(!this.orderStore){const a=bt();this.orderStore={channelUuid:a,isSubscribed:!1,callbacks:[],latest:void 0},We(this,Bt,ms).call(this)}if(!this.orderStore)throw new Error("Unable to subscribe to order updates");this.orderStore.callbacks.push(s)}unsubscribeFromOrderUpdates(s){this.orderStore&&(this.orderStore.callbacks=this.orderStore.callbacks.filter(a=>a!==s))}getLatestOrderUpdate(){var s;return(s=this.orderStore)==null?void 0:s.latest}subscribeToPositionsUpdates(s,a){if(!this.positionStore){const n=bt();this.positionStore={channelUuid:n,isSubscribed:!1,callbacks:[],latestUpdate:void 0},We(this,Bt,ms).call(this)}if(!this.positionStore)throw new Error("Unable to subscribe to positions updates");this.positionStore.callbacks.push(a)}unsubscribeFromPositionsUpdates(s,a){this.positionStore&&(this.positionStore.callbacks=this.positionStore.callbacks.filter(n=>n!==a))}getLatestPositionUpdate(){var s;return(s=this.positionStore)==null?void 0:s.latestUpdate}clearPositionUpdates(){this.positionStore&&(this.positionStore.latestUpdate=void 0)}subscribeToConnectionStatusUpdates(s){S(this,Pt).callbacks.push(s)}unsubscribeFromConnectionStatusUpdates(s){S(this,Pt).callbacks=S(this,Pt).callbacks.filter(a=>a!==s)}triggerManualOrderUpdate(s){this.orderStore&&(this.orderStore.latest=s,this.orderStore.callbacks.forEach(a=>{a({data:s})}))}get isConnected(){return S(this,Pt).isConnected}get isSecure(){var s;return((s=S(this,Ie))==null?void 0:s.url.includes("?ticket="))??!1}};Ie=new WeakMap,La=new WeakMap,Yt=new WeakMap,Ps=new WeakMap,Ea=new WeakMap,aa=new WeakMap,Pt=new WeakMap,Sa=new WeakSet,Hn=async function(){var s;if(nt(this,La,!0),!(S(this,Yt)&&this.isSecure)&&!(S(this,aa)||S(this,Ea)||S(this,Ps)>=Il))try{ml(this,Ps)._++,nt(this,aa,!0);const a=await fetch(`${ke}/service-hft-exchange-websocket/secure/api/v1/tickets`,{method:"POST",credentials:"include"});if(a.ok){const n=await a.json();nt(this,Yt,n),nt(this,Ps,0),nt(this,Ea,!1),(s=S(this,Ie))==null||s.close()}else throw new Error("Failed to authenticate");nt(this,aa,!1)}catch{nt(this,aa,!1),S(this,Ps)<Il?setTimeout(()=>We(this,Sa,Hn).call(this),1e3*S(this,Ps)):nt(this,Ea,!0)}},Xn=new WeakSet,Pc=function(){var s;We(this,er,kc).call(this),(s=S(this,Ie))==null||s.close(),nt(this,Yt,void 0),We(this,na,Va).call(this)},er=new WeakSet,kc=function(){var s,a;S(this,Ie)&&(this.marketSummaryStore.filter(n=>n.isSubscribed).forEach(n=>{var r;(r=S(this,Ie))==null||r.send(JSON.stringify({action:"UNSUBSCRIBE",channel:Sl,channelUuid:n.channelUuid})),n.isSubscribed=!1}),this.tradesStore.filter(n=>n.isSubscribed).forEach(n=>{var r;(r=S(this,Ie))==null||r.send(JSON.stringify({action:"UNSUBSCRIBE",channel:Dl,channelUuid:n.channelUuid})),n.isSubscribed=!1}),this.orderBookStore.filter(n=>n.isSubscribed).forEach(n=>{var r;(r=S(this,Ie))==null||r.send(JSON.stringify({action:"UNSUBSCRIBE",channel:Al,channelUuid:n.channelUuid})),n.isSubscribed=!1}),this.candleStore.filter(n=>n.isSubscribed).forEach(n=>{var r;(r=S(this,Ie))==null||r.send(JSON.stringify({action:"UNSUBSCRIBE",channel:Pl,channelUuid:n.channelUuid})),n.isSubscribed=!1}),this.orderStore&&this.orderStore.isSubscribed&&((s=S(this,Ie))==null||s.send(JSON.stringify({action:"UNSUBSCRIBE",channel:kl,channelUuid:this.orderStore.channelUuid})),this.orderStore.isSubscribed=!1,this.orderStore=void 0),this.positionStore&&this.positionStore.isSubscribed&&((a=S(this,Ie))==null||a.send(JSON.stringify({action:"UNSUBSCRIBE",channel:Tl,channelUuid:this.positionStore.channelUuid})),this.positionStore.isSubscribed=!1,this.positionStore=void 0))},tr=new WeakSet,Ic=function(){return S(this,Yt)?`${S5}?ticket=${S(this,Yt)}`:E5},na=new WeakSet,Va=function(){S(this,Ie)||(nt(this,Ie,new WebSocket(We(this,tr,Ic).call(this))),S(this,Ie).onopen=We(this,sr,Oc).bind(this),S(this,Ie).onclose=We(this,ar,Mc).bind(this),S(this,Ie).onmessage=We(this,nr,_c).bind(this))},sr=new WeakSet,Oc=function(){var a;We(this,Bt,ms).call(this),S(this,Pt).isConnected=!0;const s=((a=S(this,Ie))==null?void 0:a.url.includes("?ticket="))??!1;S(this,Pt).callbacks.forEach(n=>{n({isConnected:S(this,Pt).isConnected,isSecure:s})})},Bt=new WeakSet,ms=function(){var s,a,n,r;if(((s=S(this,Ie))==null?void 0:s.readyState)!==WebSocket.OPEN){((a=S(this,Ie))==null?void 0:a.readyState)===WebSocket.CONNECTING&&setTimeout(()=>We(this,Bt,ms).call(this),50);return}if(this.marketSummaryStore.filter(i=>!i.isSubscribed).forEach(i=>{var o;const l={action:"SUBSCRIBE",channel:Sl,channelUuid:i.channelUuid,symbol:i.symbol,channelId:""};(o=S(this,Ie))==null||o.send(JSON.stringify(l)),i.isSubscribed=!0}),this.tradesStore.filter(i=>!i.isSubscribed).forEach(i=>{var o;const l={action:"SUBSCRIBE",channel:Dl,channelUuid:i.channelUuid,symbol:i.symbol,channelId:""};(o=S(this,Ie))==null||o.send(JSON.stringify(l)),i.isSubscribed=!0}),this.orderBookStore.filter(i=>!i.isSubscribed).forEach(i=>{var o;const l={action:"SUBSCRIBE",channel:Al,channelUuid:i.channelUuid,symbol:i.symbol,tickSize:i.tickSize,channelId:""};(o=S(this,Ie))==null||o.send(JSON.stringify(l)),i.isSubscribed=!0}),this.candleStore.filter(i=>!i.isSubscribed).forEach(i=>{var o;const l={action:"SUBSCRIBE",channel:Pl,channelUuid:i.channelUuid,symbol:i.symbol,interval:i.intervalMinutes,channelId:"",candleType:i.candleType};(o=S(this,Ie))==null||o.send(JSON.stringify(l)),i.isSubscribed=!0}),this.isAuthenticated){if(this.orderStore&&!this.orderStore.isSubscribed){const i={action:"SUBSCRIBE",channel:kl,channelUuid:this.orderStore.channelUuid,channelId:""};(n=S(this,Ie))==null||n.send(JSON.stringify(i)),this.orderStore.isSubscribed=!0}if(this.positionStore&&!this.positionStore.isSubscribed){const i={action:"SUBSCRIBE",channel:Tl,channelUuid:this.positionStore.channelUuid,channelId:""};(r=S(this,Ie))==null||r.send(JSON.stringify(i)),this.positionStore.isSubscribed=!0}}},ar=new WeakSet,Mc=function(){nt(this,Ie,void 0),this.marketSummaryStore.forEach(s=>{s.isSubscribed=!1}),this.tradesStore.forEach(s=>{s.isSubscribed=!1}),this.orderBookStore.forEach(s=>{s.isSubscribed=!1}),this.candleStore.forEach(s=>{s.isSubscribed=!1}),this.orderStore&&(this.orderStore.isSubscribed=!1),this.positionStore&&(this.positionStore.isSubscribed=!1),S(this,Pt).isConnected=!1,S(this,Pt).callbacks.forEach(s=>{s({isConnected:S(this,Pt).isConnected,isSecure:!1})}),S(this,Yt)&&this.isAuthenticated?(nt(this,Yt,void 0),We(this,Sa,Hn).call(this).then(()=>{We(this,na,Va).call(this)})):We(this,na,Va).call(this)},nr=new WeakSet,_c=function(s){const a=JSON.parse(s.data);if(!a.channelUuid)return;const n=this.marketSummaryStore.find(o=>o.channelUuid===a.channelUuid);if(n){const o=a;n.latest=a,n.callbacks.forEach(u=>{u({symbol:n.symbol,data:o})});return}const r=this.tradesStore.find(o=>o.channelUuid===a.channelUuid);if(r){const{channelUuid:o,...u}=a;r.recentTrades=[u,...r.recentTrades],r.callbacks.forEach(d=>{d({symbol:r.symbol,latestTrade:u,recentTrades:r.recentTrades})});return}const i=this.orderBookStore.find(o=>o.channelUuid===a.channelUuid);if(i){const{channelUuid:o,...u}=a;i.latest=a,i.callbacks.forEach(d=>{d({symbol:i.symbol,data:u})});return}const l=this.candleStore.find(o=>o.channelUuid===a.channelUuid);if(l){const{channelUuid:o,...u}=a;l.latest=a,l.callbacks.forEach(d=>{d({symbol:l.symbol,data:u})});return}if(this.orderStore&&this.orderStore.channelUuid===a.channelUuid){const{channelUuid:o,...u}=a;this.orderStore.latest=a,this.orderStore.callbacks.forEach(d=>{d({data:u})});return}if(this.positionStore&&this.positionStore.channelUuid===a.channelUuid){const{channelUuid:o,...u}=a;this.positionStore.latestUpdate=u,this.positionStore.callbacks.forEach(d=>{d({data:u})});return}console.error("Received WS message without a matching callback",a)},je(rr,"shared",new rr);let oe=rr;const ft=()=>{var g;const{walletAddress:t,isAuthenticatedWithCookie:s}=ee(),[a,n]=c.useState((g=oe.shared.positionStore)==null?void 0:g.latestUpdate),[r,i]=c.useState(new Date().getTime()),{getFsmCurrentStep:l,fsmStepResponse:o}=Le(),u=yn({walletAddress:t,queryOptions:{enabled:s}}),{data:d,isLoading:x,error:m}=u,f=c.useCallback(({data:h})=>{var b;n(h),i(new Date().getTime()),D3(d,h)&&!u.isFetching&&u.refetch().then(()=>{oe.shared.clearPositionUpdates()}),((b=o==null?void 0:o.currentStep)==null?void 0:b.currentStep)==="FUND_ACCOUNT"&&l()},[d,u,o,l]);c.useEffect(()=>t?(oe.shared.subscribeToPositionsUpdates(t,f),()=>{oe.shared.unsubscribeFromPositionsUpdates(t,f)}):()=>{},[t,f]),c.useEffect(()=>{r&&u.dataUpdatedAt&&r<u.dataUpdatedAt&&a&&(n(void 0),oe.shared.clearPositionUpdates())},[r,u.dataUpdatedAt,a]);const p=c.useMemo(()=>{var b;const h=structuredClone(T3(d));if(h==null||h.assetPositions.forEach(j=>{var C;const y=(C=a==null?void 0:a.positions)==null?void 0:C.find(w=>w.denom===j.denom);y&&(j.balance=Number(y.balance),j.tradingPower=Number(y.tradingPower))}),h==null||h.cashEquivalentPositions.forEach(j=>{var C;const y=(C=a==null?void 0:a.positions)==null?void 0:C.find(w=>w.denom===j.denom);y&&(j.balance=Number(y.balance),j.tradingPower=Number(y.tradingPower))}),h==null||h.uncommittedCashEquivalents.forEach(j=>{var C;const y=(C=a==null?void 0:a.uncommittedPositions)==null?void 0:C.find(w=>w.denom===j.denom);y&&(j.balance=Number(y.balance),j.tradingPower=Number(y.tradingPower))}),h==null||h.marketPositions.forEach(j=>{var w,N;const y=(w=a==null?void 0:a.positions)==null?void 0:w.find(v=>v.denom===j.denom),C=(N=a==null?void 0:a.positions)==null?void 0:N.find(v=>v.denom===j.quoteDenom);C&&(j.quoteQuantity=Number(C.balance),j.quoteTradingPower=Number(C.tradingPower)),y&&(j.balance=Number(y.balance),j.tradingPower=Number(y.tradingPower))}),h==null||h.loanBalances.forEach(j=>{var C;const y=(C=a==null?void 0:a.loanBalances)==null?void 0:C.find(w=>w.denom===j.currency);y&&(j.balance=Number(y.balance))}),h){h.totalAssetValue=(h==null?void 0:h.assetPositions.reduce((y,C)=>{const w=h.marketPositions.find(E=>E.denom===C.denom&&E.quoteDenom==="USD"),N=h.marketPositions.find(E=>E.denom===C.denom&&E.quoteDenom==="USDC"),v=I((w==null?void 0:w.midMarketPrice)??(w==null?void 0:w.lastTradedPrice)??0).toNumber(),A=I((N==null?void 0:N.midMarketPrice)??(N==null?void 0:N.lastTradedPrice)??0).toNumber();return y+C.balance*(v??A??0)},0))??0,h.cashEquivalentBalance=[...(h==null?void 0:h.cashEquivalentPositions)||[],...(h==null?void 0:h.uncommittedCashEquivalents)||[]].reduce((y,C)=>y+C.balance,0);const j=((b=h.loanBalances)==null?void 0:b.reduce((y,C)=>y+C.balance,0))??0;h.totalPortfolioValue=h.totalAssetValue+h.cashEquivalentBalance-j}return h},[d,a]);return{isLoading:x,positions:p,error:m}},D3=(t,s)=>{var l,o,u;if(!t)return!0;const a=((l=s.positions)==null?void 0:l.map(d=>d.denom))||[],n=[t==null?void 0:t.cashEquivalentPositions.map(d=>d.denom),t==null?void 0:t.marketPositions.map(d=>d.denom)].flat();if(a.filter(d=>n.indexOf(d)<0).length>0)return!0;const r=((o=t.loanBalances)==null?void 0:o.map(d=>d.currency))??[];return(((u=s.loanBalances)==null?void 0:u.map(d=>d.denom))??[]).filter(d=>r.indexOf(d)<0).length>0},T3=t=>{var s,a,n,r;if(t)return{...t,totalPortfolioValue:Number(t.totalPortfolioValue),cashEquivalentBalance:Number(t.cashEquivalentBalance),totalAssetValue:Number(t.totalAssetValue),marketPositions:t==null?void 0:t.marketPositions.map(i=>({...i,balance:Number(i.balance),quantity:void 0,lastTradedPrice:Number(i.lastTradedPrice),averageOpen:Number(i.averageOpen),averageClose:Number(i.averageClose),unrealizedPL:Number(i.unrealizedPL),quoteQuantity:Number(i.quoteQuantity),tradingPower:Number(i.tradingPower),quoteTradingPower:Number(i.quoteTradingPower)})),cashEquivalentPositions:((s=t.cashEquivalentPositions)==null?void 0:s.map(i=>({...i,balance:Number(i.balance),tradingPower:Number(i.tradingPower)})))??[],assetPositions:((a=t.assetPositions)==null?void 0:a.map(i=>({...i,balance:Number(i.balance),tradingPower:Number(i.tradingPower)})))??[],uncommittedAssets:((n=t.uncommittedAssets)==null?void 0:n.map(i=>({...i,quantity:Number(i.quantity)})))??[],uncommittedCashEquivalents:((r=t.uncommittedCashEquivalents)==null?void 0:r.map(i=>({...i,balance:Number(i.balance),tradingPower:Number(i.tradingPower)})))??[],loanBalances:t.loanBalances??[],totalLoanValue:t.totalLoanValue?Number(t.totalLoanValue):void 0}},P3=()=>{const t=Ye(),{marketLocation:s}=me(),{positions:a}=ft();return{getTradeRoute:()=>{var d,x;const r=a==null?void 0:a.totalAssetValue,i=a==null?void 0:a.cashEquivalentBalance,l=(d=a==null?void 0:a.cashEquivalentPositions[0])==null?void 0:d.denom,o=(x=a==null?void 0:a.assetPositions[0])==null?void 0:x.denom,u=s!=="US";if(i&&l)t(re.trade(`BTC-${l}`.toLowerCase()));else if(r&&o){const m=u?`KY-${o}-USDC-1S`:`${o}-USD`;t(re.trade(m.toLowerCase()))}else t(re.trade())}}},kr={step:"commit-usd",uncommittedUSDAmount:0},Rc=rs({name:"commitUSDModal",initialState:kr,reducers:{reset:t=>{t.step=kr.step,t.uncommittedUSDAmount=0,t.commitmentPayload=void 0},open:t=>{t.step="commit-usd"},setUncommittedUSDAmount(t,{payload:s}){t.uncommittedUSDAmount=s},setCommitmentPayload(t,{payload:s}){t.commitmentPayload=s},goToCommitmentApproval:t=>{t.step="commitment-approval"}},extraReducers:t=>{t.addCase(Ce.closeModal,s=>{s.step=kr.step,s.uncommittedUSDAmount=0,s.commitmentPayload=void 0})}}),ua=Rc.actions,Ji=t=>t.commitUSDModal,k3=Rc.reducer,qa={step:"select",selectedAsset:void 0,openedWithAsset:!1,depositAddressResponse:void 0,amountToCommit:void 0,selectedDestination:void 0,backStep:void 0},Fc=rs({name:"depositModal",initialState:qa,reducers:{reset:t=>{t.step=qa.step,t.selectedAsset=qa.selectedAsset,t.authZGrantResponse=void 0,t.depositAddressResponse=void 0,t.amountToCommit=void 0,t.openedWithAsset=!1,t.selectedDestination=void 0,t.backStep=void 0},open:(t,s)=>{if(s!=null&&s.payload)switch(t.selectedAsset=s.payload,t.openedWithAsset=!0,s.payload){case"HASH":t.step="commit-crypto";break;case"USD":t.step="transfer-usd";break;default:t.step="terms";break}else t.step="select"},setSelectedAsset:(t,{payload:s})=>{t.selectedAsset=s},setAuthZGrantResponse(t,{payload:s}){t.authZGrantResponse=s},setDepositAddressResponse(t,{payload:s}){t.depositAddressResponse=s},setAmountToCommit(t,{payload:s}){t.amountToCommit=s},setSelectedDestination(t,{payload:s}){t.selectedDestination=s},goToSelect:t=>{t.step="select"},goToTerms:t=>{t.step="terms"},goToGrant:t=>{t.step="grant"},goToTimingNotice:t=>{t.step="timing-notice"},goToDestination:t=>{t.step="destination"},goToCommitCrypto:t=>{t.step="commit-crypto"},goToCommitCryptoReview:t=>{t.step="commit-crypto-review"},goToTransferUSD:t=>{t.step="transfer-usd"},goToAddAnotherPlaidOption:t=>{t.step="add-another-plaid-option"},goToConfirmUSDDeposit:t=>{t.step="confirm-usd-deposit"},goToWireUSDTransactionApproval:(t,{payload:s})=>{t.step="wire-usd-transaction-approval",t.backStep=s},goToWireInstructions:t=>{t.step="wire-instructions",t.backStep=void 0},goToDepositConfirmation:t=>{t.step="deposit-confirmation"}},extraReducers:t=>{t.addCase(Ce.closeModal,s=>{s.step=qa.step,s.selectedAsset=qa.selectedAsset,s.authZGrantResponse=void 0,s.depositAddressResponse=void 0,s.amountToCommit=void 0,s.openedWithAsset=!1,s.selectedDestination=void 0,s.backStep=void 0})}}),te=Fc.actions,Zt=t=>t.depositModal,I3=Fc.reducer,wt={step:"select-asset",selectedAsset:void 0,openedWithAsset:!1,selectedAmount:void 0,selectedDestination:void 0,wireAccountRequest:void 0},Uc=rs({name:"withdrawModal",initialState:wt,reducers:{reset:t=>{t.step=wt.step,t.selectedAsset=wt.selectedAsset,t.openedWithAsset=wt.openedWithAsset,t.selectedAmount=wt.selectedAmount,t.selectedDestination=wt.selectedDestination,t.withdrawError=wt.withdrawError,t.wireAccountRequest=wt.wireAccountRequest},open:(t,s)=>{if(s!=null&&s.payload)switch(t.selectedAsset=s.payload,t.openedWithAsset=!0,s.payload){case"HASH":t.step="uncommit-crypto-amount";break;case"USD":t.step="usd-withdraw";break;default:t.step="select-crypto-amount";break}else t.step="select-asset"},setSelectedAsset:(t,{payload:s})=>{t.selectedAsset=s},setSelectedAmount:(t,{payload:s})=>{t.selectedAmount=s},setSelectedDestination:(t,{payload:s})=>{t.selectedDestination=s},setWithdrawError:(t,{payload:s})=>{t.withdrawError=s},setWireBankDetailsState:(t,{payload:s})=>{t.wireAccountRequest={...t.wireAccountRequest||{},...s}},setWireBankAddressState:(t,{payload:s})=>{t.wireAccountRequest={...t.wireAccountRequest||{},bankAddress:s}},setWireBankBeneficiaryDetails:(t,{payload:s})=>{t.wireAccountRequest={...t.wireAccountRequest||{},beneficiary:s}},setWireBankBeneficiaryAddressState:(t,{payload:s})=>{t.wireAccountRequest={...t.wireAccountRequest||{},beneficiaryAddress:s}},goToSelectAsset:t=>{t.step="select-asset"},goToSelectCryptoAmount:t=>{t.step="select-crypto-amount"},goToSelectCryptoDestination:t=>{t.step="select-crypto-destination"},goToUncommitCryptoAmount:t=>{t.step="uncommit-crypto-amount"},goToUncommitCryptoReview:t=>{t.step="uncommit-crypto-review"},goToUSDWithdraw:t=>{t.step="usd-withdraw"},goToAddAnotherPlaidOption:t=>{t.step="add-another-plaid-option"},goToConfirmUSDWithdraw:t=>{t.step="confirm-usd-withdraw"},goToWireBankAddress:t=>{t.step="wire-bank-address"},goToWireBankDetails:t=>{t.step="wire-bank-details"},goToWireBeneficiaryAddress:t=>{t.step="wire-beneficiary-address"},goToWireBeneficiaryDetails:t=>{t.step="wire-beneficiary-details"},goToWireReview:t=>{t.step="wire-review"}},extraReducers:t=>{t.addCase(Ce.closeModal,s=>{s.step=wt.step,s.selectedAsset=wt.selectedAsset,s.openedWithAsset=wt.openedWithAsset,s.selectedAmount=wt.selectedAmount,s.selectedDestination=wt.selectedDestination,s.withdrawError=wt.withdrawError})}}),J=Uc.actions,Mt=t=>t.withdrawModal,O3=Uc.reducer,Ir={originalLicensingJurisdiction:"UNKNOWN_LICENSING_JURISDICTION",currentLicensingJurisdiction:"UNKNOWN_LICENSING_JURISDICTION",licensingJurisdictionsWithAcceptedConsents:[],licensingJurisdictionsWithAcknowledgedExit:[],isExitModalOpen:!1},Bc=rs({name:"licensingJurisdiction",initialState:Ir,reducers:{reset:t=>{t.originalLicensingJurisdiction=Ir.originalLicensingJurisdiction,t.currentLicensingJurisdiction=Ir.currentLicensingJurisdiction,t.licensingJurisdictionsWithAcceptedConsents=[],t.licensingJurisdictionsWithAcknowledgedExit=[],t.isExitModalOpen=!1},setOriginalLicensingJurisdiction:(t,{payload:s})=>{t.originalLicensingJurisdiction=s.licensingJurisdiction,t.currentLicensingJurisdiction=s.licensingJurisdiction},setLicensingJurisdictionsWithAcceptedConsents:(t,{payload:s})=>{t.licensingJurisdictionsWithAcceptedConsents=s},setCurrentJurisdiction:(t,{payload:s})=>{t.currentLicensingJurisdiction=s.licensingJurisdiction},setDestinationFeature:(t,{payload:s})=>{t.destinationFeature=s,!t.licensingJurisdictionsWithAcceptedConsents.includes(s.licensingJurisdiction)&&!t.licensingJurisdictionsWithAcknowledgedExit.includes(s.licensingJurisdiction)&&(t.isExitModalOpen=!0)},continueToDestinationFeature:t=>{var s;(s=t.destinationFeature)!=null&&s.licensingJurisdiction&&(t.licensingJurisdictionsWithAcknowledgedExit=[...t.licensingJurisdictionsWithAcknowledgedExit,t.destinationFeature.licensingJurisdiction],t.currentLicensingJurisdiction=t.destinationFeature.licensingJurisdiction),t.destinationFeature=void 0,t.isExitModalOpen=!1},cancelExitToDestinationFeature:t=>{t.destinationFeature=void 0,t.isExitModalOpen=!1},acceptTerms(t,{payload:s}){t.licensingJurisdictionsWithAcceptedConsents.push(s.licensingJurisdiction)}},extraReducers:t=>{t.addMatcher(bs.endpoints.getConsents.matchFulfilled,(s,a)=>{const n=a.payload.data.find(i=>i.type==="TRADING_CONSENT"),r=a.payload.data.find(i=>i.type==="CAYMAN_EXEMPTION_CONSENT");s.licensingJurisdictionsWithAcceptedConsents=[],n&&s.originalLicensingJurisdiction!=="UNKNOWN_LICENSING_JURISDICTION"&&n.status==="ACCEPTED"&&s.licensingJurisdictionsWithAcceptedConsents.push(s.originalLicensingJurisdiction),r&&r.status==="ACCEPTED"&&(s.licensingJurisdictionsWithAcceptedConsents.push("CAYMAN"),s.licensingJurisdictionsWithAcknowledgedExit.push("CAYMAN"),s.currentLicensingJurisdiction="CAYMAN")})}}),ss=Bc.actions,pt=t=>t.licensingJurisdiction,M3=Bc.reducer,Za={isIframeOpen:!1,error:null},_3={plaid:Za},Wc=rs({name:"modal",initialState:_3,reducers:{closeModal:t=>{t.activeModal=void 0},setPlaid(t,{payload:s}){t.plaid=s}},extraReducers:t=>{t.addCase(te.open,s=>{s.activeModal="deposit",s.plaid=Za}),t.addCase(J.open,s=>{s.activeModal="withdraw",s.plaid=Za}),t.addCase(Ra.open,s=>{s.activeModal="enable-usd",s.plaid=Za}),t.addCase(ua.open,s=>{s.activeModal="commit-usd",s.plaid=Za}),t.addCase(ss.setDestinationFeature,s=>{s.activeModal="licensing-jurisdiction-exit"})}}),Ce=Wc.actions,_a=t=>t.modal,R3=Wc.reducer,Or={step:"usd-terms",shouldPollKrang:!1},qc=rs({name:"enableUSDModal",initialState:Or,reducers:{reset:t=>{t.step=Or.step,t.shouldPollKrang=!1},open:t=>{t.step="usd-terms"},setShouldPollKrang(t,{payload:s}){t.shouldPollKrang=s}},extraReducers:t=>{t.addCase(Ce.closeModal,s=>{s.step=Or.step})}}),Ra=qc.actions,$c=t=>t.enableUSDModal,F3=qc.reducer,Ol="seenFeatureBanners",Ml=["MARGIN_TRADING"],Xi="data:image/svg+xml,%3csvg%20width='12'%20height='13'%20viewBox='0%200%2012%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.50005%202.55713L6%206.0572'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='square'%20stroke-linejoin='round'/%3e%3cpath%20d='M5%202.05713H2V10.0571H10V7.05713'%20stroke='white'%20stroke-width='1.5'/%3e%3cpath%20d='M7%202.05713H10V5.05713'%20stroke='white'%20stroke-width='1.5'/%3e%3c/svg%3e",U3=({title:t,message:s,shortMessage:a,showDescription:n,onPress:r,buttonText:i,showNewPageIcon:l,showCtaButton:o,isKrangHeroStep:u})=>e.jsxs("div",{className:k("flex justify-center relative",u?"h-[200px] sm:h-[300px]":"h-40"),children:[e.jsx("img",{src:u?"https://www.datocms-assets.com/119559/1733410368-hero-banner.png":"https://www.datocms-assets.com/119559/1725638563-coins.png",alt:"coins background",className:k("object-cover w-full opacity-50",u?"h-[200px] sm:h-[300px]":"h-40")}),!u&&e.jsx("div",{className:"h-40 absolute bg-gradient-to-r from-dark from-10% via-transparent via-50% to-dark to-90% w-full"}),e.jsxs("div",{className:"absolute w-full flex flex-col gap-y-3 justify-center items-center gap-x-4 h-full ",children:[n?e.jsxs("div",{className:"flex flex-col gap-y-1 justify-center items-center text-center",children:[e.jsx("p",{className:k(u?"text-[24px] font-bolder":"text-sm sm:text-base font-bold"),children:t}),e.jsx("p",{className:k(u?"text-[20px] font-medium":"text-xs sm:text-sm text-pretty"),children:s})]}):e.jsx("p",{className:"font-semibold text-center text-sm sm:text-base",children:a}),o&&(u?e.jsx(T.HeroPrimary,{className:"flex items-center gap-x-1 w-max whitespace-nowrap",onPress:r,children:i}):e.jsxs(T.Primary,{className:"flex items-center gap-x-1 w-max whitespace-nowrap",onPress:r,children:[i,l&&e.jsx("img",{src:Xi,alt:"Open new page icon"})]}))]})]}),B3=({title:t,message:s,onPress:a,buttonText:n,showNewPageIcon:r,showCtaButton:i,icon:l,iconAlt:o})=>e.jsx("div",{className:"border-y-neutral-200 border-solid border-y min-h-[7.5rem] p-2.5 md:h-[120px]",children:e.jsxs("div",{className:"w-full h-full text-center sm:text-left px-5 md:px-12 py-5 sm:py-3 flex flex-col sm:flex-row items-center justify-between gap-x-4 gap-y-2",style:{background:"linear-gradient(268deg, rgba(0, 0, 0, 0.20) 19.24%, rgba(0, 0, 0, 0.00) 51.53%), linear-gradient(92deg, rgba(83, 28, 28, 0.20) 8.18%, rgba(104, 11, 11, 0.00) 52.04%), var(--Neutral-Dark, #1C2434)"},children:[e.jsxs("div",{className:"flex gap-x-4 sm:gap-x-7 lg:gap-x-20 items-center justify-center sm:justify-start w-full",children:[l&&e.jsx("img",{src:l,alt:o,className:"hidden sm:block sm:max-w-[13.75rem] sm:max-h-[7.5rem]"}),e.jsxs("div",{className:"flex flex-col gap-y-1.5",children:[e.jsx("p",{className:"text-sm sm:text-base font-bold",children:t}),e.jsx("p",{className:"text-xs sm:text-sm font-normal",children:s})]})]}),i&&e.jsxs(T.Primary,{className:"flex items-center justify-center gap-x-1 w-max whitespace-nowrap",onPress:a,children:[n,r&&e.jsx("img",{src:Xi,alt:"Open new page icon"})]})]})}),W3="/exchange/assets/coins-3d-qpUK5-G8.png",q3="/exchange/assets/honeycomb-XCJFTlcz.svg",$3=t=>e.jsx("div",{className:"border-y-neutral-200 border-solid border-y p-2.5 ",children:e.jsxs("div",{className:"w-full h-full relative flex overflow bg-gradient-to-r from-[#223040] to-[#1C2434] h-[165px] mobile:h-[142px]",id:t.featureId,children:[e.jsx("div",{className:"h-full w-full flex z-40 justify-between p-3 sm:p-6",children:e.jsxs("div",{className:"h-full w-full text-center sm:text-left px-2 sm:px-5 flex flex-row items-center justify-between gap-6",children:[t.icon,e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center sm:justify-between gap-y-3 gap-x-4 lg:gap-x-20 items-start sm:items-center w-full",children:[e.jsxs("div",{className:"flex flex-col gap-y-3 sm:gap-y-1 pt-2 sm:pt-0 justify-start",children:[e.jsxs("div",{className:"flex gap-x-3 gap-y-1 items-center flex-row lg:flex-col lg:items-start",children:[t.newFeature&&e.jsx("div",{className:"w-fit h-fit rounded-3xl bg-gradient-to-r from-gradientMargin-light-left to-gradientMargin-light-right p-[1px] order-2 lg:order-1",children:e.jsx("div",{className:"py-1.5 px-3 bg-[#223040] rounded-3xl",children:e.jsx("p",{className:" uppercase text-xxs font-medium bg-clip-text text-transparent bg-gradient-to-r from-gradientMargin-light-left to-gradientMargin-light-right",children:"Now Available"})})}),e.jsx("p",{className:"text-left font-normal font-bold text-lg md:text-2xl order-1 lg:order-2",children:t.title})]}),e.jsx("p",{className:"text-left text-xs font-normal md:text-sm",children:t.description})]}),t.onPress&&e.jsx(T.Secondary,{className:"bg-transparent text-nowrap z-50 w-full sm:w-fit",onPress:t.onPress,children:t.buttonText})]})]})}),e.jsx("div",{className:"absolute w-full z-50 top-4 right-4 text-right",children:e.jsx(T.Close,{onPress:()=>t.onClose(t.featureId)})}),e.jsx("img",{src:q3,alt:"new feature background",className:"absolute h-full right-0 top-0 object-cover"})]})}),H3=({onClose:t,onEnableMargin:s})=>e.jsx($3,{newFeature:!0,title:"Margin Trading",icon:e.jsx("img",{src:W3,alt:"coins 3d",className:"max-h-[94px] hidden sm:block"}),description:`Increased purchasing power can enhance your investment strategy by allowing you to expand your positions
      or diversify your portfolio.`,featureId:"MARGIN_TRADING",onClose:t,onPress:s,buttonText:"Enable Margin"}),Hc=({variant:t,homeNavRoute:s,fsmStepResponse:a})=>{var P;const{isAuthenticatedWithCookie:n}=ee(),{shouldShowBanner:r,onToggleMarginTrading:i}=at(),l=X(),{setIsConsentAgreementsModalOpen:o}=Le(),{isHeroStep:u,krangCtaText:d,krangCtaInfo:x,showNewPageIcon:m,upQPStep:f,isPassportPending:p,isKrangCtaButtonHidden:g,krangCtaOnPress:h,isPayStep:b,isConsentStep:j,isRegionBlocked:y,isTradeCryptoStep:C}=c.useMemo(()=>({krangCtaOnPress:()=>(da(a==null?void 0:a.currentStep)?l(Ra.open()):Qa(a==null?void 0:a.currentStep)?o(!0):ia(a==null?void 0:a.currentStep)?l(te.open()):pr(a==null?void 0:a.currentStep)&&(window.location.href=`${window.location.origin}/c/home/securities`),()=>{}),isConsentStep:Qa(a==null?void 0:a.currentStep),isPayStep:da(a==null?void 0:a.currentStep),isHeroStep:F5(a==null?void 0:a.currentStep),isTradeCryptoStep:Da(a==null?void 0:a.currentStep),krangCtaText:dc(a),krangCtaInfo:uc(a),showNewPageIcon:ca(a==null?void 0:a.currentStep),upQPStep:Hi(a==null?void 0:a.currentStep),isPassportPending:Vi(a==null?void 0:a.currentStep),isKrangCtaButtonHidden:ca(a==null?void 0:a.currentStep)||Ja(a==null?void 0:a.currentStep),isRegionBlocked:Ja(a==null?void 0:a.currentStep)}),[l,a,o]),{getTradeRoute:w}=P3(),N=()=>{const L=window.localStorage.getItem(Ol);return L?JSON.parse(L):[]},v=(()=>{const L=N();return Ml.filter(O=>!L.includes(O))})(),A=L=>{Ml.includes(L)||console.warn("featureId not applicable");const O=N(),W=JSON.stringify([...O,L]);window.localStorage.setItem(Ol,W)},E=()=>{C?w():h()};if(!a||!n)return e.jsx(e.Fragment,{});if((P=a==null?void 0:a.currentStep)!=null&&P.currentStep)return t==="portfolio"?b||f||s&&u?e.jsx(e.Fragment,{}):e.jsx(U3,{title:x.title,message:x.message,shortMessage:x.shortMessage,onPress:E,buttonText:d,showNewPageIcon:m,isKrangHeroStep:u,showDescription:j||y||u||p,showCtaButton:!g}):y?e.jsx(e.Fragment,{}):u?e.jsx(e.Fragment,{}):e.jsx(B3,{title:x.title,message:x.message,onPress:E,buttonText:d,showNewPageIcon:m,icon:ju,iconAlt:"wallet icon with a warning symbol",showCtaButton:!g});if(v.length>0&&!t)switch(v[0]){case"MARGIN_TRADING":return r?e.jsx(H3,{onEnableMargin:i,onClose:A}):null;default:return null}return null},ui=({className:t,vertical:s,...a})=>s?e.jsx("div",{className:k("border-l-[1px] border-solid h-full",t)}):e.jsx("hr",{className:k("w-full border-b-0",t),...a}),Vc=({className:t})=>e.jsxs("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsxs("g",{clipPath:"url(#clip0_87_5699)",children:[e.jsx("circle",{cx:"5",cy:"5",r:"5",fill:"#F7343B"}),e.jsx("rect",{x:"4.375",y:"1.875",width:"1.25",height:"4",rx:"0.625",fill:"black"}),e.jsx("rect",{width:"1.5",height:"1.5",rx:"0.75",transform:"matrix(1 0 0 -1 4.25 8.125)",fill:"black"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_87_5699",children:e.jsx("rect",{width:"10",height:"10",fill:"white"})})})]}),zn=({className:t})=>e.jsxs("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsxs("g",{filter:"url(#filter0_d_7505_6034)",children:[e.jsx("path",{d:"M2 13.37C2 13.0276 2.27758 12.75 2.62 12.75H16.38C16.7224 12.75 17 13.0276 17 13.37V13.6299C17 13.9724 16.7224 14.2499 16.38 14.2499L2.62 14.25C2.27758 14.25 2 13.9724 2 13.63V13.37Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M2.75 11.12C2.75 10.7776 3.02758 10.5 3.37 10.5H15.63C15.9724 10.5 16.25 10.7776 16.25 11.12V11.3799C16.25 11.7224 15.9724 11.9999 15.63 11.9999L3.37 12C3.02759 12 2.75 11.7224 2.75 11.38V11.12Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M14.75 6L14.75 10.5L13.2501 10.5L13.25 6L14.75 6Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M11.75 6L11.75 10.5L10.2501 10.5L10.25 6L11.75 6Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M8.75 6L8.75 10.5L7.25006 10.5L7.25 6L8.75 6Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M5.75 6L5.75 10.5L4.25006 10.5L4.25 6L5.75 6Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M4.17638 4.14059L9.11936 0.296056C9.34325 0.12192 9.65675 0.12192 9.88064 0.296056L14.8236 4.14059C15.2896 4.50303 15.0333 5.24999 14.443 5.24999L10.25 5.24997L4.55702 5.24999C3.96669 5.25 3.71039 4.50303 4.17638 4.14059Z",fill:"#DDDDDD"})]}),e.jsx("rect",{x:"8.75",y:"2.25",width:"1.5",height:"1.5",rx:"0.75",fill:"#080E18"}),e.jsx("defs",{children:e.jsxs("filter",{id:"filter0_d_7505_6034",x:"0",y:"0.165527",width:"19",height:"18.0845",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[e.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),e.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),e.jsx("feOffset",{dy:"2"}),e.jsx("feGaussianBlur",{stdDeviation:"1"}),e.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),e.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),e.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_7505_6034"}),e.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_7505_6034",result:"shape"})]})})]}),Vn=({className:t})=>e.jsx("svg",{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 13.62L0 17H4V13.62C4 13.2776 3.72242 13 3.38 13H2.99976V4.63476C2.99976 3.25522 4.11722 2.13642 5.49675 2.13476C6.87864 2.1331 7.99976 3.25287 7.99976 4.63476L7.99976 15.3652C7.99976 17.8581 10.0263 19.8759 12.5191 19.8652C14.9968 19.8545 16.9998 17.843 16.9998 15.3652V6H17.38C17.7224 6 18 5.72242 18 5.38V2H14V5.38C14 5.72242 14.2776 6 14.62 6H14.9998V15.3652C14.9998 16.7417 13.887 17.8593 12.5105 17.8652C11.1256 17.8712 9.99976 16.7501 9.99976 15.3652V4.63476C9.99976 2.14736 7.98174 0.131771 5.49435 0.13476C3.01118 0.137743 0.999756 2.15159 0.999756 4.63476L0.999756 13H0.62C0.277583 13 0 13.2776 0 13.62ZM17.4 1.4H17H15H14.6L14.6 0.6H15H17H17.4V1.4ZM1 17.6H0.6L0.6 18.4H1H3H3.4V17.6H3H1Z",fill:"#DDDDDD"})}),V3=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,children:[e.jsx("circle",{cx:"10",cy:"10",r:"7.2",stroke:"#78839F",strokeWidth:"1.6"}),e.jsx("path",{d:"M7.59998 7.6001L12.4 12.4001",stroke:"#78839F",strokeWidth:"1.6"}),e.jsx("path",{d:"M12.4 7.6001L7.60002 12.4001",stroke:"#78839F",strokeWidth:"1.6"})]}),Zc=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",className:t,fill:"none",children:e.jsx("path",{d:"M7 11L1.80385 5L12.1962 5L7 11Z",fill:"#F7343B"})}),Gc=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",className:t,fill:"none",children:e.jsx("path",{d:"M7 3L12.1962 9H1.80385L7 3Z",fill:"#4ADFA7"})}),zc=({className:t})=>e.jsxs("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsxs("g",{clipPath:"url(#clip0_3850_53628)",children:[e.jsx("circle",{cx:"7.99902",cy:"8.32202",r:"8.00098",fill:"#4ADFA7"}),e.jsx("path",{d:"M4.56982 8.32216L6.85582 10.6082L11.4278 6.60767",stroke:"#003D2B",strokeWidth:"2.00024"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_3850_53628",children:e.jsx("rect",{width:"16.002",height:"16.002",fill:"white",transform:"translate(-0.00195312 0.321045)"})})})]}),el=({className:t,onClick:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",className:t,onClick:s,children:e.jsx("path",{stroke:"currentColor",strokeWidth:"1.5",d:"M8.8 1.2 4 6l4.8 4.8"})}),Z3=({className:t,onClick:s})=>e.jsxs("svg",{viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,onClick:s,children:[e.jsx("path",{d:"M9 13.498C11.4853 13.498 13.5 11.4833 13.5 8.99805C13.5 6.51277 11.4853 4.49805 9 4.49805C6.51472 4.49805 4.5 6.51277 4.5 8.99805C4.5 11.4833 6.51472 13.498 9 13.498Z",fill:"white"}),e.jsx("path",{d:"M9.00055 4.50002H16.7935C16.0038 3.13179 14.8678 1.99558 13.4997 1.20564C12.1317 0.415708 10.5797 -0.000110201 8.99995 2.19074e-08C7.42019 0.000110245 5.8683 0.416145 4.50033 1.20627C3.13235 1.9964 1.99652 3.13276 1.20703 4.50111L5.10351 11.25L5.107 11.2491C4.71062 10.5656 4.50145 9.78965 4.50056 8.99952C4.49967 8.20938 4.7071 7.43297 5.10194 6.74856C5.49677 6.06414 6.06506 5.49592 6.74952 5.10115C7.43398 4.70639 8.21041 4.49904 9.00055 4.50002Z",fill:"url(#paint0_linear_401_3070)"}),e.jsx("path",{d:"M9 12.5625C10.9675 12.5625 12.5625 10.9675 12.5625 9C12.5625 7.03249 10.9675 5.4375 9 5.4375C7.03249 5.4375 5.4375 7.03249 5.4375 9C5.4375 10.9675 7.03249 12.5625 9 12.5625Z",fill:"#1A73E8"}),e.jsx("path",{d:"M12.8961 11.2509L8.99966 17.9998C10.5794 18 12.1314 17.5843 13.4995 16.7945C14.8677 16.0047 16.0037 14.8685 16.7935 13.5004C17.5833 12.1322 17.9989 10.5802 17.9986 9.00046C17.9984 7.4207 17.5822 5.86886 16.7919 4.50098H8.99898L8.99805 4.50446C9.78819 4.50294 10.5648 4.70975 11.2495 5.10404C11.9342 5.49834 12.5029 6.06618 12.8982 6.75033C13.2935 7.43448 13.5015 8.21075 13.5011 9.0009C13.5007 9.79104 13.2921 10.5671 12.8961 11.2509Z",fill:"url(#paint1_linear_401_3070)"}),e.jsx("path",{d:"M5.1026 11.2514L1.20612 4.50244C0.416041 5.87044 5.88792e-05 7.42235 6.24998e-09 9.00211C-5.88667e-05 10.5819 0.415808 12.1338 1.20578 13.5019C1.99576 14.8699 3.132 16.0059 4.50026 16.7955C5.86851 17.5852 7.42055 18.0006 9.00031 18.0002L12.8968 11.2513L12.8943 11.2487C12.5005 11.9338 11.9331 12.5029 11.2493 12.8987C10.5654 13.2946 9.78934 13.5031 8.9992 13.5034C8.20906 13.5037 7.43281 13.2956 6.74871 12.9002C6.0646 12.5049 5.49682 11.9361 5.1026 11.2514Z",fill:"url(#paint2_linear_401_3070)"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_401_3070",x1:"1.20703",y1:"5.62502",x2:"16.7935",y2:"5.62502",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#D93025"}),e.jsx("stop",{offset:"1",stopColor:"#EA4335"})]}),e.jsxs("linearGradient",{id:"paint1_linear_401_3070",x1:"7.77011",y1:"17.8795",x2:"15.5634",y2:"4.3812",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FCC934"}),e.jsx("stop",{offset:"1",stopColor:"#FBBC04"})]}),e.jsxs("linearGradient",{id:"paint2_linear_401_3070",x1:"9.97366",y1:"17.4383",x2:"2.18041",y2:"3.93994",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#1E8E3E"}),e.jsx("stop",{offset:"1",stopColor:"#34A853"})]})]})]}),G3=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 40",className:t,onClick:s,children:[e.jsxs("g",{clipPath:"url(#circle_approve_svg)",children:[e.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#1C2434"}),e.jsx("path",{stroke:"#DDD",d:"M24 24v4.95c0 .3-.25.55-.55.55h-10.9a.55.55 0 0 1-.55-.55v-17.4c0-.3.25-.55.55-.55h10.9c.3 0 .55.25.55.55V16"}),e.jsx("path",{fill:"#DDD",fillRule:"evenodd",d:"M24 29H12v-1h12v1Z",clipRule:"evenodd"}),e.jsx("rect",{width:"5.81",height:"2.22",x:"14.9",y:"10",fill:"#DDD",rx:".55"}),e.jsx("path",{stroke:"#000",strokeWidth:".55",d:"M16 29h4"}),e.jsx("path",{fill:"#DDD",fillRule:"evenodd",d:"M24.66 25a5 5 0 1 0 0-10 5 5 0 0 0 0 10Zm-.35-3.37 2.76-2.52-.68-.74-2.42 2.22-1.05-.93-.66.75 1.38 1.23.34.3.33-.3Z",clipRule:"evenodd"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"circle_approve_svg",children:e.jsx("path",{fill:"#fff",d:"M0 0h40v40H0z"})})})]}),z3=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 41",className:t,onClick:s,children:[e.jsxs("g",{clipPath:"url(#circleCamera-a)",children:[e.jsx("circle",{cx:"20",cy:"20.32",r:"20",fill:"#1C2434"}),e.jsx("path",{fill:"#DDD",d:"M10 15.4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v13.92a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1V15.4ZM20.08 11.32a1 1 0 0 1 1-1h5.47a1 1 0 0 1 1 1v1.42h-7.47v-1.42Z"}),e.jsx("ellipse",{cx:"20",cy:"22.36",fill:"#1A1B22",rx:"3.85",ry:"4.42"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"circleCamera-a",children:e.jsx("path",{fill:"#fff",d:"M0 .32h40v40H0z"})})})]}),K3=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 41",className:t,onClick:s,children:[e.jsxs("g",{clipPath:"url(#circleGear-a)",children:[e.jsx("circle",{cx:"20",cy:"20.32",r:"20",fill:"#1C2434"}),e.jsx("g",{clipPath:"url(#circleGear-b)",children:e.jsx("path",{fill:"#DDD",fillRule:"evenodd",d:"M30 18.97v2.7l-3.18.74c-.13.44-.3.86-.51 1.26l1.72 2.76-1.92 1.92-2.7-1.69c-.42.24-.87.44-1.34.59l-.72 3.07h-2.7l-.7-2.98a7.2 7.2 0 0 1-1.5-.6l-2.56 1.6-1.92-1.9 1.57-2.52c-.29-.49-.51-1.02-.67-1.58L10 21.67v-2.7l2.87-.67c.16-.56.38-1.09.67-1.58l-1.57-2.51 1.92-1.92 2.56 1.6a7.2 7.2 0 0 1 1.5-.59l.7-2.98h2.7l.72 3.07c.47.15.92.35 1.34.59l2.7-1.69 1.92 1.92-1.72 2.76c.2.4.38.82.5 1.26l3.19.74Zm-10 5.35a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z",clipRule:"evenodd"})})]}),e.jsxs("defs",{children:[e.jsx("clipPath",{id:"circleGear-a",children:e.jsx("path",{fill:"#fff",d:"M0 .32h40v40H0z"})}),e.jsx("clipPath",{id:"circleGear-b",children:e.jsx("path",{fill:"#fff",d:"M10 10.32h20v20H10z"})})]})]}),Y3=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:t,onClick:s,children:[e.jsx("circle",{cx:"10",cy:"10",r:"10",fill:"#1C2434"}),e.jsx("path",{fill:"#DDD",d:"M9.63 14V7.32H8.02v-.87c.5 0 .91-.05 1.2-.13.3-.09.52-.22.66-.38.14-.17.22-.38.24-.62h1V14h-1.5Z"})]}),Q3=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:t,onClick:s,children:[e.jsx("circle",{cx:"10",cy:"10",r:"10",fill:"#1C2434"}),e.jsx("path",{fill:"#DDD",d:"M6.73 7.93c0-.6.15-1.1.43-1.5.28-.4.66-.71 1.14-.91a4.97 4.97 0 0 1 3.26-.05c.5.16.87.41 1.15.75.28.34.42.77.42 1.27 0 .43-.13.81-.4 1.15-.25.33-.66.6-1.22.79.35.1.66.24.94.43a1.97 1.97 0 0 1 .9 1.71c0 .41-.1.78-.27 1.1-.18.32-.43.59-.75.8-.31.22-.68.39-1.1.5-.43.1-.89.16-1.38.16-.65 0-1.21-.11-1.68-.33a2.58 2.58 0 0 1-1.1-.95c-.27-.4-.4-.89-.41-1.45h1.42c.08.52.29.9.61 1.15.33.25.73.38 1.2.38.38 0 .72-.06 1-.18.29-.12.5-.28.66-.49.15-.2.23-.45.23-.73 0-.29-.08-.54-.25-.75-.17-.2-.4-.36-.68-.48a2.84 2.84 0 0 0-.97-.18l-.8-.02V8.91l.74-.03c.34-.01.64-.08.9-.2.27-.12.47-.27.62-.47.15-.2.22-.42.22-.66a.96.96 0 0 0-.2-.6 1.32 1.32 0 0 0-.59-.43c-.25-.1-.55-.15-.9-.15-.28 0-.56.05-.81.15-.26.1-.47.28-.64.5-.16.24-.25.54-.27.9H6.73Z"})]}),J3=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",className:t,onClick:s,children:[e.jsx("circle",{cx:"10",cy:"10",r:"10",fill:"#1C2434"}),e.jsx("path",{fill:"#DDD",d:"M7 14V12.82a2.48 2.48 0 0 1 .9-2c.28-.23.57-.45.9-.63l.97-.53.9-.51c.27-.18.48-.38.65-.6.17-.22.25-.49.25-.79 0-.39-.14-.7-.41-.95a1.58 1.58 0 0 0-1.11-.37c-.5 0-.9.14-1.23.43-.32.28-.51.68-.57 1.2H6.83c0-.53.13-1.01.38-1.44.24-.44.6-.78 1.08-1.04a3.73 3.73 0 0 1 1.8-.39c.62 0 1.15.11 1.6.33a2.38 2.38 0 0 1 1.42 2.23 2.45 2.45 0 0 1-.9 1.96c-.26.22-.55.43-.87.6-.31.18-.63.34-.95.5-.32.15-.6.31-.88.48a2.4 2.4 0 0 0-.64.56c-.16.22-.24.47-.24.77v.12h4.5V14H7Z"})]}),X3=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 40",className:t,onClick:s,children:[e.jsxs("g",{clipPath:"url(#circle_reliable_svg_a)",children:[e.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#1C2434"}),e.jsxs("g",{clipPath:"url(#circle_reliable_svg_b)",children:[e.jsx("path",{stroke:"#DDD",strokeWidth:".62",d:"M18.4 13h8.8M18.4 14.98h8.8"}),e.jsx("rect",{width:"13.78",height:"18.12",x:"15.9",y:"10.31",stroke:"#DDD",strokeWidth:".62",rx:".31"}),e.jsx("path",{fill:"#DDD",fillRule:"evenodd",d:"M15.77 17.48h-5.65c-.41 2.63 0 10.86 5.65 12.52V17.48Zm0 0h5.66c.41 2.63 0 10.86-5.66 12.52V17.48Z",clipRule:"evenodd"}),e.jsx("path",{stroke:"#000",strokeWidth:".62",d:"m13.7 22.86 1.41 1.76 2.73-3.05"})]})]}),e.jsxs("defs",{children:[e.jsx("clipPath",{id:"circle_reliable_svg_a",children:e.jsx("path",{fill:"#fff",d:"M0 0h40v40H0z"})}),e.jsx("clipPath",{id:"circle_reliable_svg_b",children:e.jsx("path",{fill:"#fff",d:"M10 10h20v20H10z"})})]})]}),e4=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 40",className:t,onClick:s,children:[e.jsxs("g",{clipPath:"url(#circle_secure_svg_a)",children:[e.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#1C2434"}),e.jsxs("g",{clipPath:"url(#circle_secure_svg_b)",children:[e.jsx("path",{fill:"#DDD",d:"M14.35 16.6c0-1.02.24-2.52 1.08-3.76.83-1.22 2.25-2.21 4.68-2.21V10c-2.64 0-4.25 1.1-5.2 2.5a7.56 7.56 0 0 0-1.19 4.1v3.13h.63v-3.14Z"}),e.jsx("path",{fill:"#DDD",d:"M20.1 12.1c-1.62 0-2.72.7-3.4 1.59a4.57 4.57 0 0 0-.96 2.64v3.4h.63v-3.4c0-.59.23-1.5.82-2.26a3.5 3.5 0 0 1 2.92-1.35v-.63ZM25.86 16.6c0-1.02-.24-2.52-1.08-3.76-.83-1.22-2.25-2.21-4.67-2.21V10c2.63 0 4.24 1.1 5.19 2.5a7.56 7.56 0 0 1 1.2 4.1v3.13h-.64v-3.14Z"}),e.jsx("path",{fill:"#DDD",d:"M20.1 12.1c1.63 0 2.73.7 3.42 1.59.67.87.95 1.92.95 2.64v3.4h-.63v-3.4c0-.59-.23-1.5-.82-2.26a3.5 3.5 0 0 0-2.91-1.35v-.63Z"}),e.jsx("path",{fill:"#DDD",d:"M12 29.38V19.24c0-.34.28-.62.63-.62h14.96c.34 0 .62.28.62.62v10.13c0 .34-.28.62-.62.62H12.63a.62.62 0 0 1-.63-.63Z"}),e.jsx("path",{fill:"#000",fillRule:"evenodd",d:"M20.42 24.73V30h-.63v-5.27h.63Z",clipRule:"evenodd"})]})]}),e.jsxs("defs",{children:[e.jsx("clipPath",{id:"circle_secure_svg_a",children:e.jsx("path",{fill:"#fff",d:"M0 0h40v40H0z"})}),e.jsx("clipPath",{id:"circle_secure_svg_b",children:e.jsx("path",{fill:"#fff",d:"M10 10h20v20H10z"})})]})]}),Kc=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",fill:"none",className:t,onClick:s,children:[e.jsx("g",{stroke:"currentColor",strokeWidth:"1.5",clipPath:"url(#a)",children:e.jsx("path",{d:"m1.2 10.8 9.6-9.6M10.8 10.8 1.2 1.2"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"a",children:e.jsx("path",{fill:"currentColor",d:"M0 0h12v12H0z"})})})]}),Yc=({className:t,onClick:s})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:t,onClick:s,children:[e.jsxs("g",{clipPath:"url(#clip0_1125_29581)",children:[e.jsx("path",{d:"M4 3.74952H0.5V11.5L7.25016 11.4727V8.24448",stroke:"#DDDDDD",strokeWidth:"1.5"}),e.jsx("path",{d:"M4.75 0.75H11.25V8.25H4.75V0.75Z",stroke:"#DDDDDD",strokeWidth:"1.5"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_1125_29581",children:e.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),t4=({className:t})=>e.jsxs("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("circle",{cx:"12.5",cy:"8.03052",r:"5",stroke:"currentColor"}),e.jsx("circle",{cx:"7.5",cy:"12.0305",r:"6.5",fill:"none"}),e.jsx("circle",{cx:"7.5",cy:"12.0305",r:"5.5",fill:"currentColor"}),e.jsx("path",{d:"M6.38867 10.0305L6.38867 14.0305",stroke:"stroke-current",strokeWidth:"0.8"}),e.jsx("path",{d:"M5.5 10.0305L8.5 10.0305C9.05228 10.0305 9.5 10.4782 9.5 11.0305V11.0305C9.5 11.5827 9.05228 12.0305 8.5 12.0305L6.3 12.0305",stroke:"stroke-current",strokeWidth:"0.8"}),e.jsx("path",{d:"M5.5 14.0305L8.5 14.0305C9.05228 14.0305 9.5 13.5828 9.5 13.0305V13.0305C9.5 12.4782 9.05228 12.0305 8.5 12.0305L6.3 12.0305",stroke:"stroke-current",strokeWidth:"0.8"}),e.jsx("path",{d:"M6.83333 14.1472L6.83333 15.1416",stroke:"stroke-current",strokeWidth:"0.8"}),e.jsx("path",{d:"M8.38867 14.0305L8.38867 15.1416",stroke:"stroke-current",strokeWidth:"0.8"}),e.jsx("path",{d:"M6.83333 8.91937L6.83333 9.89774",stroke:"stroke-current",strokeWidth:"0.8"}),e.jsx("path",{d:"M8.38867 8.91937L8.38867 10.0305",stroke:"stroke-current",strokeWidth:"0.8"})]}),Qc=({className:t,onClick:s})=>e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,onClick:s,children:[e.jsx("rect",{x:"1.5",y:"0.5",width:"9",height:"11",stroke:"#DDDDDD"}),e.jsx("path",{d:"M3 3.5L9 3.5",stroke:"#DDDDDD"}),e.jsx("path",{d:"M3 5.5H9",stroke:"#DDDDDD"}),e.jsx("path",{d:"M3 7.5H6",stroke:"#DDDDDD"})]}),s4=({className:t,onClick:s})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 2 54",className:t,onClick:s,children:e.jsx("path",{stroke:"#1C2434",strokeDasharray:"4 4",strokeWidth:"2",d:"M1 0v54"})}),ds=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",className:t,fill:"none",children:e.jsx("path",{d:"M2.3999 4.80005L5.9999 7.80005L9.5999 4.80005",stroke:"#DDDDDD",strokeWidth:"1.5"})}),Jc=({className:t,onClick:s})=>e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,onClick:s,children:[e.jsx("rect",{width:"12",height:"12",fill:"black"}),e.jsx("rect",{x:"0.5",y:"2.5",width:"11",height:"7",stroke:"#DDDDDD"}),e.jsx("path",{d:"M0.5 2.5L6 6.5L11.5 2.5",stroke:"#DDDDDD"})]}),a4=({className:t})=>e.jsx("svg",{viewBox:"0 0 10 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:t,children:e.jsx("path",{d:"M0.905273 0.709473H9.09448V3.42083H0.905273V0.709473ZM0.905273 14.2902V6.14316H9.09448V8.85452H3.63068V14.2902H0.905273Z",fill:"currentColor"})}),tl=({className:t})=>e.jsxs("svg",{width:"21",height:"22",viewBox:"0 0 21 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7994 3.75859C18.2513 4.04469 18.3858 4.64299 18.0997 5.09493L12.4543 14.0126C11.9182 14.8594 10.7059 14.9218 10.0857 14.1345L7.34693 10.6576L4.4289 15.409L2.77832 14.3954L6.05973 9.05218C6.58864 8.19095 7.8135 8.11955 8.43889 8.9135L11.1838 12.3982L16.463 4.05887C16.7491 3.60693 17.3474 3.47249 17.7994 3.75859Z",fill:"white"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7994 3.75859C18.2513 4.04469 18.3858 4.64299 18.0997 5.09493L12.4543 14.0126C11.9182 14.8594 10.7059 14.9218 10.0857 14.1345L7.34693 10.6576L4.4289 15.409L2.77832 14.3954L6.05973 9.05218C6.58864 8.19095 7.8135 8.11955 8.43889 8.9135L11.1838 12.3982L16.463 4.05887C16.7491 3.60693 17.3474 3.47249 17.7994 3.75859Z",fill:"url(#paint0_linear_5384_3432)",fillOpacity:"0.9"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1533 3.25195H3.7185C3.18361 3.25195 2.75 3.68556 2.75 4.22045V17.7794C2.75 18.3143 3.18361 18.7479 3.7185 18.7479H17.2774C17.8123 18.7479 18.2459 18.3143 18.2459 17.7794V4.74439L16.3089 7.84771V16.8109H4.68699V5.18895H14.06L15.1533 3.25195Z",fill:"white"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"paint0_linear_5384_3432",x1:"-1.27304",y1:"18.3182",x2:"27.4983",y2:"8.5939",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{offset:"0.145",stopColor:"#5D57F8"}),e.jsx("stop",{offset:"0.475",stopColor:"#4DE0B5"}),e.jsx("stop",{offset:"0.807292",stopColor:"#9BE839"})]})})]}),n4=t=>e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:[e.jsx("mask",{id:"mask0_784_135179",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:e.jsx("rect",{width:"24",height:"24",fill:"#currentColor"})}),e.jsx("g",{mask:"url(#mask0_784_135179)",children:e.jsx("path",{d:"M5.99998 19.5C5.03461 19.5 4.20993 19.158 3.52595 18.474C2.84198 17.79 2.5 16.9654 2.5 16V8.00001C2.5 7.03464 2.84198 6.20996 3.52595 5.52598C4.20993 4.84201 5.03461 4.50003 5.99998 4.50003H18C18.9653 4.50003 19.79 4.84201 20.474 5.52598C21.158 6.20996 21.5 7.03464 21.5 8.00001V16C21.5 16.9654 21.158 17.79 20.474 18.474C19.79 19.158 18.9653 19.5 18 19.5H5.99998ZM5.99998 8.25003H18C18.3795 8.25003 18.7375 8.30451 19.074 8.41348C19.4106 8.52246 19.7192 8.68786 20 8.90966V8.00001C20 7.45001 19.8041 6.97917 19.4125 6.58751C19.0208 6.19584 18.55 6.00001 18 6.00001H5.99998C5.44998 6.00001 4.97914 6.19584 4.58748 6.58751C4.19581 6.97917 3.99998 7.45001 3.99998 8.00001V8.90966C4.28074 8.68786 4.58939 8.52246 4.92593 8.41348C5.26248 8.30451 5.62049 8.25003 5.99998 8.25003ZM4.09228 11.2404L15.3231 13.9692C15.4602 14.0026 15.599 14.0042 15.7394 13.9741C15.8798 13.9439 16.007 13.8821 16.1211 13.7885L19.7211 10.7635C19.557 10.4622 19.3221 10.2179 19.0163 10.0308C18.7106 9.84357 18.3718 9.74998 18 9.74998H5.99998C5.52818 9.74998 5.11856 9.88812 4.77113 10.1644C4.42369 10.4407 4.19741 10.7994 4.09228 11.2404Z",fill:"#currentColor"})})]}),r4=({className:t,onClick:s})=>e.jsx("svg",{width:"5",height:"7",viewBox:"0 0 5 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,onClick:s,children:e.jsx("path",{opacity:"0.5",d:"M-5.99674e-05 3.32104L5 0.321045L5 6.32105L-5.99674e-05 3.32104Z",fill:"currentColor"})}),_l=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,children:[e.jsx("circle",{cx:"10",cy:"10",r:"7.2",stroke:"#4ADFA7",strokeWidth:"1.6"}),e.jsx("circle",{cx:"10",cy:"10",r:"4",fill:"#4ADFA7"})]}),i4=t=>e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[e.jsx("mask",{id:"mask0_784_135196",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:e.jsx("rect",{width:"24",height:"24",fill:"currentColor"})}),e.jsx("g",{mask:"url(#mask0_784_135196)",children:e.jsx("path",{d:"M5.05768 20.5C4.55254 20.5 4.12498 20.325 3.775 19.975C3.425 19.625 3.25 19.1974 3.25 18.6923V3H4.74995V18.6923C4.74995 18.7692 4.78201 18.8397 4.84612 18.9038C4.91022 18.9679 4.98074 19 5.05768 19H20.75V20.5H5.05768ZM6.69233 17.2499V9.09615H9.69225V17.2499H6.69233ZM11.4423 17.2499V4.09615H14.4423V17.2499H11.4423ZM16.1923 17.2499V13.0962H19.1922V17.2499H16.1923Z",fill:"currentColor"})})]}),Xc=({className:t})=>e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsxs("g",{clipPath:"url(#clip0_2434_37126)",children:[e.jsx("circle",{cx:"6",cy:"6",r:"5.5",stroke:"white"}),e.jsx("path",{d:"M6 5L6 9",stroke:"white"}),e.jsx("path",{d:"M6 3L6 4",stroke:"white"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_2434_37126",children:e.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),Cn=({className:t})=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M10.1429 2L5 8L10.1429 14",stroke:"currentColor",strokeWidth:"2"})}),mi=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:t,children:[e.jsx("path",{d:"M9.50005 2.5L6 6.00007",stroke:"#DDDDDD",strokeWidth:"1.5",strokeLinecap:"square",strokeLinejoin:"round"}),e.jsx("path",{d:"M5 2H2V10H10V7",stroke:"white",strokeWidth:"1.5"}),e.jsx("path",{d:"M7 2H10V5",stroke:"#DDDDDD",strokeWidth:"1.5"})]}),l4=t=>e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[e.jsxs("g",{clipPath:"url(#clip0_932_8298)",children:[e.jsx("rect",{y:"12",width:"5.33333",height:"8",fill:"currentColor"}),e.jsx("rect",{x:"7.33325",y:"8",width:"5.33333",height:"12",fill:"currentColor"}),e.jsx("rect",{x:"14.6665",width:"5.33333",height:"20",fill:"currentColor"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_932_8298",children:e.jsx("rect",{width:"20",height:"20",fill:"currentColor"})})})]}),o4=({className:t})=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.42106 7.78755L2.65789 6.81782C2.32928 7.57495 2.11436 8.39287 2.03467 9.25002L4.0464 9.25001C4.11001 8.73987 4.23766 8.24962 4.42106 7.78755ZM4.0464 10.75L2.03467 10.75C2.11547 11.619 2.33523 12.4476 2.67152 13.2134L4.43054 12.2362C4.24206 11.7672 4.1111 11.2689 4.0464 10.75ZM5.16005 13.5468L3.4011 14.524C3.89656 15.2453 4.50722 15.8814 5.20655 16.4055L6.25574 14.6886C5.84233 14.3581 5.4736 13.974 5.16005 13.5468ZM7.535 15.4719L6.48577 17.1888C7.33374 17.6041 8.266 17.8738 9.24998 17.9653V15.9536C8.64583 15.8782 8.06958 15.7131 7.535 15.4719ZM10.75 15.9536V17.9653C11.734 17.8738 12.6662 17.6041 13.5142 17.1888L12.465 15.4719C11.9304 15.7131 11.3541 15.8782 10.75 15.9536ZM13.7442 14.6886L14.7934 16.4055C16.7403 14.9463 18 12.6202 18 10C18 5.58172 14.4183 2 9.99998 2C8.66583 2 7.40796 2.32658 6.30195 2.90416L7.39501 4.59346C8.18286 4.21316 9.06653 4 9.99998 4C13.3137 4 16 6.68629 16 10C16 11.8974 15.1192 13.5892 13.7442 14.6886ZM6.13633 5.40938L5.04331 3.72014C4.40305 4.22618 3.84202 4.82805 3.38187 5.5041L5.14498 6.4738C5.43142 6.08009 5.76459 5.72257 6.13633 5.40938Z",fill:"#78839F"})}),c4=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 11 12",className:t,children:e.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.802.602A.5.5 0 0 1 11 1v3.333a.5.5 0 0 1-1 0V2.207L4.742 7.465a.5.5 0 1 1-.707-.707L9.293 1.5H7.167a.5.5 0 0 1 0-1H10.5a.498.498 0 0 1 .302.102ZM0 1A.5.5 0 0 1 .5.5h3.889a.5.5 0 0 1 0 1H1v9h9V7.111a.5.5 0 0 1 1 0V11a.5.5 0 0 1-.5.5H.5A.5.5 0 0 1 0 11V1Z",clipRule:"evenodd"})}),Mr=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,children:e.jsx("circle",{cx:"10",cy:"10",r:"7.2",stroke:"#4ADFA7",strokeWidth:"1.6"})}),Rl=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,children:[e.jsx("circle",{cx:"10",cy:"10",r:"7.2",stroke:"#4ADFA7",strokeWidth:"1.6"}),e.jsx("path",{d:"M14.8001 9.99995C14.8001 10.6303 14.6759 11.2545 14.4347 11.8368C14.1935 12.4192 13.8399 12.9483 13.3942 13.3941C12.9485 13.8398 12.4193 14.1933 11.837 14.4346C11.2546 14.6758 10.6304 14.8 10.0001 14.8C9.36973 14.8 8.74556 14.6758 8.16319 14.4346C7.58083 14.1933 7.05168 13.8398 6.60596 13.3941C6.16024 12.9483 5.80667 12.4192 5.56545 11.8368C5.32423 11.2545 5.20007 10.6303 5.20007 9.99995L10.0001 9.99995H14.8001Z",fill:"#4ADFA7"})]}),e1=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"105",height:"88",viewBox:"0 0 105 88",fill:"none",className:t,children:[e.jsx("path",{d:"M66.1877 1.27671L67.7093 10.6861C41.6916 6.65968 14.1236 19.2271 5.13047 39.2374L3.60889 29.828C12.602 9.8177 40.17 -2.74975 66.1877 1.27671Z",fill:"#5A56EC"}),e.jsx("path",{d:"M40.9867 15.3871C40.9293 15.4015 40.8719 15.4158 40.8216 15.4302C40.312 12.2937 39.8096 9.1572 39.3 6.02073C39.3575 6.00637 39.4149 5.99202 39.4651 5.97766C39.9747 9.11414 40.4771 12.2506 40.9867 15.3871Z",fill:"#080E18"}),e.jsx("path",{d:"M40.9903 15.3874C40.4807 12.2509 39.9783 9.11441 39.4688 5.97794C44.1555 4.68602 49.0648 3.92523 54.0387 3.77451C54.5483 6.91098 55.0507 10.0475 55.5603 13.1839C50.5864 13.3418 45.6771 14.1026 40.9903 15.3874Z",fill:"#080E18"}),e.jsx("path",{d:"M55.7396 13.1763C55.6822 13.1763 55.6248 13.1763 55.5602 13.1763C55.0506 10.0398 54.5482 6.90335 54.0386 3.76688C54.096 3.76688 54.1534 3.76688 54.218 3.76688C54.7276 6.90335 55.23 10.0398 55.7396 13.1763Z",fill:"#080E18"}),e.jsx("path",{d:"M38.9874 15.9761C38.4778 12.8396 37.9754 9.70316 37.4658 6.56668C38.0759 6.38007 38.686 6.19346 39.296 6.02838C39.8056 9.16486 40.308 12.3013 40.8176 15.4378C40.2004 15.6101 39.5903 15.7895 38.9874 15.9761Z",fill:"#080E18"}),e.jsx("path",{d:"M38.9872 15.9758C38.9298 15.9901 38.8795 16.0116 38.8221 16.026C38.3125 12.8895 37.8101 9.75303 37.3005 6.61656C37.358 6.6022 37.4082 6.58067 37.4656 6.56631C37.9752 9.70279 38.4776 12.8393 38.9872 15.9758Z",fill:"#080E18"}),e.jsx("path",{d:"M55.7394 13.1772C55.2298 10.0407 54.7274 6.90421 54.2178 3.76773C55.2298 3.73903 56.2346 3.73902 57.2466 3.76056C57.7562 6.89704 58.2586 10.0335 58.7682 13.17C57.7562 13.1485 56.7442 13.1485 55.7394 13.1772Z",fill:"#080E18"}),e.jsx("path",{d:"M58.9526 13.1693C58.888 13.1693 58.8306 13.1693 58.766 13.1693C58.2564 10.0328 57.754 6.89634 57.2444 3.75986C57.309 3.75986 57.3664 3.75986 57.431 3.75986C57.9406 6.89634 58.443 10.0328 58.9526 13.1693Z",fill:"#080E18"}),e.jsx("path",{d:"M69.5827 1.87955L71.1115 11.2818L71.0899 11.3249L69.5684 1.92261L69.5827 1.87955Z",fill:"white"}),e.jsx("path",{d:"M69.5685 1.9226L71.0901 11.3249L67.7096 10.6861L66.188 1.27664L69.5685 1.9226Z",fill:"#5A56EC"}),e.jsx("path",{d:"M64.8814 4.42026L66.403 13.8297L66.1805 14.3536L64.6589 4.9442L64.8814 4.42026Z",fill:"#5A56EC"}),e.jsx("path",{d:"M58.9525 13.1693C58.4429 10.0328 57.9405 6.89634 57.4309 3.75986C59.9143 3.82445 62.4048 4.03977 64.8738 4.42017L66.3954 13.8296C63.9192 13.4492 61.4358 13.2339 58.9525 13.1693Z",fill:"#080E18"}),e.jsx("path",{d:"M25.4942 22.1268C24.9847 18.9903 24.4822 15.8538 23.9727 12.7174C28.0207 10.1838 32.528 8.1239 37.3081 6.61667C37.8177 9.75315 38.3201 12.8896 38.8297 16.0261C34.0496 17.5333 29.5422 19.5932 25.4942 22.1268Z",fill:"#080E18"}),e.jsx("path",{d:"M25.4933 22.1266C25.4144 22.1769 25.3354 22.2271 25.2564 22.2774C24.7469 19.1409 24.2445 16.0044 23.7349 12.8679C23.8138 12.8177 23.8928 12.7674 23.9717 12.7172C24.4813 15.8537 24.9837 18.9902 25.4933 22.1266Z",fill:"#080E18"}),e.jsx("path",{d:"M23.8265 23.2174C23.3169 20.0809 22.8145 16.9444 22.3049 13.808C22.7786 13.485 23.2523 13.1764 23.7404 12.8677C24.25 16.0042 24.7524 19.1407 25.262 22.2772C24.7811 22.5858 24.3002 22.8944 23.8265 23.2174Z",fill:"#080E18"}),e.jsx("path",{d:"M23.8274 23.218C23.7485 23.2682 23.6767 23.3185 23.5978 23.3759C23.0882 20.2394 22.5858 17.1029 22.0762 13.9665C22.1479 13.9162 22.2269 13.866 22.3058 13.8086C22.8154 16.945 23.3178 20.0815 23.8274 23.218Z",fill:"#080E18"}),e.jsx("path",{d:"M13.9161 32.2399C13.4065 29.1034 12.9041 25.967 12.3945 22.8305C15.0645 19.5074 18.3517 16.5216 22.0767 13.9594C22.5863 17.0958 23.0887 20.2323 23.5983 23.3688C19.8733 25.9311 16.5932 28.9168 13.9161 32.2399Z",fill:"#080E18"}),e.jsx("path",{d:"M13.9171 32.2393C13.63 32.591 13.3573 32.9499 13.0846 33.3087C12.575 30.1723 12.0726 27.0358 11.563 23.8993C11.8357 23.5404 12.1085 23.1816 12.3956 22.8299C12.9051 25.9664 13.4076 29.1029 13.9171 32.2393Z",fill:"#080E18"}),e.jsx("path",{d:"M12.2501 34.4715C11.7405 31.335 11.2381 28.1985 10.7285 25.062C11.0013 24.6745 11.274 24.2869 11.5611 23.9065C12.0707 27.043 12.5731 30.1794 13.0827 33.3159C12.7956 33.6963 12.5157 34.0839 12.2501 34.4715Z",fill:"#080E18"}),e.jsx("path",{d:"M12.2497 34.4718C12.0631 34.7446 11.8836 35.0101 11.7042 35.29C11.1946 32.1535 10.6922 29.0171 10.1826 25.8806C10.362 25.6079 10.5415 25.3351 10.7281 25.0624C11.1444 27.6175 11.5535 30.1798 11.9698 32.7349C12.02 33.022 12.0631 33.3163 12.1133 33.6034C12.1277 33.668 12.142 33.7613 12.1492 33.833C12.1564 33.9048 12.1779 33.9909 12.1851 34.0555C12.1923 34.1201 12.2066 34.2063 12.221 34.2709C12.2281 34.3283 12.264 34.4144 12.2569 34.4718H12.2497Z",fill:"#080E18"}),e.jsx("path",{d:"M8.30391 30.653L9.8255 40.0625L9.14366 39.9405L7.62207 30.531L8.30391 30.653Z",fill:"#5A56EC"}),e.jsx("path",{d:"M11.706 35.2826C10.7298 36.7755 9.87574 38.333 9.14366 39.9407L7.62207 30.5313C8.34698 28.9236 9.20825 27.3733 10.1844 25.8732C10.2346 26.2034 10.3064 26.6412 10.3638 26.9713C10.4212 27.323 10.493 27.7895 10.5504 28.134C10.6796 28.9451 10.816 29.7633 10.9452 30.5743C11.0026 30.9404 11.0815 31.4356 11.1461 31.8088C11.1748 31.9883 11.2179 32.2323 11.2466 32.4189C11.2753 32.6055 11.3112 32.8424 11.3471 33.0218C11.4045 33.3735 11.4763 33.84 11.5337 34.1845C11.5839 34.5147 11.7777 34.9597 11.7131 35.2826H11.706Z",fill:"#080E18"}),e.jsx("path",{d:"M7.62207 30.5313C15.8975 12.2507 41.0898 0.759868 64.8825 4.42029L64.66 4.95141C41.2405 1.35558 16.4501 12.6598 8.30391 30.6533L7.62207 30.5313Z",fill:"#5A56EC"}),e.jsx("path",{d:"M66.1804 1.29767L67.702 10.7071L66.4029 13.8292L64.8813 4.41979L66.1804 1.29767Z",fill:"#080E18"}),e.jsx("path",{d:"M69.5692 1.92239L71.0908 11.3247L69.7845 14.454L68.2629 5.04452L69.5692 1.92239Z",fill:"white"}),e.jsx("path",{d:"M68.2633 5.04462L69.7849 14.4541L69.5695 14.9852L68.0408 5.57574L68.2633 5.04462Z",fill:"white"}),e.jsx("path",{d:"M64.6582 4.9444L66.1797 14.3538L65.5338 15.9041L64.0122 6.49469L64.6582 4.9444Z",fill:"#080E18"}),e.jsx("path",{d:"M9.60925 30.8832L11.1308 40.2926L9.82457 40.0629L8.30298 30.6535L9.60925 30.8832Z",fill:"#080E18"}),e.jsx("path",{d:"M64.6591 4.94421L66.1807 14.3536C42.7612 10.765 17.9708 22.0692 9.82457 40.0627L8.30298 30.6533C16.4492 12.6598 41.2396 1.35556 64.6591 4.94421Z",fill:"#5A56EC"}),e.jsx("path",{d:"M68.0408 5.5759L69.5695 14.9853L68.9308 16.4997L67.4092 7.09031L68.0408 5.5759Z",fill:"white"}),e.jsx("path",{d:"M67.4071 7.09025L68.9287 16.4997L65.5338 15.904L64.0122 6.49454L67.4071 7.09025Z",fill:"white"}),e.jsx("path",{d:"M102.204 31.0626L103.725 40.4721C101.507 26.7562 89.3418 15.2223 71.0899 11.3251L69.5684 1.91562C87.8202 5.81289 99.9857 17.3468 102.204 31.0626Z",fill:"#5A56EC"}),e.jsx("path",{d:"M75.87 16.1622C73.9393 15.4876 71.9082 14.9134 69.7909 14.4541L68.2693 5.04462C70.3866 5.50396 72.4178 6.07815 74.3485 6.75281C74.858 9.88929 75.3605 13.0258 75.87 16.1622Z",fill:"#080E18"}),e.jsx("path",{d:"M76.7596 16.4852C76.4653 16.3776 76.1639 16.2699 75.8624 16.1622C75.3528 13.0258 74.8504 9.88929 74.3408 6.75281C74.6423 6.86047 74.9437 6.96813 75.238 7.07579C75.7476 10.2123 76.25 13.3487 76.7596 16.4852Z",fill:"#080E18"}),e.jsx("path",{d:"M76.7601 16.4854C76.2505 13.3489 75.7481 10.2124 75.2385 7.07593C75.6405 7.22665 76.0352 7.37737 76.43 7.53527C76.9395 10.6718 77.442 13.8082 77.9515 16.9447C77.5568 16.7868 77.162 16.6361 76.7601 16.4854Z",fill:"#080E18"}),e.jsx("path",{d:"M79.0489 17.4042C78.6829 17.2463 78.3168 17.0956 77.9508 16.9449C77.4412 13.8084 76.9388 10.6719 76.4292 7.53546C76.8024 7.68618 77.1685 7.83691 77.5273 7.99481C78.0369 11.1313 78.5393 14.2678 79.0489 17.4042Z",fill:"#080E18"}),e.jsx("path",{d:"M50.2181 12.5669L51.7469 21.9763L51.5531 28.9455L50.0315 19.536L50.2181 12.5669Z",fill:"#080E18"}),e.jsx("path",{d:"M51.4527 19.9448L52.9743 29.347L52.881 28.8159L51.3594 19.4065L51.4527 19.9448Z",fill:"#5A56EC"}),e.jsx("path",{d:"M51.3609 19.4069L52.8825 28.8163L51.7485 21.9763L50.2197 12.5669L51.3609 19.4069Z",fill:"#080E18"}),e.jsx("path",{d:"M50.0312 19.5359L51.5528 28.9453L51.5384 29.4908L50.0168 20.0813L50.0312 19.5359Z",fill:"#5A56EC"}),e.jsx("path",{d:"M79.0487 17.4039C78.5391 14.2674 78.0367 11.131 77.5271 7.99448C81.7258 9.81033 85.3862 12.143 88.4151 14.856C88.9246 17.9925 89.4271 21.1289 89.9366 24.2654C86.9078 21.5452 83.2474 19.2198 79.0487 17.4039Z",fill:"#080E18"}),e.jsx("path",{d:"M90.0794 24.3944C90.0292 24.3513 89.9861 24.3082 89.9359 24.2652C89.4263 21.1287 88.9239 17.9922 88.4143 14.8557C88.4645 14.8988 88.5076 14.9419 88.5579 14.9849C89.0674 18.1214 89.5699 21.2579 90.0794 24.3944Z",fill:"#080E18"}),e.jsx("path",{d:"M61.2714 29.2032C58.4866 28.7152 55.6587 28.6003 52.8883 28.8156L51.3667 19.4062C54.1443 19.1909 56.965 19.3057 59.7498 19.7938C64.9533 20.7053 69.2669 22.7939 72.3746 25.6217C72.8842 28.7582 73.3866 31.8947 73.8962 35.0312C70.7813 32.2105 66.4749 30.1219 61.2714 29.2032Z",fill:"#080E18"}),e.jsx("path",{d:"M59.5271 20.3253L61.0487 29.7347C58.3644 29.261 55.6442 29.1534 52.9742 29.3543L51.4526 19.9449C54.1226 19.7439 56.85 19.8588 59.5271 20.3253Z",fill:"#5A56EC"}),e.jsx("path",{d:"M90.0819 24.3949C90.0819 24.3949 90.0819 24.359 90.0747 24.3447C90.0532 24.2155 90.0317 24.0791 90.0101 23.9499C89.9886 23.7992 89.9599 23.6557 89.9383 23.5049C89.479 20.6627 89.0196 17.8277 88.5603 14.9855C88.8833 15.2797 89.1991 15.5812 89.5077 15.8826C90.0173 19.0191 90.5197 22.1556 91.0293 25.2921C90.7207 24.9906 90.4049 24.6892 90.0819 24.3949Z",fill:"#080E18"}),e.jsx("path",{d:"M3.60787 29.8283L5.12946 39.2377L4.44761 39.1157L2.92603 29.7134L3.60787 29.8283Z",fill:"#5A56EC"}),e.jsx("path",{d:"M91.0294 25.2922C90.9576 25.1558 90.972 24.9476 90.9505 24.7969C90.9217 24.639 90.893 24.4309 90.8643 24.273C90.8069 23.9069 90.7423 23.5409 90.6849 23.1677C90.5701 22.4571 90.4552 21.7538 90.3404 21.0432C90.0605 19.3206 89.7805 17.6053 89.5078 15.8827C89.5581 15.9258 89.6011 15.976 89.6514 16.0191C90.1609 19.1556 90.6634 22.292 91.1729 25.4285C91.1227 25.3855 91.0796 25.3352 91.0294 25.2922Z",fill:"#080E18"}),e.jsx("path",{d:"M7.62099 30.531L9.14258 39.9405L5.13047 39.2371L3.60889 29.8277L7.62099 30.531Z",fill:"#080E18"}),e.jsx("path",{d:"M64.8815 4.42015C41.0887 0.759729 15.8964 12.2506 7.621 30.5312L3.60889 29.8278C12.602 9.81748 40.17 -2.74997 66.1806 1.29803L64.8743 4.42015H64.8815Z",fill:"#080E18"}),e.jsx("path",{d:"M1.86518 32.3618L3.38677 41.7712L3.33653 41.764L1.81494 32.3546L1.86518 32.3618Z",fill:"white"}),e.jsx("path",{d:"M2.53917 32.4834L4.06075 41.8928L3.38609 41.7708L1.8645 32.3614L2.53917 32.4834Z",fill:"white"}),e.jsx("path",{d:"M6.5603 33.187L8.08189 42.5964L4.0626 41.893L2.54102 32.4836L6.5603 33.187Z",fill:"white"}),e.jsx("path",{d:"M7.24068 33.3092L8.76227 42.7115L8.08042 42.5966L6.55884 33.1872L7.24068 33.3092Z",fill:"white"}),e.jsx("path",{d:"M9.60949 30.883L8.50418 33.5314L7.24098 33.3089L6.55913 33.1869L2.53985 32.4835L1.86518 32.3615L1.81494 32.3544L2.91307 29.7059L3.60927 29.8279L7.62137 30.5313L8.30322 30.6533L9.60949 30.883Z",fill:"white"}),e.jsx("path",{d:"M9.60677 30.8828L11.1284 40.2923L10.0302 42.9335L8.50146 33.5313L9.60677 30.8828Z",fill:"white"}),e.jsx("path",{d:"M8.50344 33.5315L10.0322 42.9337L8.76182 42.7112L7.24023 33.309L8.50344 33.5315Z",fill:"white"}),e.jsx("path",{d:"M28.228 44.2545C27.1084 46.9388 26.7423 49.6159 27.0294 52.1567C26.5198 49.0202 26.0174 45.8837 25.5078 42.7472C25.2136 40.1993 25.5868 37.5222 26.7065 34.845C30.1372 26.6342 39.6041 20.756 50.0327 19.5359L51.5543 28.9453C41.1256 30.1654 31.6588 36.0365 28.228 44.2545Z",fill:"#080E18"}),e.jsx("path",{d:"M50.0167 20.0813L51.5383 29.4907L51.2584 39.8619L49.7368 30.4597L50.0167 20.0813Z",fill:"#080E18"}),e.jsx("path",{d:"M53.1608 30.2158L54.6824 39.6253L52.9742 29.3474L51.4526 19.9451L53.1608 30.2158Z",fill:"#080E18"}),e.jsx("path",{d:"M49.738 30.4596L51.2596 39.8619L51.2452 40.4145L49.7236 31.0051L49.738 30.4596Z",fill:"#5A56EC"}),e.jsx("path",{d:"M53.2525 30.7608L54.7741 40.1702L54.6808 39.6247L53.1592 30.2153L53.2525 30.7608Z",fill:"#5A56EC"}),e.jsx("path",{d:"M56.8268 39.8472C56.1162 39.7252 55.3985 39.6463 54.6808 39.6247L53.1592 30.2153C53.8769 30.2368 54.5946 30.3158 55.3052 30.4378C55.7645 33.2585 56.3746 37.0266 56.8268 39.8472Z",fill:"#080E18"}),e.jsx("path",{d:"M45.3883 42.1443C44.8787 39.0079 44.3763 35.8714 43.8667 32.7349C45.5677 31.6224 47.5989 30.8329 49.7377 30.4525L51.2593 39.862C49.1133 40.2423 47.0893 41.0318 45.3883 42.1443Z",fill:"#080E18"}),e.jsx("path",{d:"M55.0841 30.9621L56.6057 40.3715C55.9956 40.2638 55.3856 40.1993 54.7755 40.1705L53.2539 30.7611C53.864 30.7898 54.4812 30.8544 55.0841 30.9621Z",fill:"#5A56EC"}),e.jsx("path",{d:"M6.6793 48.4746C6.16971 45.3382 5.6673 42.2017 5.15771 39.0652C5.40892 37.1201 5.87544 35.1536 6.56446 33.1798L8.08605 42.5892C7.39703 44.563 6.93051 46.5296 6.68648 48.4746H6.6793Z",fill:"#080E18"}),e.jsx("path",{d:"M97.8184 35.1324C96.3399 31.6011 94.0934 28.3211 91.1722 25.4287C90.6626 22.2922 90.1602 19.1557 89.6506 16.0192C91.1004 17.4547 92.3852 18.9906 93.4905 20.5983C94.6101 22.2276 95.5504 23.943 96.2896 25.7229C96.7992 28.8594 97.3016 31.9959 97.8112 35.1324H97.8184Z",fill:"#080E18"}),e.jsx("path",{d:"M97.861 35.2325C97.861 35.2325 97.8323 35.1679 97.818 35.132C97.3084 31.9955 96.806 28.859 96.2964 25.7225C96.3107 25.7584 96.3251 25.7871 96.3394 25.823C96.849 28.9595 97.3515 32.096 97.861 35.2325Z",fill:"#080E18"}),e.jsx("path",{d:"M6.5001 50.3261C5.99051 47.1896 5.4881 44.0531 4.97852 40.9167C5.0144 40.2994 5.07182 39.6822 5.15077 39.0649C5.66036 42.2014 6.16277 45.3379 6.67236 48.4743C6.59341 49.0916 6.53599 49.7088 6.5001 50.3261Z",fill:"#080E18"}),e.jsx("path",{d:"M6.5001 50.3263C5.99051 47.1899 5.4881 44.0534 4.97852 40.9169C5.41633 43.6156 5.85415 46.3071 6.28478 49.0057C6.32067 49.2282 6.35656 49.4435 6.39244 49.666C6.4068 49.7522 6.42115 49.8383 6.43551 49.9244C6.44986 50.0105 6.46422 50.0895 6.47857 50.1756C6.48575 50.2187 6.5001 50.2833 6.5001 50.3335V50.3263Z",fill:"#080E18"}),e.jsx("path",{d:"M97.8615 35.2322C97.8472 35.1819 97.8472 35.1245 97.8328 35.0671C97.8328 35.0312 97.8185 34.9881 97.8113 34.9522C97.8113 34.9379 97.8113 34.9092 97.8041 34.8948C97.8041 34.8589 97.7898 34.8087 97.7826 34.7728C97.761 34.6221 97.7323 34.4714 97.7108 34.3135C97.2515 31.4784 96.7921 28.6506 96.3328 25.8227C96.4763 26.1744 96.6127 26.5261 96.749 26.885C97.2586 30.0214 97.761 33.1579 98.2706 36.2944C98.1414 35.9355 98.0051 35.5838 97.8543 35.2322H97.8615Z",fill:"#080E18"}),e.jsx("path",{d:"M98.305 36.3883C98.305 36.3883 98.2835 36.3237 98.2691 36.295C97.7596 33.1585 97.2571 30.022 96.7476 26.8856C96.7619 26.9143 96.7691 26.9502 96.7834 26.9789C97.293 30.1153 97.7954 33.2518 98.305 36.3883Z",fill:"#080E18"}),e.jsx("path",{d:"M54.3449 37.2924L55.8664 46.7019L54.7755 40.1705L53.2539 30.7611L54.3449 37.2924Z",fill:"#080E18"}),e.jsx("path",{d:"M41.161 46.9815C40.5796 48.3667 40.4289 49.752 40.6371 51.051L39.1155 41.6416C38.9073 40.3425 39.0581 38.9573 39.6394 37.5721C40.4433 35.6414 41.9505 33.9906 43.8668 32.7346C44.3764 35.8711 44.886 39.0075 45.3884 42.144C43.4721 43.3929 41.9649 45.0508 41.161 46.9815Z",fill:"#080E18"}),e.jsx("path",{d:"M41.3477 50.9436L39.8261 41.5342C39.6252 40.3068 39.7759 39.0006 40.3213 37.6943C41.7425 34.2923 45.4818 31.7874 49.7308 31.0051L51.2524 40.4145C47.0034 41.1968 43.264 43.7017 41.8429 47.1037C41.2975 48.41 41.1539 49.7163 41.3477 50.9436Z",fill:"#5A56EC"}),e.jsx("path",{d:"M49.7225 31.0051L51.2441 40.4145L51.036 48.0655L49.5144 38.6632L49.7225 31.0051Z",fill:"#080E18"}),e.jsx("path",{d:"M63.5954 36.7256L65.117 46.1351L64.3849 46.1781L62.8633 36.7687L63.5954 36.7256Z",fill:"#5A56EC"}),e.jsx("path",{d:"M56.828 39.8475C56.3256 36.7111 55.816 33.5746 55.3064 30.4381C57.4668 30.8185 59.3042 31.6224 60.7181 32.7205C62.132 33.8186 63.1225 35.1967 63.5962 36.7254L65.1178 46.1349C64.1775 43.0773 61.1487 40.6083 56.828 39.8475Z",fill:"#080E18"}),e.jsx("path",{d:"M62.8642 36.7683L64.3858 46.1777C63.4599 43.3499 60.6249 41.0819 56.6056 40.3713L55.084 30.9619C59.1033 31.6653 61.9311 33.9405 62.8642 36.7683Z",fill:"#5A56EC"}),e.jsx("path",{d:"M62.8643 36.7685L54.3449 37.2924L53.2539 30.7611C53.864 30.7898 54.4812 30.8544 55.0841 30.9621C59.1034 31.6654 61.9313 33.9406 62.8643 36.7685Z",fill:"#080E18"}),e.jsx("path",{d:"M62.8652 36.7681L64.3867 46.1775L55.8673 46.7014L54.3457 37.292L62.8652 36.7681Z",fill:"#080E18"}),e.jsx("path",{d:"M55.0827 30.9617C54.4726 30.8541 53.8626 30.7895 53.2525 30.7608L53.1592 30.2153C53.8769 30.2368 54.5946 30.3158 55.3052 30.4378C59.6259 31.1986 62.6547 33.6676 63.595 36.7251L62.8629 36.7682C61.937 33.9403 59.102 31.6723 55.0827 30.9617Z",fill:"#5A56EC"}),e.jsx("path",{d:"M27.832 52.7164L26.3105 43.3069C25.8798 40.637 26.1956 37.802 27.3799 34.9597C30.7101 26.9858 39.8899 21.2798 50.0099 20.074L51.5315 29.4835C41.4115 30.6893 32.2245 36.3952 28.9015 44.3692C27.7172 47.2114 27.3942 50.0464 27.832 52.7164Z",fill:"#5A56EC"}),e.jsx("path",{d:"M79.2068 44.4338C78.6326 40.9026 76.7809 37.6512 73.8956 35.0315C73.386 31.8951 72.8836 28.7586 72.374 25.6221C75.2593 28.2418 77.111 31.4931 77.6852 35.0244C78.1446 37.845 78.7546 41.6131 79.2068 44.4338Z",fill:"#080E18"}),e.jsx("path",{d:"M76.9749 35.1392L78.4964 44.5486C77.3409 37.4072 70.8024 31.4501 61.0484 29.7347L59.5269 20.3253C69.2808 22.0406 75.8193 27.9978 76.9749 35.1392Z",fill:"#5A56EC"}),e.jsx("path",{d:"M77.7934 35.8569L79.315 45.2592L78.6044 45.3094L77.0757 35.9L77.7934 35.8569Z",fill:"#5A56EC"}),e.jsx("path",{d:"M78.4967 44.5415C78.5398 44.7928 78.5685 45.0511 78.5972 45.3023L77.0756 35.8929C77.0469 35.6345 77.011 35.3833 76.9751 35.1321C77.4344 37.9528 78.0445 41.7209 78.4967 44.5415Z",fill:"#080E18"}),e.jsx("path",{d:"M77.0764 35.8997L78.6051 45.3092L65.119 46.1346L63.5974 36.7251L77.0764 35.8997Z",fill:"#080E18"}),e.jsx("path",{d:"M77.8499 36.6105L79.3786 46.0199L78.6681 46.1491L77.1465 36.7397L77.8499 36.6105Z",fill:"white"}),e.jsx("path",{d:"M77.1471 36.7399L78.6687 46.1493L65.4194 48.6039L63.8906 39.1945L77.1471 36.7399Z",fill:"white"}),e.jsx("path",{d:"M40.552 66.2884C33.4393 63.7405 28.7884 58.6302 27.8338 52.7161L26.3123 43.3067C27.2668 49.2208 31.9177 54.331 39.0304 56.879C39.54 60.0154 40.0424 63.1519 40.552 66.2884Z",fill:"#080E18"}),e.jsx("path",{d:"M63.8911 39.1942L65.4198 48.6036L64.6949 48.7328L63.1733 39.3234L63.8911 39.1942Z",fill:"white"}),e.jsx("path",{d:"M63.1745 39.3234L64.6961 48.7329L55.3441 50.4626L53.8225 41.0532L63.1745 39.3234Z",fill:"white"}),e.jsx("path",{d:"M53.8214 41.0534L55.3429 50.4628L54.0223 53.3768L52.5007 43.9674L53.8214 41.0534Z",fill:"white"}),e.jsx("path",{d:"M43.9378 55.3362C42.5239 54.1376 41.6123 52.6088 41.3468 50.9437L39.8252 41.5342C40.0979 43.1994 41.0023 44.7281 42.4162 45.9267C42.9258 49.0632 43.4282 52.1997 43.9378 55.3362Z",fill:"#080E18"}),e.jsx("path",{d:"M63.4107 52.4009C62.9012 49.2644 62.3987 46.128 61.8892 42.9915C62.1763 42.5537 62.4203 42.0871 62.6212 41.6134C62.9442 40.8455 63.1237 40.0775 63.1811 39.3311L64.7027 48.7405C64.6452 49.4941 64.4658 50.2549 64.1428 51.0229C63.9419 51.5037 63.6978 51.9631 63.4107 52.4009Z",fill:"#080E18"}),e.jsx("path",{d:"M43.9384 55.3361C43.8667 55.2069 43.881 55.0059 43.8595 54.8624C43.8451 54.7906 43.8308 54.6901 43.8164 54.6112C43.7446 54.1734 43.6729 53.7356 43.6011 53.2977C43.4934 52.6231 43.3786 51.9412 43.2709 51.2666C42.9839 49.4866 42.6968 47.7066 42.4097 45.9267C42.826 46.2784 43.2781 46.6013 43.7805 46.8956C44.2901 50.0321 44.7925 53.1686 45.3021 56.305C44.8069 56.0108 44.3475 55.6878 43.9313 55.3361H43.9384Z",fill:"#080E18"}),e.jsx("path",{d:"M46.7083 56.9943C46.213 56.7933 45.7465 56.5636 45.3087 56.3052C44.7991 53.1688 44.2967 50.0323 43.7871 46.8958C44.2249 47.1542 44.6914 47.3839 45.1867 47.5848C45.6963 50.7213 46.1987 53.8578 46.7083 56.9943Z",fill:"#080E18"}),e.jsx("path",{d:"M49.5151 38.6635L51.0367 48.0658L47.85 49.5945L46.3284 40.1923L49.5151 38.6635Z",fill:"#080E18"}),e.jsx("path",{d:"M50.3046 40.9168L51.8262 50.319L47.85 49.5941L46.3284 40.1919L50.3046 40.9168Z",fill:"white"}),e.jsx("path",{d:"M46.7101 56.9942C46.2005 53.8577 45.6981 50.7213 45.1885 47.5848C45.9995 47.9149 46.8895 48.1733 47.8441 48.3384C48.3537 51.4749 48.8561 54.6113 49.3657 57.7478C48.4111 57.5827 47.5211 57.3244 46.7101 56.9942Z",fill:"#080E18"}),e.jsx("path",{d:"M52.5002 43.9673L54.0218 53.3767L51.8255 50.3192L50.304 40.9169L52.5002 43.9673Z",fill:"white"}),e.jsx("path",{d:"M63.4101 52.4007C60.8263 56.377 54.9122 58.7239 49.3641 57.755C48.8545 54.6185 48.3521 51.482 47.8425 48.3456C53.3906 49.3217 59.3047 46.9675 61.8885 42.9913C62.1899 44.8718 62.4986 46.7594 62.8 48.6398C62.9005 49.2643 63.001 49.8959 63.1015 50.5203C63.1158 50.5921 63.1302 50.6925 63.1445 50.7643C63.1661 50.9079 63.2019 51.1088 63.2235 51.2524C63.2737 51.561 63.324 51.8696 63.3742 52.1782C63.3814 52.2428 63.4244 52.329 63.4101 52.3936V52.4007Z",fill:"#080E18"}),e.jsx("path",{d:"M40.6371 51.0583L39.1155 41.6488C39.6825 45.1298 42.8692 48.0366 47.6206 48.8692C54.1591 50.0175 61.1713 46.8236 63.2958 41.7278C63.6547 40.8737 63.8484 40.0267 63.8987 39.1942L65.4203 48.6036C65.37 49.4362 65.1762 50.2903 64.8174 51.1372C62.6929 56.2331 55.6735 59.427 49.1422 58.2786C44.3908 57.446 41.2041 54.5392 40.6371 51.0583Z",fill:"#5A56EC"}),e.jsx("path",{d:"M45.2814 67.5305C43.609 67.2362 42.03 66.8199 40.5587 66.2888C40.0491 63.1523 39.5467 60.0158 39.0371 56.8794C40.5085 57.4105 42.0875 57.8268 43.7598 58.121C57.1598 60.4752 71.5503 53.9151 75.9069 43.4794C76.8543 41.2041 77.249 38.9289 77.1486 36.7399L78.6701 46.1493C78.7706 48.3384 78.383 50.6136 77.4285 52.8888C73.0718 63.3246 58.6814 69.8846 45.2814 67.5305Z",fill:"#080E18"}),e.jsx("path",{d:"M27.13 52.8312L25.6084 43.4218C26.7998 50.7642 33.5178 56.8864 43.5373 58.6448C57.3105 61.0636 72.1029 54.3313 76.5816 43.5941C77.5648 41.2327 77.974 38.8714 77.8519 36.6034L79.3735 46.0128C79.4884 48.2808 79.0864 50.6422 78.1031 53.0035C73.6245 63.7335 58.8321 70.473 45.0589 68.0543C35.0394 66.2958 28.3142 60.1736 27.13 52.8312Z",fill:"#5A56EC"}),e.jsx("path",{d:"M27.0654 52.3865C26.5558 49.25 26.0534 46.1135 25.5438 42.977C25.5367 42.8981 25.5223 42.8263 25.5151 42.7473C26.0247 45.8838 26.5271 49.0203 27.0367 52.1568C27.0439 52.2357 27.0583 52.3147 27.0654 52.3865Z",fill:"#080E18"}),e.jsx("path",{d:"M2.60415 56.7856L1.08256 47.3761C0.307417 42.5961 0.745232 37.5576 2.54673 32.4761L4.06832 41.8855C2.26682 46.9599 1.83618 52.0055 2.60415 56.7856Z",fill:"#5A56EC"}),e.jsx("path",{d:"M6.50127 50.3331C6.38643 52.2925 6.48691 54.2232 6.78836 56.1108L5.26677 46.7014C4.95815 44.8138 4.85767 42.8831 4.97968 40.9237C5.23089 42.4883 5.48927 44.0602 5.74048 45.6248C5.79789 45.9908 5.87684 46.4861 5.94144 46.8593C6.00604 47.2325 6.07781 47.7062 6.13523 48.0651C6.16394 48.2445 6.19982 48.4742 6.22853 48.6536C6.25724 48.8331 6.29313 49.0555 6.32184 49.2278C6.37208 49.558 6.47974 49.9958 6.50127 50.3259V50.3331Z",fill:"#080E18"}),e.jsx("path",{d:"M7.49804 56.0037L5.97645 46.5943C5.28743 42.331 5.66065 37.838 7.23966 33.3019L8.76124 42.7114C7.18224 47.2402 6.80902 51.7404 7.49804 56.0037Z",fill:"#5A56EC"}),e.jsx("path",{d:"M27.0621 52.3861C27.0836 52.5368 27.1052 52.6804 27.1267 52.8239L25.6051 43.4145C25.5836 43.2709 25.5621 43.1202 25.5405 42.9767C26.0142 45.9265 26.4951 48.8692 26.9688 51.8191C26.9975 52.0057 27.0334 52.1923 27.0621 52.3861Z",fill:"#080E18"}),e.jsx("path",{d:"M97.3154 31.852L98.837 41.2614C96.8417 28.9236 85.9394 18.5453 69.568 14.9853L68.0464 5.5759C84.4178 9.13584 95.3201 19.5214 97.3154 31.852Z",fill:"#5A56EC"}),e.jsx("path",{d:"M98.3038 36.3883C98.2679 36.2447 98.2464 36.0366 98.2249 35.8859C98.1961 35.728 98.1674 35.5127 98.1387 35.3548C98.11 35.1969 98.0741 34.9672 98.0526 34.8093C98.0311 34.6514 97.988 34.4145 97.9593 34.2495C97.8445 33.5389 97.7296 32.8283 97.6148 32.1178C97.3349 30.4024 97.0621 28.6942 96.7822 26.9789C97.3421 28.522 97.7583 30.1153 98.0167 31.7374L99.5383 41.1468C99.2727 39.5248 98.8636 37.9314 98.3038 36.3883Z",fill:"#080E18"}),e.jsx("path",{d:"M59.5273 20.3254C56.843 19.8517 54.1228 19.744 51.4528 19.945L51.3667 19.4138C54.1443 19.1985 56.965 19.3134 59.7498 19.8014C70.1497 21.6244 76.9968 28.1558 77.7935 35.857L77.0758 35.9001C76.2719 28.4213 69.6257 22.0981 59.5273 20.3254Z",fill:"#5A56EC"}),e.jsx("path",{d:"M55.3082 30.4381C54.5976 30.3161 53.8799 30.2371 53.1622 30.2156L51.4468 19.9449C54.1167 19.7439 56.8441 19.8588 59.5212 20.3253C69.6197 22.0981 76.273 28.4213 77.0697 35.9L63.5908 36.7254C62.6505 33.6679 59.6217 31.1989 55.301 30.4381H55.3082Z",fill:"#080E18"}),e.jsx("path",{d:"M84.0016 35.4765L85.5232 44.8788L79.3148 45.2592L77.7932 35.8569L84.0016 35.4765Z",fill:"#080E18"}),e.jsx("path",{d:"M77.6848 35.0243L79.2064 44.4337C79.2495 44.7065 79.2854 44.9864 79.3141 45.2663L77.7925 35.8569C77.7638 35.5769 77.7279 35.297 77.6848 35.0243Z",fill:"#5A56EC"}),e.jsx("path",{d:"M84.001 35.4765L85.5226 44.8788L79.3789 46.02L77.8501 36.6105L84.001 35.4765Z",fill:"white"}),e.jsx("path",{d:"M50.2185 12.5669L51.3596 19.4069L51.453 19.9452L53.1612 30.2159L53.2545 30.7613L54.3454 37.2927L62.8649 36.7687L63.5969 36.7257L77.0759 35.9003L77.7936 35.8572L84.002 35.4768L77.8511 36.6108L77.1477 36.74L63.8912 39.1947L63.1735 39.3239L53.8215 41.0536L52.5008 43.9676L50.3046 40.9172L46.3284 40.1923L49.5151 38.6635L49.7232 31.0054L49.7376 30.4599L50.0175 20.0815L50.0319 19.536L50.2185 12.5669Z",fill:"white"}),e.jsx("path",{d:"M8.8841 61.1427C8.24532 59.4775 7.78597 57.7622 7.49888 56.0109L5.97729 46.6015C6.26439 48.3599 6.72373 50.0753 7.36251 51.7332C7.8721 54.8697 8.37451 58.0062 8.8841 61.1427Z",fill:"#080E18"}),e.jsx("path",{d:"M98.6991 50.3336C98.1895 47.1972 97.6871 44.0607 97.1775 40.9242C97.7589 37.8308 97.7876 34.7876 97.3139 31.8521L98.8355 41.2615C99.3092 44.1971 99.2804 47.2474 98.6991 50.3336Z",fill:"#080E18"}),e.jsx("path",{d:"M77.1474 36.7397C77.2479 38.9288 76.8603 41.204 75.9057 43.4792C71.5491 53.915 57.1586 60.475 43.7586 58.1209C30.3586 55.7667 23.0306 45.4027 27.3872 34.9597C30.7175 26.9858 39.8972 21.2798 50.0172 20.074L49.7373 30.4524C45.1797 31.2563 41.1533 33.9334 39.6389 37.5723C37.5144 42.6682 41.0887 47.721 47.62 48.8693C54.1514 50.0177 61.1707 46.8238 63.2952 41.7279C63.6541 40.8738 63.8479 40.0269 63.8981 39.1944L77.1474 36.7469V36.7397Z",fill:"#080E18"}),e.jsx("path",{d:"M63.8928 39.1945C63.8426 40.027 63.6488 40.8811 63.2899 41.728C61.1655 46.8239 54.1461 50.0178 47.6147 48.8695C41.0834 47.7211 37.5091 42.6683 39.6336 37.5724C41.1552 33.9335 45.1744 31.2635 49.732 30.4525L49.7177 30.998C45.4687 31.7803 41.7293 34.2852 40.3082 37.6872C38.3058 42.4817 41.6719 47.2546 47.83 48.3383C53.9882 49.4221 60.6056 46.4005 62.6081 41.606C62.9311 40.8381 63.1105 40.0701 63.1679 39.3237L63.8857 39.1873L63.8928 39.1945Z",fill:"#5A56EC"}),e.jsx("path",{d:"M49.7241 31.0051L49.516 38.6632L46.3293 40.192L50.3055 40.9169L52.5018 43.9673L53.8224 41.0605L63.1744 39.3307C63.117 40.0843 62.9375 40.8451 62.6146 41.6131C60.6121 46.4075 53.9946 49.4292 47.8365 48.3454C41.6784 47.2616 38.3122 42.4959 40.3147 37.6943C41.7358 34.2923 45.4752 31.7874 49.7241 31.0051Z",fill:"#080E18"}),e.jsx("path",{d:"M96.412 46.1202L97.9407 55.5296L97.2589 55.4148L95.7373 46.0053L96.412 46.1202Z",fill:"#5A56EC"}),e.jsx("path",{d:"M98.7015 50.3331C98.3857 52.0126 97.9048 53.7136 97.2589 55.4075L95.7373 45.998C96.3833 44.297 96.8641 42.6032 97.1799 40.9237C97.5675 43.2994 97.9479 45.6679 98.3355 48.0436C98.4001 48.424 98.4575 48.8043 98.5221 49.1847C98.5508 49.3857 98.5867 49.5795 98.6154 49.7805C98.6154 49.8235 98.6298 49.8809 98.6369 49.924C98.6513 50.0101 98.6656 50.1178 98.68 50.1967C98.68 50.2326 98.7015 50.29 98.7015 50.3259V50.3331Z",fill:"#080E18"}),e.jsx("path",{d:"M95.7365 46.0057L97.2581 55.4151L95.9447 55.1783L94.4231 45.776L95.7365 46.0057Z",fill:"#080E18"}),e.jsx("path",{d:"M98.0186 31.7372L99.5402 41.1467C100.287 45.7545 99.8057 50.6279 97.9325 55.53L96.4109 46.1205C98.2842 41.2185 98.765 36.3451 98.0186 31.7372Z",fill:"#5A56EC"}),e.jsx("path",{d:"M101.106 46.9456L102.628 56.355L101.946 56.233L100.424 46.8235L101.106 46.9456Z",fill:"#5A56EC"}),e.jsx("path",{d:"M102.204 31.0626L103.726 40.472C104.544 45.5176 104.013 50.8647 101.946 56.2333L100.424 46.8239C102.491 41.4553 103.022 36.1082 102.204 31.0626Z",fill:"#080E18"}),e.jsx("path",{d:"M96.4123 46.1202C103.381 27.8899 91.0221 9.9825 68.2629 5.04452L69.5692 1.92239C94.539 7.25513 108.118 26.8707 100.424 46.8307L96.4195 46.1274L96.4123 46.1202Z",fill:"#080E18"}),e.jsx("path",{d:"M94.4234 45.776L95.945 55.1783L94.8469 57.8267L93.3181 48.4172L94.4234 45.776Z",fill:"#080E18"}),e.jsx("path",{d:"M94.5885 48.6399L96.1101 58.0493L94.8469 57.8268L93.3181 48.4174L94.5885 48.6399Z",fill:"white"}),e.jsx("path",{d:"M8.88472 61.1427C8.87754 61.1068 8.87037 61.0494 8.86319 61.0063C8.84166 60.8628 8.81295 60.7192 8.79142 60.5685C8.76271 60.3819 8.72682 60.1881 8.69811 60.0015C8.25312 57.2454 7.80813 54.4893 7.35596 51.7332C10.5929 60.2025 18.2511 67.2721 29.017 71.1048C29.5266 74.2412 30.029 77.3777 30.5386 80.5142C19.7655 76.6815 12.1073 69.6119 8.87754 61.1427H8.88472Z",fill:"#080E18"}),e.jsx("path",{d:"M39.5543 72.5614L41.0759 81.9709L37.6882 81.3751L36.1594 71.9657L39.5543 72.5614Z",fill:"#080E18"}),e.jsx("path",{d:"M39.1286 73.5735L39.552 72.5687L36.1643 71.973L35.7409 72.9778C13.398 68.3341 1.04582 51.0727 7.23983 33.3089L8.51021 33.5314L9.61551 30.883L8.30207 30.6533C16.4483 12.6598 41.2387 1.35556 64.6582 4.94421L64.0122 6.49451L67.4071 7.09022L68.0387 5.56864C90.4247 10.442 102.583 28.0623 95.7287 45.9983L94.4153 45.7687L93.31 48.4171L94.5803 48.6396C86.1111 66.0087 62.0241 76.8679 39.1214 73.5663L39.1286 73.5735ZM43.5354 58.6519C57.3087 61.0707 72.1011 54.3384 76.5797 43.6011C77.563 41.2398 77.9721 38.8785 77.8501 36.6104L83.9938 35.4764L77.7927 35.8568C76.996 28.1484 70.1488 21.6243 59.7489 19.8012C56.9641 19.3132 54.1363 19.1983 51.3658 19.4136L50.2247 12.5737L50.038 19.5428C39.6094 20.763 30.1426 26.634 26.7118 34.852C22.2332 45.5821 29.7694 56.2404 43.5426 58.6591",fill:"#080E18"}),e.jsx("path",{d:"M95.7364 46.0055C102.591 28.0694 90.4324 10.4491 68.0464 5.57574L68.2689 5.04462C91.0353 9.9826 103.395 27.8971 96.4182 46.1203L95.7364 45.9983V46.0055Z",fill:"#5A56EC"}),e.jsx("path",{d:"M100.423 46.8236L101.945 56.233L97.9397 55.5296L96.4109 46.1202L100.423 46.8236Z",fill:"#080E18"}),e.jsx("path",{d:"M102.923 30.9546L104.445 40.3641C105.277 45.4886 104.732 50.9075 102.636 56.3551L101.114 46.9456C103.217 41.4981 103.755 36.072 102.923 30.9546Z",fill:"#5A56EC"}),e.jsx("path",{d:"M69.5672 1.92262L66.1867 1.28384C40.169 -2.7498 12.601 9.81765 3.60787 29.828L2.92603 29.7059C12.1847 9.09992 40.8724 -3.72591 67.6006 0.968042C94.3289 5.66199 109.136 26.1245 101.104 46.9458L100.422 46.8238C108.116 26.8709 94.537 7.24818 69.5672 1.91545V1.92262Z",fill:"#5A56EC"}),e.jsx("path",{d:"M95.269 48.7612L96.7906 58.1707L96.1088 58.0487L94.5872 48.6392L95.269 48.7612Z",fill:"white"}),e.jsx("path",{d:"M99.2816 49.4651L100.803 58.8745L96.7911 58.1711L95.2695 48.7617L99.2816 49.4651Z",fill:"white"}),e.jsx("path",{d:"M99.9631 49.5871L101.485 58.9965L100.803 58.8745L99.2812 49.4651L99.9631 49.5871Z",fill:"white"}),e.jsx("path",{d:"M101.106 46.9458L102.627 56.3552L101.536 59.0036L100.015 49.5942L101.106 46.9458Z",fill:"white"}),e.jsx("path",{d:"M101.105 46.9459L100.015 49.5943L99.9643 49.5871L99.2824 49.4651L95.2703 48.7618L94.5885 48.6397L93.3181 48.4172L94.4234 45.776L95.7369 46.0057L96.4115 46.1205L100.424 46.8239L101.105 46.9459Z",fill:"white"}),e.jsx("path",{d:"M100.014 49.5941L101.536 59.0036L101.485 58.9964L99.9639 49.5869L100.014 49.5941Z",fill:"white"}),e.jsx("path",{d:"M77.8503 36.6106C77.9651 38.8787 77.5632 41.24 76.5799 43.6013C72.1013 54.3314 57.3089 61.0709 43.5356 58.6521C29.7624 56.2334 22.2262 45.5823 26.7049 34.845C30.1356 26.6342 39.6025 20.756 50.0311 19.5359L50.0167 20.0813C39.8967 21.2871 30.7098 26.9931 27.3867 34.967C23.0301 45.4028 30.3581 55.774 43.7581 58.1282C57.1581 60.4823 71.5486 53.9223 75.9052 43.4865C76.8526 41.2113 77.2474 38.9361 77.1469 36.747L77.8575 36.6178L77.8503 36.6106Z",fill:"#5A56EC"}),e.jsx("path",{d:"M35.7425 72.9784L37.2641 82.3878L37.0416 82.9118L35.52 73.5095L35.7425 72.9784Z",fill:"#5A56EC"}),e.jsx("path",{d:"M30.5536 80.5143C30.044 77.3778 29.5416 74.2413 29.032 71.1049C31.1493 71.8585 33.3958 72.4901 35.7428 72.9781L37.2643 82.3876C34.9102 81.8995 32.6709 81.2679 30.5536 80.5143Z",fill:"#080E18"}),e.jsx("path",{d:"M6.79502 56.1184L5.27344 46.709C7.32614 59.3697 18.6017 69.9993 35.5257 73.509L37.0473 82.9184C20.1304 79.4087 8.84773 68.7791 6.79502 56.1184Z",fill:"#5A56EC"}),e.jsx("path",{d:"M22.7221 81.6477C11.5111 76.114 4.26924 67.0706 2.60411 56.7927L1.08252 47.3833C2.74765 57.6612 9.99672 66.7117 21.2005 72.2383C21.7101 75.3747 22.2125 78.5112 22.7221 81.6477Z",fill:"#080E18"}),e.jsx("path",{d:"M36.1592 71.9657L37.688 81.3751L37.2645 82.3871L35.7429 72.9777L36.1592 71.9657Z",fill:"#080E18"}),e.jsx("path",{d:"M6.5591 33.187C0.250252 51.245 12.8033 68.8007 35.5195 73.509L34.2132 76.6311C9.28647 71.5281 -4.47959 52.2714 2.53981 32.4836L6.5591 33.187Z",fill:"#080E18"}),e.jsx("path",{d:"M7.23983 33.3092C1.04582 51.0802 13.3979 68.3416 35.7409 72.9781L35.5184 73.5092C12.8022 68.8009 0.249139 51.2453 6.55798 33.1872L7.23983 33.3092Z",fill:"#5A56EC"}),e.jsx("path",{d:"M39.5507 72.5615L41.0722 81.971L40.6488 82.983L39.1272 73.5735L39.5507 72.5615Z",fill:"white"}),e.jsx("path",{d:"M39.1305 73.5736L40.652 82.983L40.4367 83.507L38.908 74.0975L39.1305 73.5736Z",fill:"white"}),e.jsx("path",{d:"M34.2121 76.631L35.7409 86.0404L35.5184 86.5644L33.9968 77.1549L34.2121 76.631Z",fill:"#5A56EC"}),e.jsx("path",{d:"M35.5196 73.5092L37.0412 82.9114L35.7421 86.0407L34.2134 76.6313L35.5196 73.5092Z",fill:"#080E18"}),e.jsx("path",{d:"M22.7242 81.648C22.2146 78.5115 21.7122 75.375 21.2026 72.2385C25.0856 74.1549 29.4493 75.6477 34.2151 76.6239L35.7367 86.0333C30.9638 85.0572 26.6071 83.5643 22.7242 81.648Z",fill:"#080E18"}),e.jsx("path",{d:"M1.89146 56.901L0.369873 47.4916C2.64508 61.5304 15.191 73.3155 33.9955 77.1553L35.5171 86.5648C16.7126 82.7249 4.16666 70.9398 1.89146 56.901Z",fill:"#5A56EC"}),e.jsx("path",{d:"M2.53964 32.4834C-4.48693 52.2712 9.2863 71.5279 34.213 76.6309L33.9906 77.162C8.69059 71.9944 -5.28361 52.4434 1.86498 32.3614L2.54682 32.4834H2.53964Z",fill:"#5A56EC"}),e.jsx("path",{d:"M38.9077 74.0973L40.4365 83.5067L39.1302 86.636L37.6086 77.2266L38.9077 74.0973Z",fill:"white"}),e.jsx("path",{d:"M37.609 77.2268L39.1306 86.6362L38.9081 87.1602L37.3865 77.7508L37.609 77.2268Z",fill:"white"}),e.jsx("path",{d:"M37.3844 77.7505L38.906 87.1599L38.8988 87.1815L37.3772 77.7792L37.3844 77.7505Z",fill:"white"}),e.jsx("path",{d:"M39.5532 72.5614L39.1298 73.5734L38.9073 74.0974L37.6082 77.2267L37.3857 77.7506L37.3785 77.7793L33.9836 77.1836L33.998 77.1549L34.2133 76.6309L35.5196 73.5088L35.7421 72.9777L36.1584 71.9657L39.5532 72.5614Z",fill:"white"}),e.jsx("path",{d:"M94.5862 48.6392L96.1078 58.0487C87.6385 75.4177 63.5515 86.277 40.6488 82.9754L39.1272 73.566C62.0299 76.8604 86.1169 66.0011 94.5862 48.6392Z",fill:"#080E18"}),e.jsx("path",{d:"M95.2702 48.7617L96.7918 58.1711C88.1934 75.8273 63.7116 86.8731 40.4356 83.507L38.9141 74.0975C62.19 77.4637 86.679 66.4178 95.2702 48.7617Z",fill:"#5A56EC"}),e.jsx("path",{d:"M100.805 58.8745C91.4814 78.2603 64.624 90.3828 39.1302 86.6362L37.6086 77.2268C50.3555 79.1001 63.4469 77.0043 74.5143 72.0233C80.048 69.5327 85.0793 66.3101 89.3067 62.5062C93.5341 58.7022 96.9577 54.3097 99.2832 49.4722C99.7425 52.2929 101.214 56.0538 100.805 58.8816V58.8745Z",fill:"#080E18"}),e.jsx("path",{d:"M39.1294 73.5736C62.0321 76.868 86.1191 66.0087 94.5883 48.6469L95.2702 48.7689C86.6718 66.425 62.19 77.4709 38.9141 74.1047L39.1366 73.5736H39.1294Z",fill:"#5A56EC"}),e.jsx("path",{d:"M37.609 77.2268C63.1027 80.9734 89.9602 68.8509 99.2835 49.4651L99.9653 49.5871C90.52 69.26 63.2534 81.5691 37.3865 77.758L37.609 77.2268Z",fill:"#5A56EC"}),e.jsx("path",{d:"M38.9076 74.0975C62.1836 77.4637 86.6725 66.4178 95.2637 48.7617L99.2758 49.4651C89.9525 68.8509 63.0951 80.9734 37.6013 77.2268L38.9076 74.1047V74.0975Z",fill:"#080E18"}),e.jsx("path",{d:"M99.9653 49.5869L101.487 58.9964C92.0416 78.6694 64.775 90.9784 38.9081 87.1673L37.3865 77.7578C63.2606 81.5762 90.52 69.2671 99.9653 49.5869Z",fill:"#5A56EC"}),e.jsx("path",{d:"M37.3785 77.7796L38.9001 87.1818L35.5124 86.5861L33.9836 77.1838L37.3785 77.7796Z",fill:"white"}),e.jsx("path",{d:"M69.8137 1.36252L69.5983 1.88647L68.2921 5.01577L68.0696 5.54689L67.4093 7.09001L64.0144 6.49429L64.6891 4.91528L64.9044 4.39134L66.4116 0.781162L66.426 0.738098L69.8137 1.36252Z",fill:"white"})]}),t1=({className:t,onClick:s})=>e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,onClick:s,children:[e.jsxs("g",{clipPath:"url(#clip0_3714_89810)",children:[e.jsx("rect",{width:"12",height:"12",fill:"#131313"}),e.jsx("circle",{cx:"6",cy:"6",r:"5.5",stroke:"#DDDDDD"}),e.jsx("path",{d:"M6.61566 7.608V9H5.15966V7.608H6.61566ZM3.89166 4.52C4.06499 4.06933 4.32899 3.72667 4.68366 3.492C5.04099 3.25467 5.47699 3.136 5.99166 3.136C6.38366 3.136 6.72632 3.19867 7.01966 3.324C7.31299 3.44667 7.54099 3.61067 7.70366 3.816C7.86632 4.01867 7.94766 4.24133 7.94766 4.484C7.94766 4.74 7.89566 4.956 7.79166 5.132C7.69032 5.308 7.56366 5.46533 7.41166 5.604C7.26232 5.74 7.11166 5.87467 6.95966 6.008C6.81032 6.13867 6.68366 6.28667 6.57966 6.452C6.47832 6.61467 6.42766 6.81333 6.42766 7.048H5.35166C5.35166 6.75733 5.39299 6.508 5.47566 6.3C5.56099 6.08933 5.66632 5.90667 5.79166 5.752C5.91699 5.59467 6.04232 5.45333 6.16766 5.328C6.29299 5.20267 6.39832 5.08 6.48366 4.96C6.56899 4.83733 6.61166 4.704 6.61166 4.56C6.61166 4.4 6.54899 4.27467 6.42366 4.184C6.30099 4.09067 6.15166 4.044 5.97566 4.044C5.84499 4.044 5.71832 4.07333 5.59566 4.132C5.47566 4.19067 5.36632 4.276 5.26766 4.388C5.17166 4.49733 5.09432 4.628 5.03566 4.78L3.89166 4.52Z",fill:"#DDDDDD"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_3714_89810",children:e.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),d4=({className:t,onClick:s})=>e.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,onClick:s,children:[e.jsxs("g",{clipPath:"url(#clip0_3714_89810)",children:[e.jsx("circle",{cx:"6",cy:"6",r:"5.5",stroke:"#131313"}),e.jsx("path",{d:"M6.61566 7.608V9H5.15966V7.608H6.61566ZM3.89166 4.52C4.06499 4.06933 4.32899 3.72667 4.68366 3.492C5.04099 3.25467 5.47699 3.136 5.99166 3.136C6.38366 3.136 6.72632 3.19867 7.01966 3.324C7.31299 3.44667 7.54099 3.61067 7.70366 3.816C7.86632 4.01867 7.94766 4.24133 7.94766 4.484C7.94766 4.74 7.89566 4.956 7.79166 5.132C7.69032 5.308 7.56366 5.46533 7.41166 5.604C7.26232 5.74 7.11166 5.87467 6.95966 6.008C6.81032 6.13867 6.68366 6.28667 6.57966 6.452C6.47832 6.61467 6.42766 6.81333 6.42766 7.048H5.35166C5.35166 6.75733 5.39299 6.508 5.47566 6.3C5.56099 6.08933 5.66632 5.90667 5.79166 5.752C5.91699 5.59467 6.04232 5.45333 6.16766 5.328C6.29299 5.20267 6.39832 5.08 6.48366 4.96C6.56899 4.83733 6.61166 4.704 6.61166 4.56C6.61166 4.4 6.54899 4.27467 6.42366 4.184C6.30099 4.09067 6.15166 4.044 5.97566 4.044C5.84499 4.044 5.71832 4.07333 5.59566 4.132C5.47566 4.19067 5.36632 4.276 5.26766 4.388C5.17166 4.49733 5.09432 4.628 5.03566 4.78L3.89166 4.52Z",fill:"#131313"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_3714_89810",children:e.jsx("rect",{width:"12",height:"12",fill:"#DDDDDD"})})})]}),u4=t=>e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[e.jsxs("g",{clipPath:"url(#clip0_932_1156)",children:[e.jsx("path",{d:"M8.39453 2.99283H17.1962",stroke:"currentColor",strokeWidth:"0.62499"}),e.jsx("path",{d:"M8.39453 4.98187H17.1962",stroke:"currentColor",strokeWidth:"0.62499"}),e.jsx("rect",{x:"5.90478",y:"0.312495",width:"13.7831",height:"18.1247",rx:"0.312495",stroke:"currentColor",strokeWidth:"0.62499"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.77375 7.48221H0.11577C-0.292871 10.1069 0.11587 18.3397 5.77375 19.9999V7.48221ZM5.77375 7.48231H11.4317C11.8404 10.107 11.4316 18.3398 5.77375 20V7.48231Z",fill:"currentColor"}),e.jsx("path",{d:"M3.70361 12.8621L5.11371 14.6161L7.84336 11.5656",stroke:"currentColor",strokeWidth:"0.62499"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_932_1156",children:e.jsx("rect",{width:"20",height:"20",fill:"currentColor"})})})]}),m4=({className:t})=>e.jsxs("svg",{width:"220",height:"121",viewBox:"0 0 220 121",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("path",{d:"M94.719 42.385L59.814 34.9297L46.8594 49.8559",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M40.0447 36.0194L57.8773 39.5752L57.8333 58.122L40.0007 54.5662L40.0447 36.0194Z",fill:"#080E18",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M34.1133 63.3191L48.923 47.5925",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M32.2578 64.9987L70.823 72.7842L78.7896 63.9124L96.1711 66.9904",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M19.4424 55.8437L37.2684 59.4324L37.1902 77.9791L19.3642 74.3904L19.4424 55.8437Z",fill:"#080E18",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M13.5 83.6955L28.3097 67.969",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("circle",{cx:"13.4984",cy:"83.5084",r:"1.65464",fill:"#5A56EC"}),e.jsx("path",{d:"M126.422 44.873L139.033 30.1084L173.116 37.3387L181.863 27.6819L206.938 32.2524L195.297 44.873",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M181.705 41.3075L199.537 44.8633L199.493 63.4101L181.661 59.8543L181.705 41.3075Z",fill:"#080E18",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M175.027 68.3384L190.521 51.1362",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M163.778 59.6689L181.604 63.2576L181.526 81.8043L163.7 78.2156L163.778 59.6689Z",fill:"#080E18",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("path",{d:"M172.588 70.3467L157.585 87.1981L124.055 80.2266",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsxs("g",{clipPath:"url(#clip0_4259_53134)",children:[e.jsx("path",{d:"M143.124 73.7255L143.118 75.806L141.115 75.4042L141.116 74.5744L142.32 74.8131L142.322 73.5653L143.124 73.7255Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M134.531 73.2534L137.824 73.914L137.82 74.7438L134.527 74.0832L134.531 73.2534Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M127.941 72.7612L127.945 71.9314L131.235 72.5919L131.234 73.4218L127.941 72.7612Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M121.351 71.4399L121.355 70.6101L124.648 71.2707L124.647 72.1005L121.351 71.4399Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M114.764 70.1199L114.766 69.29L118.059 69.9506L118.057 70.7805L114.764 70.1199Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M108.178 68.7976L108.18 67.9678L111.473 68.6284L111.468 69.4581L108.178 68.7976Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M103.689 65.813L103.684 67.0637L104.887 67.3054L104.883 68.1352L102.88 67.7333L102.887 65.6528L103.689 65.813Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M103.004 31.4253L103.806 31.5854L103.792 35.0098L102.993 34.8497L103.004 31.4253Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M102.969 41.6966L102.98 38.2722L103.78 38.4323L103.769 41.8567L102.969 41.6966Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M102.946 48.5396L102.957 45.1182L103.759 45.2783L103.748 48.6997L102.946 48.5396Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M102.922 55.3883L102.934 51.9639L103.733 52.1239L103.722 55.5484L102.922 55.3883Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M102.9 62.2302L102.914 58.8088L103.713 58.9689L103.702 62.3903L102.9 62.2302Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M105.026 26.3234L105.025 27.1563L103.821 26.9145L103.819 28.1653L103.017 28.0021L103.023 25.9216L105.026 26.3234Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M134.672 32.2683L137.962 32.9289L137.96 33.7617L134.667 33.1011L134.672 32.2683Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M128.081 31.7791L128.082 30.9463L131.375 31.6069L131.374 32.4397L128.081 31.7791Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M121.491 30.4578L121.492 29.625L124.788 30.2857L124.784 31.1184L121.491 30.4578Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M114.905 29.1375L114.906 28.3047L118.199 28.9653L118.195 29.7981L114.905 29.1375Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M108.319 27.8165L108.32 26.9836L111.613 27.6443L111.609 28.477L108.319 27.8165Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M143.261 33.9904L143.254 36.0709L142.452 35.9108L142.457 34.6631L141.253 34.4214L141.258 33.5886L143.261 33.9904Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M142.438 39.3379L143.24 39.498L143.226 42.9224L142.426 42.7623L142.438 39.3379Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M142.407 49.6043L142.418 46.1829L143.217 46.3429L143.206 49.7644L142.407 49.6043Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M142.379 56.4493L142.391 53.0278L143.193 53.188L143.182 56.6094L142.379 56.4493Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M142.36 63.2952L142.371 59.8738L143.173 60.0339L143.159 63.4583L142.36 63.2952Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M142.336 70.1412L142.348 66.7168L143.147 66.8799L143.136 70.3013L142.336 70.1412Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M86.5294 38.6777L91.1218 35.2852L114.206 34.5858L109.617 37.9784L86.5294 38.6777Z",fill:"#5A56EC"}),e.jsx("path",{d:"M132.372 49.3634L132.372 49.3628L132.318 48.1678L109.549 38.3406L86.8699 39.0242L86.8144 40.0867C86.8144 40.0868 86.8144 40.0869 86.8144 40.0869C86.1441 53.0542 87.992 63.7821 92.4465 72.9029L92.4465 72.903C96.0969 80.3796 101.457 86.6156 108.848 91.9679L109.501 92.4404L110.128 92.2384L132.372 49.3634ZM132.372 49.3634C132.985 62.643 131.069 72.6126 126.563 79.8872M132.372 49.3634L126.563 79.8872M126.563 79.8872C122.908 85.7891 117.542 89.8306 110.128 92.2382L126.563 79.8872Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:"0.718623"}),e.jsx("path",{d:"M109.617 37.9789L114.207 34.586L137.257 44.5378L132.664 47.9306L109.617 37.9789Z",fill:"#5A56EC"}),e.jsx("path",{d:"M137.402 52.881C137.414 52.364 137.42 51.8368 137.425 51.3063C137.427 51.1061 137.431 50.9093 137.433 50.7058C137.434 50.6691 137.434 50.6358 137.435 50.6024C137.436 50.1185 137.425 49.6243 137.416 49.1336C137.412 48.8765 137.411 48.6262 137.408 48.3658C137.389 47.5744 137.361 46.7728 137.324 45.9576C137.324 45.9576 137.324 45.9576 137.324 45.9543L137.26 44.5345L132.667 47.9275L132.731 49.3473C132.768 50.1625 132.796 50.9641 132.814 51.7554C132.822 52.0226 132.819 52.2795 132.823 52.5399C132.831 53.0607 132.842 53.5849 132.84 54.0954C132.838 54.2956 132.834 54.4924 132.832 54.6926C132.83 55.2232 132.821 55.7536 132.809 56.274C132.802 56.5374 132.79 56.7941 132.784 57.0543C132.766 57.5111 132.749 57.9679 132.725 58.4178C132.713 58.6478 132.701 58.8778 132.685 59.1077C132.658 59.5676 132.624 60.024 132.59 60.4738C132.571 60.6869 132.556 60.9035 132.538 61.1133C132.483 61.7428 132.418 62.3687 132.347 62.9777C132.347 62.9844 132.344 62.9943 132.344 63.001C132.272 63.61 132.188 64.2088 132.101 64.8007C132.077 64.9637 132.05 65.1233 132.026 65.2862C131.952 65.7484 131.874 66.2071 131.79 66.659C131.764 66.7985 131.74 66.9381 131.714 67.0744C131.607 67.6325 131.491 68.1838 131.368 68.7249C131.342 68.8377 131.313 68.9505 131.286 69.0633C131.179 69.5114 131.069 69.9526 130.952 70.3871C130.915 70.523 130.878 70.659 130.842 70.795C130.696 71.3155 130.547 71.8293 130.385 72.3327C130.364 72.399 130.342 72.4652 130.32 72.5281C130.177 72.9719 130.026 73.4089 129.869 73.8391C129.819 73.9747 129.769 74.1137 129.716 74.2493C129.566 74.6463 129.41 75.0397 129.248 75.4264C129.209 75.5222 129.17 75.6248 129.127 75.7206C128.926 76.1864 128.718 76.6421 128.504 77.0909C128.434 77.2361 128.361 77.3779 128.287 77.523C128.129 77.843 127.965 78.1595 127.797 78.4693C127.707 78.634 127.616 78.7988 127.526 78.9602C127.313 79.339 127.097 79.7177 126.868 80.0828C126.639 80.4511 126.404 80.8127 126.162 81.1641C126.082 81.2791 126 81.3939 125.917 81.5055C125.751 81.7452 125.582 81.9815 125.409 82.2144C125.347 82.2997 125.282 82.3783 125.217 82.4635C125.034 82.6995 124.848 82.9354 124.659 83.1646C124.577 83.2628 124.494 83.3643 124.412 83.4625C124.22 83.6882 124.024 83.9106 123.829 84.1296C123.76 84.2081 123.692 84.2866 123.62 84.3616C123.352 84.6524 123.079 84.9363 122.802 85.2135C122.751 85.2656 122.693 85.3177 122.641 85.3665C122.412 85.5914 122.177 85.8128 121.938 86.0308C121.843 86.1154 121.75 86.2 121.655 86.2845C121.44 86.473 121.226 86.6582 121.004 86.8432C120.912 86.9212 120.82 86.9991 120.725 87.0736C120.415 87.3233 120.103 87.5663 119.783 87.8057C119.783 87.8057 119.783 87.8057 119.78 87.809L122.076 86.1108L124.373 84.4127C124.696 84.1733 125.009 83.9304 125.318 83.6807C125.41 83.6061 125.502 83.5281 125.594 83.4502C125.815 83.2685 126.03 83.0833 126.245 82.8914C126.34 82.8069 126.436 82.7224 126.528 82.6378C126.767 82.4198 126.999 82.2016 127.231 81.9768C127.286 81.9247 127.34 81.8726 127.395 81.8205C127.675 81.5434 127.946 81.2594 128.213 80.972C128.285 80.8936 128.353 80.8151 128.425 80.7367C128.624 80.5178 128.816 80.2953 129.008 80.0696C129.091 79.9714 129.177 79.87 129.259 79.7684C129.448 79.5393 129.631 79.3066 129.81 79.0705C129.875 78.9853 129.94 78.9034 130.006 78.8182C130.03 78.7854 130.054 78.7559 130.078 78.7264C130.226 78.5263 130.368 78.3227 130.51 78.1192C130.593 78.0043 130.675 77.8894 130.758 77.7712C131 77.4165 131.236 77.0583 131.465 76.6899C131.603 76.4662 131.739 76.2391 131.871 76.0119C131.955 75.867 132.035 75.7154 132.119 75.5672C132.209 75.4025 132.303 75.2411 132.391 75.0763C132.558 74.7666 132.719 74.45 132.88 74.13C132.954 73.9849 133.027 73.8431 133.097 73.6979C133.118 73.655 133.139 73.6155 133.16 73.5693C133.354 73.1633 133.54 72.7472 133.72 72.3243C133.763 72.2285 133.798 72.1292 133.841 72.0334C133.951 71.7657 134.064 71.5013 134.17 71.2302C134.22 71.1079 134.263 70.9787 134.309 70.8563C134.359 70.7207 134.409 70.585 134.459 70.4494C134.616 70.0192 134.766 69.5855 134.91 69.1417C134.932 69.0755 134.957 69.0093 134.978 68.9431C134.985 68.9232 134.993 68.9034 135 68.8835C135.155 68.3999 135.296 67.906 135.435 67.4087C135.471 67.2727 135.508 67.1367 135.545 67.0007C135.592 66.8183 135.643 66.6393 135.691 66.4569C135.757 66.2015 135.817 65.9392 135.879 65.677C135.905 65.5642 135.935 65.4547 135.961 65.3385C136.069 64.8605 136.174 64.3757 136.272 63.8841C136.284 63.8177 136.295 63.7512 136.307 63.688C136.333 63.5518 136.357 63.4122 136.383 63.276C136.467 62.8241 136.545 62.3654 136.619 61.8999C136.643 61.7403 136.67 61.5807 136.694 61.4178C136.71 61.3114 136.729 61.2084 136.745 61.1019C136.816 60.6097 136.881 60.1106 136.94 59.6081C136.94 59.6047 136.94 59.5981 136.94 59.5947C137.002 59.0823 137.058 58.563 137.107 58.0368C137.116 57.9336 137.122 57.8303 137.131 57.727C137.149 57.5172 137.168 57.3007 137.183 57.0875C137.22 56.6378 137.251 56.1847 137.278 55.7248C137.294 55.4949 137.306 55.2649 137.318 55.0315C137.325 54.8815 137.338 54.735 137.345 54.585C137.359 54.285 137.366 53.9781 137.376 53.6747C137.386 53.4079 137.395 53.1478 137.402 52.881Z",fill:"#5A56EC"}),e.jsx("path",{d:"M98.4668 52.5945C98.5166 52.6057 98.5696 52.6203 98.6225 52.6449C98.9725 52.8066 99.1865 53.2154 99.0983 53.5637C98.5493 55.7598 98.1635 57.9765 97.9621 60.1574C97.7576 62.3283 97.7332 64.5067 97.8771 66.6224C97.9015 67.0034 97.6315 67.274 97.272 67.2322L97.2221 67.2243C96.8832 67.1563 96.5972 66.8259 96.5723 66.4649C96.4201 64.2724 96.4497 62.0173 96.6594 59.7698C96.8689 57.529 97.2629 55.2458 97.83 52.9866C97.9038 52.688 98.171 52.5375 98.4668 52.5945Z",fill:"#5A56EC"}),e.jsx("path",{d:"M111.312 76.7608C111.545 76.8063 111.768 76.9784 111.886 77.2281C112.067 77.6128 112.265 78.0045 112.469 78.3931C112.667 78.7715 112.878 79.1602 113.103 79.5459C113.305 79.8977 113.225 80.3029 112.925 80.4527C112.81 80.5101 112.683 80.5204 112.557 80.4941C112.347 80.4525 112.141 80.3042 112.012 80.0876C111.785 79.6851 111.56 79.2794 111.349 78.8807C111.135 78.4719 110.925 78.0565 110.734 77.6549C110.562 77.2904 110.678 76.8994 110.995 76.7834C111.099 76.7424 111.206 76.7383 111.312 76.7608Z",fill:"#5A56EC"}),e.jsx("path",{d:"M106.444 63.206C106.457 63.2097 106.467 63.2099 106.48 63.2136C106.842 63.3055 107.117 63.6823 107.095 64.0521C107.072 64.4653 107.059 64.8854 107.052 65.2957C107.046 65.7059 107.046 66.1163 107.057 66.5236C107.067 66.9309 107.088 67.3385 107.115 67.7362C107.137 68.0637 107.167 68.3913 107.202 68.7158C107.235 69.0402 107.277 69.3649 107.323 69.6896C107.365 70.0109 107.421 70.3359 107.477 70.6575C107.533 70.9758 107.596 71.3009 107.665 71.6195C107.734 71.9381 107.81 72.2569 107.886 72.5689C107.966 72.8844 108.048 73.2 108.141 73.5125C108.231 73.8249 108.33 74.1409 108.43 74.4435C108.529 74.7528 108.639 75.0623 108.752 75.3686C108.818 75.547 108.887 75.7288 108.959 75.9074C109.028 76.0892 109.101 76.271 109.177 76.4496C109.249 76.6315 109.328 76.8169 109.411 76.999C109.493 77.1811 109.576 77.3699 109.658 77.552C109.741 77.7375 109.83 77.9231 109.919 78.1087C110.008 78.2943 110.1 78.4833 110.193 78.669C110.289 78.8547 110.384 79.0438 110.483 79.233C110.672 79.5911 110.572 79.9891 110.266 80.1221C110.158 80.1696 110.041 80.1802 109.924 80.1574C109.705 80.1123 109.488 79.9537 109.367 79.7173C109.265 79.5214 109.163 79.3254 109.064 79.1263C108.965 78.9304 108.866 78.7346 108.774 78.5389C108.682 78.3465 108.586 78.1474 108.497 77.9552C108.408 77.7596 108.32 77.564 108.237 77.3718C108.155 77.1764 108.07 76.9842 107.991 76.7922C107.908 76.6 107.833 76.4081 107.757 76.2161C107.685 76.0276 107.609 75.8356 107.54 75.6438C107.421 75.3207 107.309 74.9911 107.199 74.6649C107.094 74.3387 106.991 74.006 106.896 73.6768C106.8 73.3476 106.711 73.0118 106.625 72.6795C106.543 72.3472 106.464 72.0051 106.392 71.6697C106.32 71.3377 106.254 70.9925 106.196 70.6541C106.133 70.319 106.081 69.9741 106.033 69.6326C105.984 69.2912 105.942 68.9465 105.907 68.6053C105.871 68.2642 105.843 67.9165 105.817 67.5722C105.787 67.1511 105.767 66.7236 105.754 66.2995C105.744 65.8722 105.74 65.4417 105.747 65.0081C105.754 64.5812 105.768 64.1411 105.794 63.7113C105.813 63.3581 106.098 63.1345 106.444 63.206Z",fill:"#5A56EC"}),e.jsx("path",{d:"M109.701 57.7125C109.754 57.7237 109.804 57.7382 109.856 57.7628C110.157 57.8966 110.356 58.2149 110.353 58.5217C110.351 58.5751 110.347 58.6284 110.332 58.6814C109.912 60.3696 109.619 62.0475 109.478 63.6689C109.402 64.4844 109.366 65.2976 109.364 66.0982C109.362 66.7421 109.38 67.383 109.426 68.0113C109.513 69.2711 109.694 70.523 109.966 71.7337C110.201 72.7868 110.51 73.8416 110.887 74.8646C110.921 74.9555 110.936 75.0493 110.934 75.1326C110.934 75.3995 110.782 75.6228 110.527 75.6802C110.447 75.6983 110.36 75.6996 110.277 75.681C110.021 75.6283 109.779 75.4224 109.672 75.1397C109.274 74.0494 108.94 72.924 108.689 71.8005C108.402 70.5127 108.207 69.1837 108.115 67.8471C108.067 67.182 108.046 66.5077 108.049 65.8272C108.052 64.9832 108.092 64.1334 108.165 63.2778C108.318 61.5899 108.616 59.8488 109.058 58.0944C109.138 57.8093 109.408 57.6555 109.701 57.7125Z",fill:"#5A56EC"}),e.jsx("path",{d:"M109.703 55.3046C109.743 55.3122 109.783 55.3232 109.823 55.3308C110.022 55.3788 110.224 55.447 110.419 55.5349C110.613 55.6262 110.805 55.7342 110.985 55.8585C111.159 55.9794 111.33 56.1168 111.486 56.2706C111.639 56.421 111.779 56.5844 111.909 56.7576C112.035 56.9307 112.147 57.1102 112.246 57.3027C112.345 57.4918 112.427 57.6873 112.493 57.8857C112.558 58.0874 112.607 58.2887 112.635 58.4929C112.667 58.7005 112.679 58.9043 112.671 59.1076C112.66 59.3108 112.631 59.5137 112.584 59.7061C112.414 60.3727 112.269 61.0398 112.15 61.691C112.028 62.342 111.929 62.9969 111.857 63.6358C111.782 64.2746 111.73 64.914 111.706 65.5406C111.678 66.1638 111.676 66.791 111.695 67.3987C111.715 68.0063 111.757 68.6179 111.823 69.2133C111.889 69.8087 111.979 70.4013 112.085 70.9776C112.199 71.5541 112.332 72.1344 112.489 72.6953C112.646 73.2595 112.826 73.8242 113.027 74.3661C113.09 74.541 113.159 74.7195 113.228 74.8946C113.301 75.0698 113.373 75.2516 113.449 75.4269C113.525 75.6055 113.604 75.7875 113.687 75.9696C113.769 76.1517 113.855 76.3372 113.941 76.5194C114.027 76.7016 114.119 76.8872 114.215 77.073C114.311 77.2587 114.406 77.4478 114.505 77.6369C114.608 77.8228 114.71 78.0154 114.816 78.2047C115.011 78.5596 114.928 78.9647 114.621 79.111C114.513 79.1651 114.386 79.1755 114.263 79.1493C114.047 79.1075 113.84 78.9558 113.716 78.7294C113.603 78.5299 113.495 78.3305 113.393 78.1313C113.29 77.9354 113.185 77.7361 113.086 77.5402C112.984 77.341 112.888 77.1453 112.796 76.9529C112.704 76.7572 112.612 76.5616 112.523 76.3693C112.437 76.1772 112.352 75.9816 112.269 75.7929C112.187 75.6008 112.108 75.4088 112.032 75.2201C111.957 75.0315 111.885 74.8397 111.816 74.6512C111.599 74.0623 111.403 73.4538 111.234 72.8493C111.068 72.2449 110.922 71.6209 110.803 71.0009C110.684 70.3843 110.586 69.7447 110.521 69.1126C110.452 68.4805 110.404 67.8321 110.382 67.1877C110.361 66.5399 110.366 65.8795 110.395 65.2229C110.42 64.5663 110.476 63.8937 110.552 63.2215C110.628 62.556 110.731 61.8712 110.857 61.1902C110.983 60.5092 111.133 59.8155 111.306 59.1256C111.335 59.0195 111.347 58.9064 111.354 58.7864C111.356 58.6764 111.352 58.5595 111.335 58.4457C111.318 58.3318 111.29 58.2177 111.253 58.1068C111.215 57.9925 111.168 57.8846 111.114 57.7765C111.056 57.6718 110.992 57.5702 110.921 57.4717C110.849 57.3767 110.772 57.2814 110.683 57.1993C110.599 57.1139 110.504 57.0383 110.408 56.9693C110.307 56.9002 110.201 56.8376 110.089 56.7883C109.98 56.7424 109.867 56.6997 109.755 56.6737C109.612 56.6437 109.519 56.6315 109.432 56.6294C109.325 56.6269 109.221 56.6345 109.121 56.6521C109.02 56.6698 108.926 56.701 108.832 56.7388C108.741 56.78 108.656 56.8281 108.578 56.8896C108.5 56.9478 108.425 57.0161 108.363 57.0948C108.294 57.1699 108.242 57.2587 108.194 57.3477C108.145 57.4433 108.105 57.5458 108.08 57.6553C107.973 58.0865 107.872 58.5245 107.779 58.9527C107.689 59.381 107.605 59.816 107.528 60.2413C107.455 60.6666 107.388 61.0988 107.331 61.5211C107.283 61.8536 107.002 62.0439 106.68 61.9796C106.65 61.9722 106.623 61.9649 106.594 61.9575C106.236 61.8357 105.985 61.4428 106.033 61.0803C106.094 60.6413 106.164 60.1926 106.241 59.7507C106.319 59.3088 106.406 58.8604 106.5 58.4156C106.597 57.9708 106.701 57.5195 106.812 57.075C106.863 56.8827 106.931 56.6975 107.015 56.526C107.099 56.3611 107.202 56.2068 107.319 56.066C107.433 55.9286 107.566 55.8083 107.708 55.7048C107.851 55.5981 108.003 55.5116 108.168 55.4421C108.33 55.3725 108.501 55.3198 108.682 55.2873C108.863 55.2549 109.047 55.2392 109.241 55.2471C109.394 55.254 109.547 55.2743 109.703 55.3046Z",fill:"#5A56EC"}),e.jsx("path",{d:"M113.671 56.0096C113.893 56.0549 114.107 56.2133 114.231 56.4498C114.586 57.1321 114.819 57.8449 114.926 58.5647C115.038 59.3147 115.005 60.0412 114.835 60.7279C114.533 61.9352 114.308 63.1344 114.171 64.2922C114.037 65.4435 113.983 66.5833 114.011 67.6782C114.042 68.7666 114.154 69.8436 114.35 70.8724C114.543 71.8979 114.82 72.9053 115.174 73.8712C115.281 74.1639 115.404 74.4704 115.53 74.7703C115.66 75.0737 115.799 75.3872 115.949 75.6977C116.095 76.0114 116.258 76.3288 116.427 76.6498C116.616 77.0078 116.516 77.4059 116.206 77.5421C116.098 77.5862 115.984 77.5969 115.865 77.5741C115.645 77.5289 115.432 77.3704 115.311 77.1374C115.132 76.7962 114.963 76.4553 114.801 76.1211C114.645 75.7872 114.493 75.4533 114.354 75.1264C114.214 74.7962 114.082 74.4694 113.966 74.1498C113.58 73.0998 113.279 72.0017 113.068 70.8891C112.86 69.7798 112.741 68.626 112.705 67.4574C112.675 66.2923 112.73 65.0892 112.876 63.8715C113.017 62.6604 113.251 61.4047 113.567 60.1476C113.696 59.6335 113.719 59.0835 113.639 58.5245C113.558 57.9821 113.384 57.4442 113.115 56.9308C112.927 56.5727 113.03 56.1747 113.34 56.0419C113.438 55.9941 113.555 55.9869 113.671 56.0096Z",fill:"#5A56EC"}),e.jsx("path",{d:"M109.711 50.4866C109.824 50.5092 109.934 50.5352 110.047 50.5612C110.296 50.6204 110.544 50.693 110.793 50.7822C111.041 50.8681 111.289 50.9707 111.533 51.0799C112.032 51.3051 112.523 51.5835 112.982 51.9046C113.432 52.2155 113.861 52.5725 114.263 52.9623C114.651 53.3451 115.018 53.7642 115.345 54.2089C115.672 54.647 115.964 55.1177 116.213 55.6006C116.466 56.0837 116.674 56.5824 116.842 57.0935C117.011 57.6046 117.135 58.128 117.21 58.6436C117.291 59.1727 117.319 59.7005 117.297 60.2105C117.277 60.7372 117.205 61.256 117.077 61.7501C116.941 62.2941 116.821 62.8385 116.718 63.3699C116.619 63.8981 116.537 64.43 116.474 64.9457C116.412 65.4581 116.367 65.9742 116.342 66.4741C116.317 66.974 116.308 67.4743 116.32 67.955C116.332 68.4391 116.358 68.9168 116.404 69.385C116.453 69.8533 116.515 70.3152 116.598 70.7676C116.681 71.2166 116.781 71.6594 116.897 72.0925C117.017 72.5258 117.154 72.9527 117.308 73.3701C117.349 73.4778 117.39 73.5889 117.434 73.7C117.475 73.8077 117.522 73.9223 117.569 74.0335C117.614 74.1413 117.664 74.2593 117.712 74.3705C117.763 74.4818 117.813 74.5964 117.867 74.7111C118.036 75.0754 117.913 75.4629 117.593 75.5755C117.496 75.61 117.389 75.6108 117.286 75.5917C117.05 75.5461 116.827 75.3674 116.71 75.1144C116.653 74.9896 116.595 74.8648 116.542 74.7401C116.488 74.6187 116.437 74.4941 116.383 74.3727C116.333 74.248 116.286 74.1268 116.235 74.0055C116.188 73.8843 116.141 73.7631 116.097 73.6419C115.927 73.1842 115.775 72.7068 115.646 72.23C115.517 71.7532 115.405 71.2601 115.313 70.7708C115.224 70.2782 115.153 69.7727 115.101 69.2677C115.05 68.7627 115.022 68.2415 115.011 67.7241C115 67.2033 115.005 66.6696 115.035 66.1398C115.06 65.6099 115.107 65.0638 115.173 64.5181C115.239 63.9725 115.329 63.4141 115.432 62.8593C115.535 62.3012 115.662 61.7336 115.806 61.1631C115.909 60.7518 115.969 60.3228 115.989 59.8862C116.006 59.4628 115.983 59.0252 115.916 58.5899C115.853 58.1613 115.749 57.7285 115.612 57.3048C115.472 56.8845 115.298 56.47 115.091 56.0681C114.883 55.6695 114.642 55.2801 114.374 54.9168C114.102 54.5501 113.803 54.2027 113.477 53.8848C113.147 53.5634 112.793 53.2682 112.422 53.0126C112.038 52.7466 111.636 52.517 111.223 52.3305C111.019 52.2389 110.81 52.1539 110.605 52.0824C110.403 52.0109 110.194 51.9493 109.989 51.8977C109.899 51.8756 109.809 51.8568 109.72 51.838C109.603 51.8153 109.487 51.7959 109.374 51.7799C109.171 51.7484 108.965 51.7302 108.765 51.7222C108.561 51.7141 108.361 51.7194 108.164 51.7315C107.966 51.7468 107.769 51.7689 107.578 51.8045C107.383 51.8366 107.192 51.8855 107.004 51.9411C106.816 51.9968 106.63 52.0625 106.452 52.1417C106.273 52.2176 106.097 52.3036 105.932 52.4031C105.769 52.4994 105.606 52.6023 105.454 52.7155C105.304 52.8288 105.158 52.9521 105.021 53.0824C104.888 53.2127 104.754 53.3531 104.638 53.5005C104.517 53.6478 104.403 53.8019 104.3 53.963C104.196 54.124 104.102 54.292 104.014 54.4701C103.926 54.6449 103.845 54.8298 103.781 55.0185C103.71 55.207 103.652 55.4058 103.6 55.6082C103.478 56.0991 103.36 56.5935 103.258 57.0816C103.157 57.5697 103.058 58.0645 102.974 58.553C102.889 59.0381 102.814 59.5335 102.749 60.0158C102.684 60.4981 102.629 60.9872 102.585 61.47C102.54 61.9494 102.502 62.4356 102.477 62.9155C102.456 63.2754 102.167 63.4988 101.821 63.4273C101.423 63.3245 101.148 62.9511 101.17 62.5812C101.195 62.0847 101.237 61.5818 101.282 61.0824C101.33 60.5864 101.386 60.0772 101.454 59.575C101.519 59.076 101.598 58.5674 101.687 58.0657C101.772 57.5605 101.871 57.049 101.979 56.5477C102.085 56.043 102.203 55.532 102.332 55.0279C102.391 54.7857 102.463 54.5472 102.549 54.3189C102.631 54.0906 102.726 53.8693 102.831 53.6583C102.937 53.4439 103.052 53.2397 103.18 53.0458C103.304 52.8486 103.442 52.6616 103.587 52.4848C103.734 52.3081 103.888 52.1383 104.052 51.9819C104.216 51.8256 104.393 51.6763 104.577 51.5405C104.757 51.4046 104.95 51.2757 105.15 51.1602C105.349 51.0448 105.562 50.9397 105.778 50.8447C105.994 50.753 106.216 50.6714 106.441 50.6033C106.666 50.5352 106.898 50.4806 107.132 50.4394C107.364 50.3981 107.605 50.367 107.842 50.3526C108.083 50.3349 108.327 50.3306 108.57 50.343C108.813 50.352 109.063 50.3779 109.306 50.4103C109.439 50.4334 109.575 50.4567 109.711 50.4866Z",fill:"#5A56EC"}),e.jsx("path",{d:"M109.721 48.0796C109.863 48.1096 110.006 48.1397 110.149 48.1764C110.474 48.2574 110.799 48.3518 111.12 48.4661C111.444 48.5804 111.772 48.7082 112.089 48.8558C112.743 49.1514 113.375 49.5165 113.976 49.931C114.301 50.1588 114.441 50.5892 114.283 50.8991C114.171 51.1233 113.936 51.2179 113.69 51.1687C113.597 51.1498 113.501 51.1109 113.409 51.0454C112.887 50.6828 112.333 50.3695 111.769 50.1127C111.491 49.9861 111.207 49.8727 110.926 49.7727C110.648 49.6727 110.363 49.5893 110.084 49.5227C109.951 49.4896 109.815 49.4597 109.682 49.4332C109.536 49.4031 109.39 49.3796 109.243 49.3562C108.964 49.3196 108.684 49.2897 108.411 49.2799C108.138 49.2702 107.86 49.2737 107.59 49.2907C107.319 49.3077 107.048 49.3413 106.786 49.3886C106.522 49.4357 106.26 49.4996 106.004 49.5737C105.746 49.6511 105.493 49.7452 105.247 49.8495C105.004 49.9539 104.765 50.0751 104.538 50.2066C104.311 50.338 104.091 50.483 103.887 50.6383C103.68 50.7936 103.482 50.9625 103.295 51.1382C103.107 51.314 102.929 51.5033 102.764 51.7063C102.599 51.9059 102.447 52.1192 102.305 52.3361C102.16 52.5562 102.028 52.79 101.912 53.0275C101.793 53.2682 101.683 53.5192 101.591 53.7772C101.494 54.0386 101.415 54.3069 101.345 54.5822C101.216 55.103 101.09 55.6271 100.981 56.1484C100.872 56.6663 100.773 57.1911 100.681 57.7094C100.592 58.2244 100.513 58.7497 100.444 59.2619C100.375 59.7774 100.316 60.2998 100.267 60.8091C100.219 61.3217 100.183 61.838 100.155 62.3478C100.129 62.8576 100.111 63.371 100.105 63.8747C100.097 64.3782 100.102 64.8888 100.117 65.3896C100.128 65.8903 100.156 66.3947 100.188 66.8926C100.21 67.2301 100.239 67.571 100.274 67.9088C100.306 68.2466 100.345 68.5911 100.391 68.9258C100.433 69.2638 100.482 69.6019 100.534 69.9367C100.586 70.2749 100.641 70.6132 100.707 70.945C100.778 71.327 100.547 71.6419 100.193 71.6436C100.15 71.6425 100.103 71.6381 100.06 71.6304C99.7545 71.5699 99.484 71.2933 99.4218 70.9582C99.3599 70.6098 99.2981 70.258 99.2428 69.9097C99.191 69.5582 99.1393 69.2034 99.094 68.8553C99.0489 68.504 99.0071 68.1493 98.9753 67.7983C98.9402 67.4471 98.9119 67.0895 98.8835 66.7352C98.8489 66.2173 98.8212 65.6928 98.81 65.1721C98.7956 64.6513 98.7913 64.1207 98.797 63.5971C98.8026 63.0734 98.8217 62.5434 98.8508 62.0136C98.8799 61.4871 98.9191 60.9509 98.9682 60.4249C99.0207 59.8957 99.0801 59.3566 99.1526 58.8245C99.2218 58.2923 99.3046 57.7538 99.3972 57.2222C99.4864 56.6905 99.5926 56.1458 99.7052 55.6146C99.8179 55.0802 99.9441 54.5393 100.08 54.0054C100.158 53.6902 100.252 53.3788 100.362 53.0812C100.469 52.7867 100.593 52.496 100.733 52.2191C100.869 51.942 101.023 51.6754 101.185 51.419C101.348 51.1659 101.527 50.9199 101.716 50.6908C101.909 50.4618 102.111 50.2397 102.329 50.0346C102.544 49.8295 102.772 49.6346 103.01 49.4601C103.248 49.2788 103.502 49.1146 103.763 48.9639C104.023 48.8133 104.297 48.6762 104.58 48.5527C104.86 48.4325 105.153 48.326 105.448 48.2395C105.744 48.153 106.046 48.0801 106.351 48.0238C106.656 47.9676 106.967 47.9315 107.278 47.9088C107.589 47.8894 107.91 47.8836 108.226 47.8977C108.543 47.9085 108.866 47.9394 109.189 47.9837C109.359 48.011 109.538 48.0419 109.721 48.0796Z",fill:"#5A56EC"}),e.jsx("path",{d:"M109.722 45.6693C110.702 45.8658 111.682 46.1858 112.649 46.6289C114.248 47.357 115.722 48.3759 117.034 49.6545C118.3 50.8919 119.354 52.318 120.175 53.8953C120.992 55.4759 121.534 57.1202 121.782 58.7942C122.038 60.5284 121.966 62.2116 121.568 63.797C121.167 65.3924 120.954 66.9022 120.942 68.2798C120.937 68.65 120.644 68.8934 120.285 68.8216C119.92 68.7462 119.628 68.3824 119.634 68.0055C119.652 66.5213 119.873 64.9116 120.3 63.2168C121.003 60.414 120.56 57.2741 119.052 54.3761C117.549 51.4749 115.163 49.1701 112.333 47.8826C111.468 47.4853 110.593 47.2012 109.716 47.0238C109.165 46.9141 108.613 46.8477 108.066 46.8249C106.645 46.7682 105.295 47.0134 104.047 47.548C102.806 48.0827 101.747 48.8752 100.901 49.903C100.771 50.0601 100.573 50.1155 100.37 50.0774C100.237 50.0509 100.102 49.981 99.9844 49.8681C99.6939 49.5877 99.6307 49.1525 99.8471 48.8907C100.795 47.7352 101.984 46.8489 103.37 46.2509C104.766 45.6497 106.278 45.3749 107.868 45.439C108.488 45.4702 109.104 45.5447 109.722 45.6693Z",fill:"#5A56EC"}),e.jsx("path",{d:"M116.576 52.6151C116.755 52.6493 116.933 52.7636 117.062 52.9368C117.486 53.5106 117.869 54.1202 118.195 54.7484C118.52 55.3799 118.795 56.0337 119.013 56.6961C119.235 57.3652 119.396 58.0463 119.497 58.7226C119.597 59.409 119.635 60.0972 119.609 60.7672C119.583 61.4539 119.487 62.1323 119.321 62.7757C119.2 63.26 119.092 63.7445 119.004 64.2163C118.913 64.6846 118.838 65.1533 118.781 65.6057C118.724 66.0614 118.683 66.5109 118.656 66.9507C118.629 67.3838 118.622 67.8207 118.626 68.2412C118.632 68.6617 118.656 69.0793 118.69 69.4805C118.727 69.8818 118.781 70.2801 118.849 70.6687C118.917 71.054 119.001 71.433 119.099 71.799C119.201 72.1784 119.002 72.5207 118.658 72.556C118.598 72.5646 118.534 72.5631 118.471 72.5483C118.189 72.4916 117.928 72.2452 117.845 71.9363C117.734 71.5233 117.641 71.0974 117.564 70.6686C117.487 70.243 117.428 69.8012 117.388 69.3565C117.348 68.9152 117.322 68.4575 117.316 68.0002C117.31 67.5463 117.318 67.0761 117.349 66.6064C117.377 66.1399 117.418 65.6571 117.479 65.1747C117.541 64.6924 117.619 64.1971 117.714 63.7022C117.806 63.2105 117.921 62.7028 118.047 62.1919C118.187 61.6313 118.271 61.0461 118.295 60.4494C118.318 59.8694 118.286 59.2714 118.196 58.6754C118.11 58.0895 117.97 57.499 117.78 56.9207C117.59 56.3457 117.35 55.7762 117.065 55.229C116.781 54.6818 116.45 54.1502 116.084 53.6545C115.842 53.3285 115.865 52.902 116.133 52.7015C116.262 52.6111 116.42 52.5847 116.576 52.6151Z",fill:"#5A56EC"}),e.jsx("path",{d:"M101.753 64.978C102.128 65.0535 102.417 65.4006 102.425 65.7711C102.438 66.2385 102.463 66.7129 102.496 67.1774C102.523 67.5684 102.554 67.9594 102.598 68.3508C102.639 68.7388 102.687 69.1336 102.741 69.5186C102.795 69.9068 102.86 70.2987 102.927 70.684C102.995 71.0692 103.069 71.4547 103.154 71.837C103.235 72.2192 103.326 72.605 103.421 72.9843C103.515 73.3635 103.62 73.7463 103.728 74.1225C103.839 74.4954 103.954 74.8751 104.075 75.2483C104.2 75.6249 104.024 75.9811 103.686 76.0432C103.612 76.0582 103.535 76.0564 103.459 76.0412C103.193 75.9883 102.945 75.7656 102.848 75.4731C102.721 75.0831 102.6 74.6832 102.482 74.2901C102.368 73.8971 102.261 73.4975 102.16 73.0981C102.059 72.7021 101.965 72.2962 101.878 71.8971C101.793 71.4981 101.713 71.0892 101.639 70.6871C101.568 70.2851 101.504 69.8765 101.444 69.4714C101.39 69.0698 101.336 68.6582 101.296 68.2502C101.252 67.8421 101.218 67.431 101.188 67.0232C101.156 66.542 101.13 66.0477 101.115 65.5569C101.111 65.1764 101.394 64.9162 101.753 64.978Z",fill:"#5A56EC"}),e.jsx("path",{d:"M109.719 52.8983C109.792 52.9133 109.868 52.9285 109.945 52.9469C110.29 53.0318 110.637 53.1567 110.977 53.3082C111.668 53.6247 112.308 54.0634 112.873 54.6172C113.16 54.9009 113.219 55.3394 113.003 55.5979C112.876 55.7517 112.678 55.8071 112.478 55.7657C112.342 55.7392 112.207 55.666 112.09 55.5531C111.662 55.136 111.183 54.8044 110.664 54.5687C110.407 54.4526 110.145 54.3597 109.883 54.2968C109.823 54.282 109.763 54.2673 109.707 54.256C109.508 54.2146 109.308 54.1932 109.111 54.1853C108.858 54.176 108.604 54.19 108.362 54.2344C108.118 54.2787 107.876 54.3498 107.65 54.4479C107.427 54.5461 107.214 54.6679 107.024 54.8136C106.833 54.9559 106.659 55.1253 106.508 55.3053C106.354 55.4918 106.222 55.6956 106.113 55.9166C106.005 56.1376 105.912 56.3823 105.85 56.6345C105.618 57.5566 105.419 58.4895 105.261 59.4033C105.102 60.3171 104.981 61.2352 104.893 62.1373C104.808 63.0362 104.757 63.9425 104.746 64.8231C104.732 65.707 104.758 66.5918 104.818 67.4573C104.868 68.1725 104.944 68.895 105.044 69.6047C105.145 70.3111 105.271 71.0281 105.422 71.7256C105.569 72.4231 105.749 73.128 105.947 73.8133C106.148 74.502 106.372 75.1912 106.62 75.861C106.727 76.1471 106.837 76.4367 106.953 76.7263C107.07 77.016 107.19 77.3058 107.32 77.5991C107.478 77.9665 107.346 78.3471 107.023 78.453C106.929 78.4841 106.829 78.4851 106.732 78.4662C106.493 78.4172 106.26 78.2315 106.146 77.9719C106.013 77.6652 105.884 77.3552 105.764 77.0554C105.641 76.7489 105.525 76.4426 105.412 76.143C105.151 75.4362 104.915 74.7066 104.705 73.981C104.495 73.2587 104.309 72.5169 104.149 71.7825C103.989 71.0447 103.857 70.2975 103.754 69.5511C103.648 68.8045 103.569 68.0486 103.517 67.2967C103.454 66.391 103.429 65.4662 103.441 64.5422C103.456 63.6217 103.508 62.6787 103.597 61.7432C103.686 60.8077 103.815 59.8565 103.98 58.9095C104.146 57.9658 104.349 57.0063 104.588 56.051C104.673 55.7193 104.787 55.395 104.934 55.0982C105.081 54.8047 105.258 54.5319 105.461 54.2864C105.664 54.0376 105.896 53.8195 106.147 53.6285C106.402 53.4377 106.683 53.2741 106.979 53.1443C107.28 53.0178 107.595 52.9218 107.924 52.8628C108.249 52.8037 108.587 52.7816 108.923 52.7962C109.177 52.8121 109.45 52.8419 109.719 52.8983Z",fill:"#5A56EC"}),e.jsx("path",{d:"M85.3474 45.2985L86.0179 44.806L85.9965 50.4599L85.3291 50.9525L85.3474 45.2985Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M90.7912 45.5829L90.7873 46.3918L85.3498 45.2988L85.3314 50.9521L84.5559 50.7986L84.5781 44.3394L90.7912 45.5829Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M90.7889 45.5819L91.4552 45.0901L91.4544 45.8948L90.7849 46.3895L90.7889 45.5819Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M84.5778 44.3393L85.2453 43.8438L91.458 45.0902L90.7906 45.5828L84.5778 44.3393Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M130.611 52.1629L130.591 58.6214L129.813 58.4678L129.834 52.8152L124.398 51.7223L124.398 50.9165L130.611 52.1629Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M130.609 52.1637L131.28 51.6712L131.257 58.1301L130.59 58.6227L130.609 52.1637Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M124.398 50.9164L125.069 50.4239L131.281 51.6704L130.611 52.1629L124.398 50.9164Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M124.207 90.6035L124.874 90.1079L130.312 91.201L129.645 91.6937L124.207 90.6035Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M130.441 86.1998L130.418 92.6591L124.205 91.4125L124.206 90.6066L129.644 91.6966L129.662 86.0432L130.441 86.1998Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M130.441 86.1991L131.112 85.7066L131.089 92.1655L130.419 92.658L130.441 86.1991Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M129.66 86.0421L130.33 85.5501L131.107 85.7065L130.438 86.1985L129.66 86.0421Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M85.2342 78.5361L85.9016 78.0435L85.8832 83.6974L85.2158 84.19L85.2342 78.5361Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M84.4607 78.3799L85.1274 77.8879L85.902 78.0443L85.2354 78.5363L84.4607 78.3799Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M85.2363 78.5371L85.2179 84.1898L90.6548 85.2796L90.6509 86.0854L84.4387 84.839L84.4609 78.3806L85.2363 78.5371Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M85.2185 84.1914L85.886 83.6987L91.3241 84.7888L90.6566 85.2815L85.2185 84.1914Z",fill:"#DDDDDD"}),e.jsx("path",{d:"M90.6561 85.2784L91.3224 84.7866L91.3185 85.5912L90.6522 86.0831L90.6561 85.2784Z",fill:"#DDDDDD"})]}),e.jsx("path",{d:"M181.461 69.5906L205.177 74.6412L193.978 87.8169",stroke:"#DDDDDD",strokeWidth:"0.614523"}),e.jsx("circle",{cx:"193.963",cy:"87.8212",r:"1.65464",fill:"#5A56EC"}),e.jsx("circle",{cx:"206.838",cy:"32.2704",r:"1.65464",fill:"#5A56EC"}),e.jsx("circle",{cx:"70.7914",cy:"72.806",r:"1.65464",fill:"#5A56EC"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.5441 68.1858L21.9279 75.2108L21.1914 75.0565L28.0803 67.7458L28.5441 68.1858Z",fill:"#DDDDDD"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M172.824 70.5559L165.416 78.8861L164.68 78.7319L172.347 70.1331L172.824 70.5559Z",fill:"#DDDDDD"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M190.753 51.349L182.619 60.3851L181.883 60.2309L190.283 50.9211L190.753 51.349Z",fill:"#DDDDDD"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.1813 47.8149L42.1076 55.2975L41.3711 55.1433L48.698 47.3723L49.1813 47.8149Z",fill:"#DDDDDD"}),e.jsx("ellipse",{cx:"59.5186",cy:"35.0157",rx:"1.65535",ry:"1.65535",fill:"#5A56EC"}),e.jsx("ellipse",{cx:"157.362",cy:"87.0794",rx:"1.65535",ry:"1.65535",fill:"#5A56EC"}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_4259_53134",children:e.jsx("rect",{width:"59.2316",height:"67.5112",fill:"white",transform:"translate(85.0508 25.5) rotate(1.34474)"})})})]}),x4=t=>e.jsxs("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[e.jsx("path",{d:"M7.48116 0.710604L9.35753 2.54325C9.52392 2.70577 9.52392 2.96927 9.35753 3.13179L2.70048 9.63371C2.53408 9.79623 2.53408 10.0597 2.70048 10.2222L10.534 17.8732C10.7004 18.0357 10.9702 18.0357 11.1366 17.8732L17.7936 11.3713C17.96 11.2088 18.2298 11.2088 18.3962 11.3713L20.2726 13.2039C20.5547 13.4795 21.0352 13.259 20.9981 12.871L19.9068 1.44359C19.8877 1.24429 19.7261 1.08647 19.5221 1.06788L7.82203 0.00197721C7.42474 -0.034217 7.19902 0.435032 7.48116 0.710604Z",fill:"currentColor"}),e.jsx("line",{y1:"-0.5",x2:"10.3433",y2:"-0.5",transform:"matrix(0.715393 -0.698723 0.715393 0.698723 2.36938 14.8446)",stroke:"currentColor"}),e.jsx("line",{y1:"-0.5",x2:"6.79265",y2:"-0.5",transform:"matrix(0.715393 -0.698722 0.715393 0.698722 4.91016 12.3643)",stroke:"black"}),e.jsx("line",{y1:"-0.5",x2:"13.0609",y2:"-0.5",transform:"matrix(0.715393 -0.698723 0.715393 0.698723 1 19.9999)",stroke:"currentColor"}),e.jsx("line",{y1:"-0.5",x2:"4.8928",y2:"-0.5",transform:"matrix(0.715393 -0.698723 0.715393 0.698723 6.8562 14.2875)",stroke:"black"}),e.jsx("line",{y1:"-0.5",x2:"13.503",y2:"-0.5",transform:"matrix(0.715393 -0.698723 0.715393 0.698723 5.26318 19.5822)",stroke:"currentColor"}),e.jsx("line",{y1:"-0.5",x2:"8.63555",y2:"-0.5",transform:"matrix(0.715393 -0.698723 0.715393 0.698723 8.77588 16.1546)",stroke:"black"})]}),h4=({className:t})=>e.jsxs("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("rect",{x:"3.5",y:"6.03052",width:"13",height:"9",stroke:"currentColor"}),e.jsx("path",{d:"M9 10.5305V6.53052",stroke:"currentColor"}),e.jsx("path",{d:"M9 8.53052L16 8.53052",stroke:"currentColor"}),e.jsx("path",{d:"M4 10.5305L17 10.5305",stroke:"currentColor"}),e.jsx("path",{d:"M4 12.5305H16",stroke:"currentColor"})]}),f4=({className:t})=>e.jsxs("svg",{width:"220",height:"121",viewBox:"0 0 220 121",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("path",{d:"M99.2432 31.9935L167.802 68.8092C168.727 69.307 168.727 70.1106 167.802 70.6031L124.078 94.0841C123.153 94.5818 121.659 94.5818 120.74 94.0841L52.1756 57.2684C51.2504 56.7706 51.2504 55.967 52.1756 55.4745L95.8991 31.9935C96.8243 31.4958 98.318 31.4958 99.2432 31.9935Z",fill:"#1C2434"}),e.jsx("path",{d:"M99.2432 26.3633L167.802 63.179C168.727 63.6767 168.727 64.4803 167.802 64.9729L124.078 88.4538C123.153 88.9515 121.659 88.9515 120.74 88.4538L52.1756 51.6381C51.2504 51.1404 51.2504 50.3368 52.1756 49.8442L95.8991 26.3633C96.8243 25.8656 98.318 25.8656 99.2432 26.3633Z",fill:"#080E18",stroke:"#5A56EC"}),e.jsx("path",{d:"M99.678 32.3311L156.683 62.946C157.736 63.5111 157.736 64.434 156.683 64.9991L124.123 82.4867C123.07 83.0518 121.353 83.0518 120.3 82.4867L63.2947 51.8718C62.2413 51.3066 62.2413 50.3838 63.2947 49.8187L95.8546 32.3311C96.908 31.7659 98.619 31.7659 99.678 32.3311Z",fill:"#5A56EC"}),e.jsx("path",{d:"M86.854 35.3533C87.7792 34.8556 89.2729 34.8556 90.1925 35.3533L103.942 42.7361C104.232 42.8917 104.444 43.0887 104.555 43.3012L107.186 48.5428C109.727 53.603 117.079 57.5485 126.487 58.912L136.246 60.3274C136.647 60.3844 137.009 60.4985 137.299 60.654L151.049 68.0369C151.974 68.5346 151.974 69.3382 151.049 69.8307L124.842 83.9069C123.923 84.4046 122.424 84.4046 121.504 83.9069L60.6477 51.2233C59.7226 50.7256 59.7226 49.9219 60.6477 49.4294L86.854 35.3533Z",fill:"#080E18",stroke:"#5A56EC"}),e.jsx("circle",{cx:"84.75",cy:"67.7237",r:"15",fill:"#4ADFA7"}),e.jsx("path",{d:"M90.75 63.7237L83.6606 71.6521L79.2759 68.0747",stroke:"#080E18",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),s1=({className:t})=>e.jsxs("svg",{width:"118",height:"70",viewBox:"0 0 118 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("path",{d:"M48.2537 7.00366L116.812 43.8194C117.738 44.3171 117.738 45.1207 116.812 45.6132L73.0888 69.0942C72.1636 69.5919 70.67 69.5919 69.7504 69.0942L1.18608 32.2785C0.26089 31.7808 0.26089 30.9772 1.18608 30.4846L44.9096 7.00366C45.8348 6.50594 47.3285 6.50594 48.2537 7.00366Z",fill:"#1C2434"}),e.jsx("path",{d:"M48.2537 1.37329L116.812 38.189C117.738 38.6867 117.738 39.4903 116.812 39.9829L73.0888 63.4638C72.1636 63.9615 70.67 63.9615 69.7504 63.4638L1.18608 26.6481C0.26089 26.1504 0.26089 25.3468 1.18608 24.8543L44.9096 1.37329C45.8348 0.87557 47.3285 0.87557 48.2537 1.37329Z",fill:"#080E18",stroke:"#5A56EC"}),e.jsx("path",{d:"M48.689 7.34083L105.694 37.9558C106.747 38.5209 106.747 39.4438 105.694 40.0089L73.134 57.4965C72.0806 58.0616 70.364 58.0616 69.3106 57.4965L12.3057 26.8815C11.2523 26.3164 11.2523 25.3935 12.3057 24.8284L44.8656 7.34083C45.919 6.77571 47.63 6.77571 48.689 7.34083Z",fill:"#5A56EC"}),e.jsx("path",{d:"M35.865 10.363C36.7902 9.86532 38.2838 9.86532 39.2035 10.363L52.9531 17.7459C53.2429 17.9014 53.4547 18.0984 53.5662 18.311L56.1968 23.5526C58.7383 28.6128 66.0897 32.5582 75.4976 33.9218L85.2567 35.3372C85.658 35.3942 86.0202 35.5083 86.31 35.6638L100.06 43.0466C100.985 43.5444 100.985 44.348 100.06 44.8405L73.8534 58.9166C72.9338 59.4144 71.4346 59.4144 70.515 58.9166L9.65874 26.233C8.73355 25.7353 8.73355 24.9317 9.65874 24.4392L35.865 10.363Z",fill:"#080E18",stroke:"#5A56EC"})]}),p4=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",className:t,children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5C3.79086 5 2 6.79086 2 9V18C2 20.2091 3.79086 22 6 22H20C22.2091 22 24 20.2091 24 18V9C24 6.79086 22.2091 5 20 5H6ZM4 9C4 7.89543 4.89543 7 6 7H20C21.1046 7 22 7.89543 22 9H4ZM6 11C4.89543 11 4 11.8954 4 13H10C10 13.2626 10.0776 13.5227 10.2284 13.7654C10.3791 14.008 10.6001 14.2285 10.8787 14.4142C11.1573 14.5999 11.488 14.7472 11.8519 14.8478C12.2159 14.9483 12.606 15 13 15C13.394 15 13.7841 14.9483 14.1481 14.8478C14.512 14.7472 14.8427 14.5999 15.1213 14.4142C15.3999 14.2285 15.6209 14.008 15.7716 13.7654C15.9224 13.5227 16 13.2626 16 13H22C22 11.8954 21.1046 11 20 11H6Z",fill:"#D9D9D9"})}),Gt=({className:t})=>e.jsxs("svg",{width:"119",height:"70",viewBox:"0 0 119 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("path",{d:"M49.2432 7.27002L117.802 44.0857C118.727 44.5834 118.727 45.3871 117.802 45.8796L74.0783 69.3606C73.1531 69.8583 71.6595 69.8583 70.7399 69.3606L2.17558 32.5448C1.25039 32.0471 1.25039 31.2435 2.17558 30.751L45.8991 7.27002C46.8243 6.7723 48.318 6.7723 49.2432 7.27002Z",fill:"#1C2434"}),e.jsx("path",{d:"M49.2432 1.63965L117.802 38.4554C118.727 38.9531 118.727 39.7567 117.802 40.2492L74.0783 63.7302C73.1531 64.2279 71.6595 64.2279 70.7399 63.7302L2.17558 26.9145C1.25039 26.4168 1.25039 25.6131 2.17558 25.1206L45.8991 1.63965C46.8243 1.14193 48.318 1.14193 49.2432 1.63965Z",fill:"#080E18",stroke:"#5A56EC"}),e.jsx("path",{d:"M49.678 7.60743L106.683 38.2224C107.736 38.7875 107.736 39.7104 106.683 40.2755L74.123 57.7631C73.0696 58.3282 71.353 58.3282 70.2997 57.7631L13.2947 27.1481C12.2413 26.583 12.2413 25.6601 13.2947 25.095L45.8546 7.60743C46.908 7.04231 48.619 7.04231 49.678 7.60743Z",fill:"#5A56EC"}),e.jsx("path",{d:"M36.8541 10.6296C37.7793 10.1319 39.273 10.1319 40.1926 10.6296L53.9422 18.0125C54.2321 18.168 54.4438 18.365 54.5553 18.5776L57.186 23.8192C59.7275 28.8794 67.0788 32.8248 76.4867 34.1884L86.2458 35.6038C86.6471 35.6608 87.0094 35.7749 87.2992 35.9304L101.049 43.3132C101.974 43.811 101.974 44.6146 101.049 45.1071L74.8426 59.1832C73.923 59.681 72.4237 59.681 71.5041 59.1832L10.6479 26.4996C9.72268 26.0019 9.72268 25.1983 10.6479 24.7058L36.8541 10.6296Z",fill:"#080E18",stroke:"#5A56EC"}),e.jsx("circle",{cx:"34.75",cy:"43",r:"15",fill:"#5A56EC"}),e.jsx("path",{d:"M34.4512 51.0355C30.0599 51.0355 26.5 47.4761 26.5 43.0854C26.5 40.1014 28.1443 37.5013 30.5763 36.1416",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("path",{d:"M35.0488 35.1182C39.4402 35.1182 43 38.6775 43 43.0683C43 45.9551 41.4611 48.4826 39.1588 49.8753",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("path",{d:"M32.9473 52.9844L35.0492 50.8828L32.9473 48.7811",stroke:"white",strokeWidth:"1.5"}),e.jsx("path",{d:"M36.5527 37.2195L34.4508 35.1179L36.5527 33.0162",stroke:"white",strokeWidth:"1.5"})]}),g4=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 10",className:t,children:e.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.83 1h7.34c.73 0 1.33.6 1.33 1.33V3.5h-3a.5.5 0 0 0-.49.4c-.07.33-.41.93-1.51.93-1.07 0-1.45-.68-1.51-.95a.5.5 0 0 0-.49-.38h-3V2.33C1.5 1.6 2.1 1 2.83 1ZM1.5 4.5V7c0 .74.6 1.33 1.33 1.33h7.34c.73 0 1.33-.6 1.33-1.33V4.5H8.86c-.3.67-1.04 1.33-2.36 1.33A2.5 2.5 0 0 1 4.16 4.5H1.5Zm-1-2.17A2.33 2.33 0 0 1 2.83 0h7.34a2.33 2.33 0 0 1 2.33 2.33V7a2.33 2.33 0 0 1-2.33 2.33H2.83A2.33 2.33 0 0 1 .5 7V2.33Z",clipRule:"evenodd"})}),j4=({className:t})=>e.jsxs("svg",{width:"119",height:"70",viewBox:"0 0 119 70",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("path",{d:"M49.2432 7.27002L117.802 44.0857C118.727 44.5834 118.727 45.3871 117.802 45.8796L74.0783 69.3606C73.1531 69.8583 71.6595 69.8583 70.7399 69.3606L2.17558 32.5448C1.25039 32.0471 1.25039 31.2435 2.17558 30.751L45.8991 7.27002C46.8243 6.7723 48.318 6.7723 49.2432 7.27002Z",fill:"#1C2434"}),e.jsx("path",{d:"M49.2432 1.63965L117.802 38.4554C118.727 38.9531 118.727 39.7567 117.802 40.2492L74.0783 63.7302C73.1531 64.2279 71.6595 64.2279 70.7399 63.7302L2.17558 26.9145C1.25039 26.4168 1.25039 25.6131 2.17558 25.1206L45.8991 1.63965C46.8243 1.14193 48.318 1.14193 49.2432 1.63965Z",fill:"#080E18",stroke:"#5A56EC"}),e.jsx("path",{d:"M49.678 7.60743L106.683 38.2224C107.736 38.7875 107.736 39.7104 106.683 40.2755L74.123 57.7631C73.0696 58.3282 71.353 58.3282 70.2997 57.7631L13.2947 27.1481C12.2413 26.583 12.2413 25.6601 13.2947 25.095L45.8546 7.60743C46.908 7.04231 48.619 7.04231 49.678 7.60743Z",fill:"#5A56EC"}),e.jsx("path",{d:"M36.8541 10.6296C37.7793 10.1319 39.273 10.1319 40.1926 10.6296L53.9422 18.0125C54.2321 18.168 54.4438 18.365 54.5553 18.5776L57.186 23.8192C59.7275 28.8794 67.0788 32.8248 76.4867 34.1884L86.2458 35.6038C86.6471 35.6608 87.0094 35.7749 87.2992 35.9304L101.049 43.3132C101.974 43.811 101.974 44.6146 101.049 45.1071L74.8426 59.1832C73.923 59.681 72.4237 59.681 71.5041 59.1832L10.6479 26.4996C9.72268 26.0019 9.72268 25.1983 10.6479 24.7058L36.8541 10.6296Z",fill:"#080E18",stroke:"#5A56EC"}),e.jsx("circle",{cx:"34.75",cy:"43",r:"15",fill:"#FFC82A"}),e.jsx("g",{clipPath:"url(#clip0_1_24976)",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.6844 34.9595C34.0221 34.7714 34.4025 34.6729 34.7889 34.6729C35.1754 34.6729 35.5558 34.7714 35.8935 34.9595C36.2312 35.1476 36.5151 35.4192 36.7172 35.7488L36.7194 35.7524L36.7194 35.7524L43.1035 46.2972L43.1098 46.3075L43.1097 46.3076C43.3077 46.6469 43.4128 47.0322 43.4139 47.4252C43.415 47.8181 43.3121 48.204 43.116 48.5444C42.9199 48.8848 42.6377 49.1675 42.2983 49.3651C41.959 49.5626 41.5738 49.6685 41.1812 49.6728L41.173 49.6729V49.6729H28.4048H28.3967L28.3967 49.6728C28.004 49.6685 27.6189 49.5626 27.2796 49.3651C26.9402 49.1675 26.658 48.8848 26.4619 48.5444C26.2658 48.204 26.1628 47.8181 26.1639 47.4252C26.1651 47.0322 26.2702 46.6469 26.4682 46.3076L26.4743 46.2971L26.4744 46.2972L32.8585 35.7524L32.8606 35.7488L32.8607 35.7488C33.0627 35.4192 33.3467 35.1476 33.6844 34.9595ZM34.7889 36.1729C34.6573 36.1729 34.5282 36.2065 34.4144 36.2699C34.3011 36.333 34.207 36.4233 34.1404 36.5313L34.1395 36.5328L27.7612 47.068C27.6976 47.1787 27.6643 47.3031 27.6639 47.4294C27.6636 47.5573 27.6971 47.6836 27.7616 47.7956C27.8262 47.9078 27.92 48.0022 28.0343 48.0688C28.1476 48.1348 28.277 48.1708 28.4096 48.1729H41.1683C41.3009 48.1708 41.4302 48.1348 41.5436 48.0688C41.6579 48.0022 41.7517 47.9078 41.8163 47.7956C41.8808 47.6836 41.9143 47.5573 41.9139 47.4294C41.9136 47.3031 41.8803 47.1787 41.8167 47.068L35.4384 36.5328L35.4375 36.5313C35.3709 36.4233 35.2768 36.333 35.1635 36.2699C35.0497 36.2065 34.9206 36.1729 34.7889 36.1729ZM34.75 39.2499C35.1642 39.2499 35.5 39.5857 35.5 39.9999V42.9999C35.5 43.4141 35.1642 43.7499 34.75 43.7499C34.3357 43.7499 34 43.4141 34 42.9999V39.9999C34 39.5857 34.3357 39.2499 34.75 39.2499ZM34.75 45.2499C34.3357 45.2499 34 45.5857 34 45.9999C34 46.4141 34.3357 46.7499 34.75 46.7499H34.7575C35.1717 46.7499 35.5075 46.4141 35.5075 45.9999C35.5075 45.5857 35.1717 45.2499 34.7575 45.2499H34.75Z",fill:"#3D2E00"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_1_24976",children:e.jsx("rect",{width:"18",height:"18",fill:"white",transform:"translate(25.75 33.25)"})})})]}),b4=({className:t})=>e.jsxs("svg",{width:"81",height:"80",viewBox:"0 0 81 80",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e.jsx("path",{d:"M33.4762 19.3555L79.7461 46.0658C80.3705 46.4269 80.3705 47.0099 79.7461 47.3673L50.2373 64.403C49.6129 64.7641 48.6048 64.7641 47.9842 64.403L1.71049 37.6927C1.08609 37.3316 1.08609 36.7486 1.71049 36.3913L31.2193 19.3555C31.8437 18.9944 32.8518 18.9944 33.4762 19.3555Z",fill:"#B2C5D5"}),e.jsx("path",{d:"M1.00005 33.0531V34.0863C1.00005 34.3314 1.13104 34.5578 1.34354 34.68L48.0028 61.5099C48.7444 61.9363 49.6569 61.9353 50.3975 61.5072L80.1282 44.3213C80.34 44.1989 80.4704 43.9729 80.4704 43.7283V42.585L49.0841 60.5889L1.00005 33.0531Z",fill:"#5D57F8"}),e.jsx("path",{d:"M33.4762 15.2708L79.7461 41.9811C80.3705 42.3422 80.3705 42.9252 79.7461 43.2826L50.2373 60.3183C49.6129 60.6794 48.6048 60.6794 47.9842 60.3183L1.71049 33.608C1.08609 33.2469 1.08609 32.6639 1.71049 32.3066L31.2193 15.2708C31.8437 14.9097 32.8518 14.9097 33.4762 15.2708Z",fill:"white",stroke:"#5D57F8",strokeWidth:"1.2"}),e.jsx("path",{d:"M33.7698 19.6005L72.2422 41.812C72.9531 42.222 72.9531 42.8915 72.2422 43.3015L50.2676 55.989C49.5567 56.399 48.3981 56.399 47.6872 55.989L9.21483 33.7775C8.50391 33.3675 8.50391 32.6979 9.21483 32.2879L31.1894 19.6005C31.9003 19.1905 33.0551 19.1905 33.7698 19.6005Z",fill:"#5D57F8"}),e.jsx("path",{d:"M25.1138 21.7933C25.7382 21.4322 26.7462 21.4322 27.3669 21.7933L36.6465 27.1496C36.8421 27.2625 36.985 27.4054 37.0602 27.5596L38.8356 31.3625C40.5509 35.0337 45.5123 37.8962 51.8616 38.8854L58.448 39.9123C58.7188 39.9537 58.9633 40.0365 59.1589 40.1493L68.4385 45.5056C69.0629 45.8667 69.0629 46.4498 68.4385 46.8071L50.752 57.0195C50.1314 57.3806 49.1195 57.3806 48.4989 57.0195L7.42729 33.3072C6.80288 32.9461 6.80288 32.363 7.42729 32.0057L25.1138 21.7933Z",fill:"white",stroke:"#5D57F8",strokeWidth:"1.2"})]}),Bs=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12",fill:"none",...t},c.createElement("path",{d:"M2 6L4.5 8.5L10.5 3",stroke:"white",strokeWidth:1.5})),Me=({heading:t,description:s,component:a,icon:n=e.jsx(Xc,{}),iconClassname:r="",openOnPress:i=!0,placement:l="bottom",className:o,closeDelay:u,isDisabled:d,...x})=>{const[m,f]=c.useState(!1);return e.jsxs(Ei,{delay:0,closeDelay:u,isOpen:m,onOpenChange:f,isDisabled:d,children:[e.jsx(Y,{className:r,isDisabled:d,onPress:i?()=>f(!m):void 0,children:n}),e.jsx(Si,{placement:l,className:k("max-w-[257px] shadow-close rounded-[10px] bg-figma-neutral-darker text-neutral-500",o),...x,children:e.jsxs("div",{className:"flex flex-col gap-y-2 py-4",children:[t&&e.jsx("p",{className:"text-xs font-semibold px-4 pb-2 border-b border-figma-neutral-dark",children:t}),s&&e.jsx("p",{className:"text-xs px-4 py-2",children:s}),a&&e.jsx("div",{className:"px-4 pt-2",children:a})]})})]})},y4=({className:t,dropdownOptions:s,errorMessage:a,isDisabled:n,isInvalid:r,label:i,labelClassName:l,labelTooltip:o,onSelect:u,selectedItem:d,placeholder:x,width:m})=>{var h;const[f,p]=c.useState(!1),g=c.useRef(null);return e.jsxs("div",{children:[i&&e.jsxs(Xt,{className:k("text-xs font-bold w-full block text-neutral-500 pb-[6px]",n&&"opacity-50",l),children:[i,o&&e.jsx(Me,{className:"max-w-[257px] text-xs font-normal",iconClassname:"ml-1",openOnPress:!0,closeDelay:0,isDisabled:n,heading:o.heading,description:o.description})]}),e.jsxs(Ws,{children:[e.jsx("div",{className:"gap-4",children:e.jsx(Y,{className:k("bg-figma-dark py-3 px-3 border-solid border-neutral-200 border-[1px] flex justify-between items-center hover:bg-p-500 active:outline-none outline-none outline-offset-0 rounded w-full hover:cursor-pointer disabled:opacity-50",m&&`min-${m}`,r&&"border-negative-400 focus-within:border-negative-500 focus-within:ring-1 focus-within:ring-negative-500 hover:border-negative-500",t),ref:g,onPress:()=>p(!0),isDisabled:n,children:e.jsxs("div",{className:"flex justify-between w-full items-center gap-2 text-xs font-bold",children:[e.jsx("span",{children:((h=s.find(b=>b.value===d))==null?void 0:h.value)||x}),e.jsx(ds,{className:`shrink-0 w-3 h-3 ${f&&"rotate-180"} transition ease-in-out duration-500`})]})})}),e.jsx(xa,{isOpen:f,triggerRef:g,onOpenChange:p,offset:0,crossOffset:0,className:"entering:animate-in entering:fade-in exiting:animate-out exiting:fade-out max-h-50 overflow-auto",isNonModal:!0,children:e.jsx(is,{className:"outline-none outline-offset-0 rounded",children:e.jsx("div",{className:`rounded-sm w-full min-${m} drop-shadow-2xl`,children:s.map(({value:b,displayValue:j})=>e.jsxs(Y,{id:String(b),className:"bg-neutral-100 outline-none text-neutral-800 text-xs font-bold cursor-pointer px-2.5 py-1 w-full flex justify-between items-center gap-2 hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white last:rounded-b","aria-label":j,onPress:()=>{u(b),p(!1)},children:[e.jsx("div",{className:"flex items-center gap-2",children:j}),d===b&&e.jsx(Bs,{})]},b))})})})]}),a&&e.jsx("div",{className:"text-xs text-negative-300 px-[2px] py-[6px]",children:a})]})},a1=({selectedItem:t,dropdownOptions:s,onSelect:a,width:n,isDisabled:r,className:i})=>{var d;const[l,o]=c.useState(!1),u=c.useRef(null);return e.jsxs(Ws,{children:[e.jsx("div",{className:"gap-4",children:e.jsx(Y,{className:k("flex justify-between items-center bg-neutral-100 hover:bg-p-500 active:outline-none outline-none outline-offset-0 px-2.5 py-1 rounded w-full hover:cursor-pointer disabled:opacity-50",`min-${n}`,i),ref:u,onPress:()=>o(!0),isDisabled:r,children:e.jsxs("div",{className:"flex justify-between w-full items-center gap-2 text-xs font-bold",children:[e.jsx("span",{children:(d=s.find(x=>x.key===t))==null?void 0:d.value}),e.jsx(ds,{className:`shrink-0 w-3 h-3 ${l&&"rotate-180"} transition ease-in-out duration-500`})]})})}),e.jsx(xa,{isOpen:l,triggerRef:u,onOpenChange:o,offset:0,crossOffset:0,className:"entering:animate-in entering:fade-in exiting:animate-out exiting:fade-out max-h-50 overflow-auto",isNonModal:!0,children:e.jsx(is,{className:"outline-none outline-offset-0 rounded",children:e.jsx("div",{className:`rounded-sm w-full min-${n} drop-shadow-2xl`,children:s.map(({key:x,value:m})=>e.jsxs(Y,{id:String(x),className:"bg-neutral-100 outline-none text-neutral-800 text-xs font-bold cursor-pointer px-2.5 py-1 w-full flex justify-between items-center gap-2 hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white last:rounded-b","aria-label":m,onPress:()=>{a(x),o(!1)},children:[e.jsx("div",{className:"flex items-center gap-2",children:m}),t===x&&e.jsx(Bs,{})]},x))})})})]})},C4=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:14,viewBox:"0 0 13 14",fill:"none",...t},c.createElement("path",{d:"M5.1084 13.3652C4.78027 13.7207 4.20605 13.7207 3.87793 13.3652L1.25293 10.7402C0.897461 10.4121 0.897461 9.83789 1.25293 9.50977C1.58105 9.1543 2.15527 9.1543 2.4834 9.50977L3.63184 10.6309V7.23633C3.63184 6.77148 4.01465 6.36133 4.50684 6.36133C4.97168 6.36133 5.38184 6.77148 5.38184 7.23633V10.6309L6.50293 9.50977C6.83105 9.1543 7.40527 9.1543 7.7334 9.50977C8.08887 9.83789 8.08887 10.4121 7.7334 10.7402L5.1084 13.3652ZM12.7334 3.25977C13.0889 3.58789 13.0889 4.16211 12.7334 4.49023C12.4053 4.8457 11.8311 4.8457 11.5029 4.49023L10.3818 3.36914V6.73633C10.3818 7.22852 9.97168 7.61133 9.50684 7.61133C9.01465 7.61133 8.63184 7.22852 8.63184 6.73633V3.36914L7.4834 4.49023C7.15527 4.8457 6.58105 4.8457 6.25293 4.49023C5.89746 4.16211 5.89746 3.58789 6.25293 3.25977L8.87793 0.634766C9.20605 0.279297 9.78027 0.279297 10.1084 0.634766L12.7334 3.25977Z",fill:"#5A56EC"})),Nr="w-full py-1 appearance-none text-base font-bold group text-neutral-500 bg-neutral-white invalid:border-none placeholder:font-body placeholder:text-neutral-300 read-only:bg-primary-50 read-only:placeholder:text-primary-600 focus:outline-none disabled:text-neutral-800 disabled:bg-neutral-white placeholder:disabled:text-neutral-800",Nn=t=>{const{isDisabled:s,name:a,precision:n,inputId:r,onChange:i,onBlur:l,onFocus:o,value:u,placeholder:d="0"}=t,x=c.useRef(null);return c.useEffect(()=>{var p;const m=n===0?new RegExp("^\\d*$"):new RegExp("^\\d*\\.?\\d{0,"+n+"}$"),f=g=>{const{selectionStart:h,value:b}=g.target,j=Wt(b),y=j.substring(0,h)+g.key+j.substring(h);return m.test(y)?!0:(g.preventDefault(),g.stopPropagation(),!1)};return(p=document==null?void 0:document.getElementById(r))==null||p.addEventListener("keypress",f),()=>{var g;(g=document==null?void 0:document.getElementById(r))==null||g.removeEventListener("keypress",f)}},[r,n]),e.jsx(or,{name:a,value:u,type:"text",placeholder:St(d,n,{minDigits:!0}),autoComplete:"off",className:Nr,onChange:m=>{var f;(f=x.current)==null||f.setSelectionRange(m.target.selectionStart,m.target.selectionStart),i(m)},onFocus:m=>{var f;(f=x.current)==null||f.setSelectionRange(m.target.selectionEnd,m.target.selectionEnd),o==null||o(m)},onBlur:l,disabled:s,min:0,id:r,form:"novalidatedform",ref:x})},qs=({errorMessage:t,contentAfter:s,contentBefore:a,className:n,label:r,labelTooltip:i,children:l,isInvalid:o,isDisabled:u,labelClassName:d,description:x,message:m,additionalInputButtons:f})=>e.jsxs("div",{className:n,children:[r&&e.jsxs(Xt,{className:k("text-xs font-bold w-full block text-neutral-500 pb-[6px]",u&&"opacity-50",d),children:[r,i&&e.jsx(Me,{className:"max-w-[257px] text-xs font-normal",iconClassname:"ml-1",openOnPress:!0,closeDelay:0,isDisabled:u,heading:i.heading,description:i.description})]}),e.jsxs("div",{className:k("flex border-solid border-neutral-200 rounded-md border-[1px] focus-within:border-p-500 outline-none focus:border-p-500 hover:border-p-500 text-sm font-bold px-[10px] text-neutral-500 bg-neutral-white py-2 transition-shadow",o&&"border-negative-400 focus-within:border-negative-500 focus-within:ring-1 focus-within:ring-negative-500 hover:border-negative-500",u&&"opacity-50 text-neutral-200 hover:border-neutral-200",(s||a||o)&&"items-center"),children:[a?e.jsx("span",{className:k("pr-1",o&&"text-negative-500"),children:a}):null,l,s||o?e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:k(o&&"text-negative-500 self-center"),children:o&&e.jsx("div",{children:e.jsx(Vc,{})})}),s]}):null]}),!u&&m&&e.jsx("div",{className:"text-right text-xs font-medium text-neutral-300 pt-1",children:m}),t&&e.jsx("div",{className:"text-xs text-negative-300 px-[2px] py-[6px]",children:t}),f,!u&&x&&e.jsx("div",{className:"text-xs text-neutral-500 p-[2px] pt-[6px]",children:x})]}),N4=({value:t,precision:s=2,name:a,displayName:n,label:r,isDisabled:i,handleChange:l,handleBlur:o,handleFocus:u,handleAdjustAmountChange:d,message:x,errorMessage:m,className:f,switchCurrentControlledField:p})=>e.jsx(qs,{label:r,isDisabled:i,errorMessage:m,className:f,contentAfter:e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:n}),e.jsx(T.Nav,{onPress:p,className:"",children:e.jsx(C4,{})})]}),isInvalid:!!m,additionalInputButtons:d&&e.jsxs("div",{className:"mt-2.5 flex flex-row gap-x-2",children:[e.jsx(T.AdjustOrder,{isDisabled:i,onPress:()=>d(25),children:"25%"}),e.jsx(T.AdjustOrder,{isDisabled:i,onPress:()=>d(50),children:"50%"}),e.jsx(T.AdjustOrder,{isDisabled:i,onPress:()=>d(100),children:"MAX"})]}),message:x,children:e.jsx(Nn,{onChange:l,onBlur:o,onFocus:u,value:t,name:a,isDisabled:i,inputId:"AmountInput",precision:s})}),w4=t=>{const{precision:s=2,displayName:a,name:n,description:r,label:i,isDisabled:l,className:o,additionalInputButtons:u}=t,{fieldState:{error:d},field:{onBlur:x,onChange:m,value:f}}=cr({name:n}),p=(d==null?void 0:d.message)||"";return e.jsx(qs,{label:i,isDisabled:l,errorMessage:p,className:o,contentAfter:a&&e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:a}),isInvalid:!!p,description:r,additionalInputButtons:u,children:e.jsx(Nn,{onBlur:g=>{const h=jn(g.target.value);m({display:he(h,s),value:h}),x()},onChange:g=>{const h=Us(g.target.value);m(h)},onFocus:g=>{const h=Us(g.target.value);m(h)},value:f.display,name:n,isDisabled:l,inputId:"currencyInput",precision:s})})},xi=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:7,height:10,viewBox:"0 0 7 10",fill:"none",...t},c.createElement("path",{d:"M1 3.5L3.5 1.5M3.5 1.5L6 3.5M3.5 1.5V9",stroke:"#DDDDDD"})),v4=t=>{const{precision:s=2,displayName:a,name:n,description:r,label:i,isDisabled:l,className:o,isBid:u,errorMessage:d,value:x,handlePriceBlur:m,handlePriceChange:f,handlePriceFocus:p,handleAdjustLimitPriceChange:g}=t;return e.jsx(e.Fragment,{children:e.jsx(qs,{label:i,isDisabled:l,errorMessage:d,className:o,contentAfter:a&&e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:a}),isInvalid:!!d,description:r,additionalInputButtons:g&&e.jsxs("div",{className:"mt-2.5 flex flex-row gap-x-2",children:[e.jsx(T.AdjustOrder,{isDisabled:l,onPress:()=>g("MID"),children:"MID"}),e.jsx(T.AdjustOrder,{isDisabled:l,onPress:()=>g("BEST"),children:u?"BID":"ASK"}),e.jsx(T.AdjustOrder,{isDisabled:l,onPress:()=>g("1"),children:e.jsxs("div",{className:"flex items-center justify-center gap-0.75",children:["1% ",e.jsx(xi,{className:k(u&&"rotate-180")})]})}),e.jsx(T.AdjustOrder,{isDisabled:l,onPress:()=>g("5"),children:e.jsxs("div",{className:"flex items-center justify-center gap-0.75",children:["5% ",e.jsx(xi,{className:k(u&&"rotate-180")})]})})]}),children:e.jsx(Nn,{onChange:f,onBlur:m,onFocus:p,value:x,name:n,isDisabled:l,inputId:"LimitPriceInput",precision:s})})})},L4=t=>{const{className:s,label:a,labelClassName:n,inputClassName:r,contentAfter:i,isDisabled:l,name:o,maxLength:u,type:d="text",id:x,placeholder:m,description:f}=t,{field:{onBlur:p,onChange:g,value:h},fieldState:{error:b}}=cr({name:o}),j=(b==null?void 0:b.message)||"";return e.jsx(qs,{label:a,isDisabled:l,errorMessage:j,className:s,contentAfter:i,isInvalid:!!j,labelClassName:n,"aria-label":"text-input",description:f,children:e.jsx(or,{type:d,onChange:g,value:h,className:k("w-full",Nr,r),maxLength:u,id:x,onBlur:p,name:o,placeholder:m})})},E4=t=>{const{precision:s=0,displayName:a,name:n,description:r,isDisabled:i,className:l,label:o,labelTooltip:u,placeholder:d}=t,{fieldState:{error:x},field:{onBlur:m,onChange:f,value:p}}=cr({name:n}),g=(x==null?void 0:x.message)||"";return e.jsx(qs,{label:o,isDisabled:i,errorMessage:g,className:l,contentAfter:a&&e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:a}),isInvalid:!!g,description:r,labelTooltip:u,children:e.jsx(Nn,{onBlur:h=>{const b=jn(h.target.value);f({display:he(b,s),value:b}),m()},onChange:h=>{const b=Us(h.target.value);f(b)},onFocus:h=>{const b=Us(h.target.value);f(b)},value:p.display,name:n,isDisabled:i,inputId:"numberInput",precision:s,placeholder:d})})},S4=t=>{const{className:s,label:a,labelClassName:n,inputClassName:r,contentAfter:i,isDisabled:l,name:o,maxLength:u,type:d="email",id:x}=t,{field:{onBlur:m,onChange:f,value:p},fieldState:{error:g}}=cr({name:o}),h=(g==null?void 0:g.message)||"";return e.jsx(qs,{label:a,isDisabled:l,errorMessage:h,className:s,contentAfter:i,isInvalid:!!h,labelClassName:n,"aria-label":"email-input",children:e.jsx(or,{type:d,onChange:f,value:p,className:k("w-full",Nr,r),maxLength:u,id:x,onBlur:m,name:o})})},A4=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 18 18",fill:"none",...t},c.createElement("mask",{id:"mask0_17810_58842",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:18,height:18},c.createElement("rect",{width:18,height:18,fill:"#D9D9D9"})),c.createElement("g",{mask:"url(#mask0_17810_58842)"},c.createElement("path",{d:"M14.3437 15.2992L9.86245 10.818C9.48745 11.093 9.07626 11.3086 8.62889 11.4648C8.18151 11.6211 7.70539 11.6992 7.20051 11.6992C5.95014 11.6992 4.88745 11.2617 4.01245 10.3867C3.13745 9.51172 2.69995 8.44922 2.69995 7.19922C2.69995 5.94922 3.13745 4.88672 4.01245 4.01172C4.88745 3.13672 5.94995 2.69922 7.19995 2.69922C8.44995 2.69922 9.51245 3.13672 10.3875 4.01172C11.2625 4.88672 11.7 5.94941 11.7 7.19978C11.7 7.70466 11.6218 8.18078 11.4656 8.62816C11.3093 9.07553 11.0937 9.48672 10.8187 9.86172L15.3 14.343L14.3437 15.2992ZM7.19995 10.3492C8.07495 10.3492 8.8187 10.043 9.4312 9.43047C10.0437 8.81797 10.35 8.07422 10.35 7.19922C10.35 6.32422 10.0437 5.58047 9.4312 4.96797C8.8187 4.35547 8.07495 4.04922 7.19995 4.04922C6.32495 4.04922 5.5812 4.35547 4.9687 4.96797C4.3562 5.58047 4.04995 6.32422 4.04995 7.19922C4.04995 8.07422 4.3562 8.81797 4.9687 9.43047C5.5812 10.043 6.32495 10.3492 7.19995 10.3492Z",fill:"#DDDDDD"}))),D4=({className:t,label:s,labelClassName:a,inputClassName:n,isDisabled:r,maxLength:i,id:l,placeholder:o,description:u,value:d,onChange:x,onClear:m})=>e.jsx(qs,{contentBefore:e.jsx(A4,{}),contentAfter:e.jsx(Kc,{className:"h-3 w-3 cursor-pointer",onClick:m}),label:s,isDisabled:r,className:t,labelClassName:a,"aria-label":"search-input",description:u,children:e.jsx(or,{type:"text",onChange:x,value:d,className:k("w-full",Nr,n),maxLength:i,id:l,onBlur:x,placeholder:o})}),Pe={Amount:N4,LimitPrice:v4,Currency:w4,Number:E4,Text:L4,Email:S4,Search:D4},T4=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:26,height:26,viewBox:"0 0 26 26",fill:"none",...t},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5C3.79086 5 2 6.79086 2 9V18C2 20.2091 3.79086 22 6 22H20C22.2091 22 24 20.2091 24 18V9C24 6.79086 22.2091 5 20 5H6ZM4 9C4 7.89543 4.89543 7 6 7H20C21.1046 7 22 7.89543 22 9H4ZM6 11C4.89543 11 4 11.8954 4 13H10C10 13.2626 10.0776 13.5227 10.2284 13.7654C10.3791 14.008 10.6001 14.2285 10.8787 14.4142C11.1573 14.5999 11.488 14.7472 11.8519 14.8478C12.2159 14.9483 12.606 15 13 15C13.394 15 13.7841 14.9483 14.1481 14.8478C14.512 14.7472 14.8427 14.5999 15.1213 14.4142C15.3999 14.2285 15.6209 14.008 15.7716 13.7654C15.9224 13.5227 16 13.2626 16 13H22C22 11.8954 21.1046 11 20 11H6Z",fill:"#D9D9D9"})),P4=t=>c.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("g",{clipPath:"url(#clip0_1326_9469)"},c.createElement("path",{d:"M18 18.6673V25.4487C18 25.7535 17.7529 26.0006 17.4481 26.0006H2.55193C2.24711 26.0006 2 25.7535 2 25.4487L2 1.88591C2 1.58109 2.24711 1.33398 2.55193 1.33398H17.4481C17.7529 1.33398 18 1.58109 18 1.88591V8.00065",stroke:"#DDDDDD"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 25.3333H2V24H18V25.3333Z",fill:"#DDDDDD"}),c.createElement("rect",{x:5.87109,width:7.74444,height:2.95347,rx:.551927,fill:"#DDDDDD"}),c.createElement("path",{d:"M7.33203 25.334L12.6654 25.334",stroke:"black",strokeWidth:.551927}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.8815 19.9993C22.5634 19.9993 25.5481 17.0146 25.5481 13.3327C25.5481 9.65078 22.5634 6.66602 18.8815 6.66602C15.1996 6.66602 12.2148 9.65078 12.2148 13.3327C12.2148 17.0146 15.1996 19.9993 18.8815 19.9993ZM18.2991 15.3845L21.9783 12.018L21.3033 11.2802L17.9569 14.3422L16.4535 13.0042L15.7887 13.7512L17.6292 15.3891L17.9662 15.6891L18.2991 15.3845Z",fill:"#DDDDDD"})),c.createElement("defs",null,c.createElement("clipPath",{id:"clip0_1326_9469"},c.createElement("rect",{width:26,height:26,fill:"white"})))),k4=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:26,height:26,viewBox:"0 0 26 26",fill:"none",...t},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1056 1C13.5533 1 13.1056 1.44771 13.1056 2V3.73621H22.8075V2C22.8075 1.44772 22.3598 1 21.8075 1H14.1056ZM0 6.60891C0 6.05662 0.447715 5.60891 1 5.60891H25C25.5523 5.60891 26 6.05662 26 6.60891V22.6089C26 23.1612 25.5523 23.6089 25 23.6089H1C0.447716 23.6089 0 23.1612 0 22.6089V6.60891ZM18.0001 14.609C18.0001 17.3704 15.7615 19.609 13.0001 19.609C10.2387 19.609 8.00008 17.3704 8.00008 14.609C8.00008 11.8475 10.2387 9.60896 13.0001 9.60896C15.7615 9.60896 18.0001 11.8475 18.0001 14.609Z",fill:"#DDDDDD"})),G=({children:t,variant:s="warning",className:a,symbol:n})=>{const i={warning:"border-l-notice-750 bg-notice-300",error:"border-l-negative-300 bg-negative-500",success:"border-l-s-400 bg-s-600",info:"border-l-reminder-light bg-reminder-dark flex items-center gap-2.5"}[s];return e.jsxs("div",{className:Ke("border-l-[10px] p-3 rounded leading-normal text-xs text-neutral-light",i,a),children:[n==="wallet"&&e.jsx(T4,{className:"w-10 h-10"}),n==="camera"&&e.jsx(k4,{}),n==="app-approval"&&e.jsx(P4,{}),t]})},n1=({appPage:t})=>{var i,l;const{isPassportPending:s,isPassportInProgress:a,isPayAccountInactive:n,fsmStepResponse:r}=Le();return e.jsxs(e.Fragment,{children:[s&&e.jsx(G,{variant:"success",className:"mx-4 mt-4",children:"Your account is pending identity verification. Verification can take 1-3 business days, and you’ll be able to trade once approved."}),n&&e.jsx(G,{variant:"success",className:"mx-4 mt-4",children:"Your Figure Pay account is pending approval. Once approved you’ll be able to deposit USD and trade."}),a&&t==="FTX"&&e.jsx(G,{variant:"warning",className:"mx-4 mt-4",children:"You've started the KYC process, but still need to finish your application. See above for more."}),Ja(r==null?void 0:r.currentStep)&&e.jsxs(G,{variant:"error",className:"mx-4 mt-4",children:["Figure Markets Exchange is currently unavailable"," ",(i=r==null?void 0:r.currentStep)!=null&&i.blockedRegion?`for ${(l=r==null?void 0:r.currentStep)==null?void 0:l.blockedRegion} residents`:"",". Please check back later."]})]})},I4="4.8.0",O4=0,M4=166,_4=60,R4=750,F4=750,U4="S",B4=[],W4=[{ind:1,ty:4,nm:"l",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:164,s:[360]}]},p:{s:!0,x:{a:0,k:375},y:{a:0,k:375}},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"E",bm:0,it:[{ty:"el",nm:"E",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[600,600]}},{ty:"st",nm:"S",bm:0,lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:125},c:{a:0,k:[.35686275363,.337254911661,.960784316063,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},nm:"T",sk:{a:0,k:0},sa:{a:0,k:0}}]},{ty:"tm",nm:"T",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:80,s:[0]},{t:164,s:[100]}]},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:0,s:[0]},{t:80,s:[100]}]},o:{a:0,k:0},m:1}],ip:0,op:166,st:0}],q4=[],$4={v:I4,ip:O4,op:M4,fr:_4,w:R4,h:F4,nm:U4,assets:B4,layers:W4,markers:q4},H4="4.8.0",V4=0,Z4=166,G4=60,z4=750,K4=750,Y4="S",Q4=[],J4=[{ind:1,ty:4,nm:"l",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:164,s:[360]}]},p:{s:!0,x:{a:0,k:375},y:{a:0,k:375}},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},shapes:[{ty:"gr",nm:"E",bm:0,it:[{ty:"el",nm:"E",d:1,p:{a:0,k:[0,0]},s:{a:0,k:[600,600]}},{ty:"st",nm:"S",bm:0,lc:1,lj:1,ml:4,o:{a:0,k:100},w:{a:0,k:125},c:{a:0,k:[.867,.867,.867,1]}},{ty:"tr",o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},nm:"T",sk:{a:0,k:0},sa:{a:0,k:0}}]},{ty:"tm",nm:"T",s:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:80,s:[0]},{t:164,s:[100]}]},e:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[0],y:[0]},t:0,s:[0]},{t:80,s:[100]}]},o:{a:0,k:0},m:1}],ip:0,op:166,st:0}],X4=[],e6={v:H4,ip:V4,op:Z4,fr:G4,w:z4,h:K4,nm:Y4,assets:Q4,layers:J4,markers:X4},t6=t=>{const s=c.createRef(),{animationData:a,className:n,delay:r,isLoop:i,isAutoPlay:l}=t,o=c.useRef(),u=c.useRef();return c.useEffect(()=>{s.current&&(o.current||(o.current=Ad.loadAnimation({container:s.current,renderer:"svg",loop:i,autoplay:l,animationData:a}),r&&!u.current&&(u.current=setTimeout(()=>{o.current&&o.current.play()},r))))},[s,o,u,a,i,l,r]),e.jsx("div",{className:n,children:e.jsx("div",{className:"motion-reduce:hidden",ref:s})})},ve=({white:t})=>e.jsx(t6,{animationData:t?e6:$4,className:"col-span-full",delay:2e3,isLoop:!0,isAutoPlay:!0}),r1=({checked:t,onMarginToggle:s,showLabel:a=!0})=>e.jsxs("label",{className:"inline-flex items-center cursor-pointer text-xs font-bold",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"relative w-9 p-[2px] h-5 bg-neutral-100 peer-focus:outline-none peer-checked:bg-gradient-to-r peer-checked:from-gradientMargin-dark-left peer-checked:to-gradientMargin-dark-right rounded-full peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:content-lightning after:text-center after:absolute after:top-[2px] after:start-[2px] after:bg-dark after:rounded-full after:h-4 after:w-4 after:transition-all"}),a&&e.jsx("span",{className:"ml-[8px]",children:"Margin Trading"})]}),s6=t=>{const{children:s,fullWidth:a}=t;return e.jsx("div",{className:Ke("flex gap-y-6 gap-x-4 ultra:gap-x-6",a&&"w-full justify-stretch"),children:s})},Fl=({children:t,isActive:s,isDisabled:a,onClick:n,locked:r,state:i})=>{const l={BUY:`${r?"border-p-500 text-neutral-light hover:border-s-400 hover:text-s-400":s?"text-s-400 border-s-400 hover:bg-s-400 hover:text-neutral-100":"text-neutral-light border-neutral-200 hover:border-s-400 hover:text-s-400"}`,SELL:`${r?"border-p-500 text-neutral-light hover:border-negative-300 hover:text-negative-300":s?"text-negative-300 border-negative-300 hover:bg-negative-300 hover:text-neutral-100":"text-neutral-light border-neutral-200 hover:border-negative-300 hover:text-negative-300"}`};return e.jsx(Y,{className:k("py-1 px-6 text-xs text-center w-full font-bold bg-dark outline-none border-[1px] rounded-md disabled:cursor-not-allowed disabled:opacity-50",l[i]),type:"button",onPress:n,isDisabled:a,children:t})},hi=({pagination:t,className:s,label:a="pagination navigation"})=>e.jsx(e.Fragment,{});Dd.workerSrc=`//unpkg.com/pdfjs-dist@${Td}/build/pdf.worker.min.mjs`;const i1=({file:t,pageProps:s})=>{const[a,n]=c.useState();return e.jsx(Pd,{file:t,onLoadSuccess:({numPages:r})=>n(r),loading:e.jsx(_i,{size:"md"}),children:Array.from(new Array(a),(r,i)=>e.jsx(kd,{pageNumber:i+1,...s,loading:""},`pdf-${i}`))})},Ns=({className:t,isNotCentered:s=!1})=>{const{isAuthenticatedWithCookie:a,handleLogin:n,handleSignup:r}=ee(),{hasKrangStep:i,krangCtaText:l,krangCtaOnPress:o,isKrangCtaButtonHidden:u}=Le();return e.jsxs("div",{className:Ke("flex items-center gap-4 w-full flex-wrap",s?"justify-end":"justify-center"),children:[!u&&e.jsx(T.Primary,{type:"button",className:t,onPress:()=>i?o():r(),children:i?l:"Sign Up"}),!a&&e.jsx(T.Secondary,{type:"button",className:t,onPress:n,children:"Log In"})]})},l1=({button:t,text:s})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex justify-center overflow-hidden max-w-[650px] mx-auto bg-neutral-white",children:[e.jsx("img",{className:"absolute h-full opacity-50 object-cover w-full",src:"https://www.datocms-assets.com/119559/1725638563-coins.png",alt:"coins"}),e.jsx("div",{className:"h-40 block lg:hidden absolute bg-gradient-to-r from-dark from-10% via-transparent via-50% to-dark to-90% w-full"}),e.jsxs("div",{className:"w-full z-20 px-5 py-10 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"font-bold text-[14px] pb-4 text-white text-center leading-6 text-pretty",children:s}),t]})]})}),qt=({variant:t,statusDisplay:s,orderType:a,className:n,byPercentage:r=!1,percentage:i=0})=>e.jsxs("div",{className:k("flex items-center gap-1.5 [&>:first-child]:shrink-0",n),children:[(()=>{switch(t){case"NEW":case"PENDING_NEW":return e.jsx(Mr,{});case"PARTIALLY_FILLED":return e.jsx(Rl,{});case"FILLED":return e.jsx(_l,{});case"PENDING_RISK":case"PENDING_CANCELLATION":return e.jsx(o4,{});case"CANCELED":case"CANCELLED":case"REJECTED":case"EXPIRED":case"ERROR":return e.jsx(V3,{});case"ACTIVE":case"PENDING":return r?i>0&&i<100?e.jsx(Rl,{}):i===100?e.jsx(_l,{}):e.jsx(Mr,{}):e.jsx(Mr,{});default:return e.jsx(e.Fragment,{})}})(),e.jsx("span",{className:"text-neutral-500 text-xs font-semibold",children:(()=>{switch(a){case"LIMIT":return"Limit";case"MARKET":return"Market";case"STOP_LIMIT":return"Stop Limit";default:return""}})()}),e.jsx("span",{className:"text-neutral-500 text-xs font-semibold",children:(()=>{switch(s){case"NEW":case"PARTIALLY_FILLED":case"ACTIVE":case"PENDING":return"Active";case"FILLED":return"Complete";case"PENDING_RISK":case"PENDING_CANCELLATION":return"Pending Cancel";case"CANCELLED":case"CANCELED":case"REJECTED":case"EXPIRED":case"ERROR":return"Canceled";default:return""}})()})]}),a6={className:"px-3 py-2 text-xs text-center font-bold hover:bg-neutral-100 hover:border-b-neutral-500 selected:bg-neutral-100 border-b-[1px] border-b-transparent selected:border-p-500 bg-neutral-white cursor-pointer outline-none outline-offset-0 transition-colors ease-in-out"},Ms=t=>e.jsx(uo,{...wi(a6,t)}),wn=t=>{const{children:s,fullWidth:a}=t;return e.jsx("div",{className:Ke("flex bg-neutral-100 p-1 gap-x-2.5 rounded-md",a?"w-full justify-stretch ":"justify-start w-fit"),children:s})},$t=({children:t,isActive:s,isDisabled:a,onClick:n,className:r})=>e.jsx(Y,{className:k(`rounded h-6	py-1.5 px-1 grow inline-flex text-nowrap justify-center items-center font-bold border-2 border-transparent outline-none outline-offset-0 transition-all ${s?"bg-neutral-500 text-dark disabled:bg-neutral-500":"text-neutral-black hover:box-border hover:shadow-focus hover:bg-neutral-500 hover:text-neutral-white hover:border-2 disabled:bg-neutral-100 disabled:text-neutral-black"} align-middle focus:z-10 text-xs active:bg-neutral-400 active:text-neutral-white active:shadow-none active:border-transparent disabled:cursor-not-allowed disabled:opacity-50`,r),type:"button",onPress:n,isDisabled:a,children:t}),Z=({children:t,className:s,variant:a="neutral",size:n="sm"})=>{const r=["text-3xs","text-xxs","text-xs","text-sm","text-base","text-lg","text-xl","text-2xl"],i={neutral:"bg-neutral-100 text-neutral-300",positive:"bg-s-600 text-s-400",negative:"bg-negative-500 text-negative-350",coin:"bg-neutral-100 text-neutral-500",notice:"bg-notice-300 text-notice-750",primary:"bg-p-500 text-white"},l=r[r.indexOf(`text-${n}`)],o=i[a];return e.jsx("div",{className:k(o,"w-fit flex justify-center rounded py-[3px] px-1 shrink-0",s),children:e.jsx("div",{className:`${l} font-bold`,children:t})})},Ul="modal-iframe-dropoff",n6="plaid-link-iframe",o1=({children:t,isOpen:s,onOpenChange:a,dismissDisabled:n=!1})=>{const r=c.useRef(null);if(s&&!r.current){const i=document.body,l=u=>{for(const d of u)if(d.type==="childList"){const x=document.getElementById(Ul),m=i.querySelector(`[id*="${n6}"]`);m&&x&&x.prepend(m)}},o=new MutationObserver(l);o.observe(i,{childList:!0}),r.current=o}else!open&&r.current&&(r.current.disconnect(),r.current=null);return e.jsx(Id,{isOpen:s,onOpenChange:a,className:"overflow-hidden fixed inset-0 z-50 mobile:items-center mobile:justify-center flex backdrop-blur-[8px]",isKeyboardDismissDisabled:n,children:e.jsxs(e.Fragment,{children:[e.jsx("div",{id:Ul,className:"absolute"}),t]})})},$e=({ariaLabel:t,children:s,disableClose:a=!1,isCloseDisabled:n,isMobileDevice:r,isOpen:i,noPadding:l=!1,onClose:o,onOpenChange:u,useChildrenWidth:d=!1})=>e.jsx(o1,{isOpen:i,onOpenChange:u,dismissDisabled:a,children:e.jsx(mo,{className:"z-20 flex justify-center absolute w-screen h-dvh outline-none overflow-auto",children:e.jsx(is,{"aria-label":t,className:"outline-none",children:e.jsxs("div",{className:"flex flex-col items-end relative top-5 md:top-20",children:[!a&&o&&e.jsx("div",{className:"absolute z-50 top-[-15px] right-[-15px]",children:e.jsx(T.ModalClose,{isDisabled:n,onPress:o})}),e.jsx("div",{className:k("bg-dark rounded-lg drop-shadow-md border-p-dark border-2 border-solid flex flex-col gap-6",d?"":r?"w-[400px]":"w-[344px]",!l&&"p-4"),children:s})]})})})}),ne=({onBack:t,children:s,button:a})=>e.jsxs("div",{className:k(a&&"flex justify-between gap-1"),children:[e.jsxs("div",{className:"flex items-center text-sm font-bolder gap-1 text-pretty leading-relaxed",children:[t&&e.jsx(T.Back,{onPress:t}),s]}),a]}),c1=({ariaLabel:t,children:s,disableClose:a=!1,isCloseDisabled:n,isMobileDevice:r,isOpen:i,noPadding:l=!1,onClose:o,onOpenChange:u,useChildrenWidth:d=!1})=>e.jsx(o1,{isOpen:i,onOpenChange:u,dismissDisabled:a,children:e.jsx(mo,{className:"z-20 flex justify-center absolute w-screen h-screen outline-none overflow-auto",children:e.jsx(is,{"aria-label":t,className:"outline-none",children:e.jsxs("div",{className:"flex flex-col items-end relative top-5 md:top-20",children:[!a&&o&&e.jsx("div",{className:"absolute z-50 max-sm:top-[15px] max-sm:right-[15px] top-[-15px] right-[-15px]",children:e.jsx(T.ModalClose,{isDisabled:n,onPress:o})}),e.jsx("div",{className:k("bg-dark rounded-lg drop-shadow-md border-p-dark border-2 border-solid flex flex-col gap-6",d?"":r?"w-[400px]":"w-[340px]",!l&&"p-4"),children:s})]})})})}),sl=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:94,viewBox:"0 0 120 94",fill:"none",...t},c.createElement("path",{d:"M60.0061 93.7273L120 59.0878L60.0061 24.4526L0.0165329 59.0878L60.0061 93.7273Z",fill:"#1C2434"}),c.createElement("path",{d:"M60.006 10.3679L119 44.4257L60.006 78.4878L1.01638 44.4257L60.006 10.3679Z",fill:"#080E18",stroke:"#5D57F8"}),c.createElement("path",{d:"M59.6047 87.7235L119.974 53.0678V44.4058L59.6047 79.0658V87.7235Z",fill:"#5D57F8"}),c.createElement("path",{d:"M0.0259816 44.4167L2.14331e-05 53.0961L59.9972 87.7234V79.0657L0.0259816 44.4167Z",fill:"#5D57F8"}),c.createElement("path",{d:"M59.607 62.5533C78.5871 62.5533 93.9734 51.6726 93.9734 38.2507C93.9734 24.8288 78.5871 13.9482 59.607 13.9482C40.627 13.9482 25.2406 24.8288 25.2406 38.2507C25.2406 51.6726 40.627 62.5533 59.607 62.5533Z",fill:"#1C2434"}),c.createElement("path",{d:"M94.7905 25.4641C94.7905 32.1512 90.9583 38.2543 84.6635 42.7057C78.3699 47.1563 69.6492 49.9248 59.9933 49.9248C50.3374 49.9248 41.6167 47.1563 35.3232 42.7057C29.0283 38.2543 25.1962 32.1512 25.1962 25.4641C25.1962 18.777 29.0283 12.6739 35.3232 8.22247C41.6167 3.77191 50.3374 1.00342 59.9933 1.00342C69.6492 1.00342 78.3699 3.77191 84.6635 8.22247C90.9583 12.6739 94.7905 18.777 94.7905 25.4641Z",fill:"#080E18",stroke:"#5D57F8"}),c.createElement("mask",{id:"mask0_8835_30882",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:24,y:25,width:72,height:34},c.createElement("path",{d:"M95.2948 25.4653V33.1149C95.2948 46.8998 79.4894 58.0756 59.9976 58.0756C40.5015 58.0756 24.6961 46.8998 24.6961 33.1149V25.4653C24.6961 39.2502 40.4972 50.426 59.9976 50.426C79.4894 50.426 95.2948 39.2502 95.2948 25.4653Z",fill:"white"})),c.createElement("g",{mask:"url(#mask0_8835_30882)"},c.createElement("path",{d:"M95.2904 25.9369C95.2601 27.1354 95.1086 28.3123 94.8447 29.4675C94.5418 30.7915 94.0962 32.0765 93.5121 33.3226C92.6511 35.1614 91.4958 36.9051 90.0853 38.5276C87.5542 41.4351 84.2054 43.949 80.2638 45.9046C78.0442 47.0079 75.6342 47.9338 73.0771 48.6564C71.3508 49.1453 69.5552 49.539 67.7034 49.8289C66.0938 50.0842 64.4454 50.2573 62.758 50.3481C61.845 50.4 60.9278 50.4217 59.9975 50.4217C59.2707 50.4217 58.5481 50.4044 57.8299 50.3741V58.0237C58.5481 58.054 59.2707 58.0713 59.9975 58.0713C60.9278 58.0713 61.8494 58.0453 62.758 57.9977C64.441 57.9069 66.0938 57.7295 67.7034 57.4785C69.5552 57.1886 71.3464 56.7949 73.0771 56.306C75.6342 55.5834 78.0442 54.6575 80.2638 53.5542C84.2054 51.5985 87.5542 49.0847 90.0853 46.1772C91.4958 44.5547 92.6511 42.811 93.5121 40.9722C94.0962 39.7261 94.5418 38.4411 94.8447 37.1171C95.1086 35.9662 95.2601 34.785 95.2904 33.5865C95.2947 33.4308 95.2947 33.2707 95.2947 33.1149V25.4653C95.2947 25.6211 95.2904 25.7812 95.2904 25.9369Z",fill:"#5D57F8"}),c.createElement("path",{d:"M57.8302 50.3782C56.0952 50.3047 54.3948 50.1402 52.7377 49.8979V57.5475C54.3948 57.7942 56.0952 57.9542 57.8302 58.0278V50.3782Z",fill:"#5D57F8"}),c.createElement("path",{d:"M52.7332 49.8987C50.7429 49.6045 48.8132 49.1935 46.9614 48.6699V56.3195C48.8132 56.8387 50.7429 57.2541 52.7332 57.5483V49.8987Z",fill:"#5D57F8"}),c.createElement("path",{d:"M46.9656 48.6694C33.9206 45.0047 24.6961 35.9965 24.6961 25.4653V33.1149C24.6961 43.6461 33.9163 52.6543 46.9656 56.319V48.6694Z",fill:"#5D57F8"})),c.createElement("path",{d:"M59.9931 4.19482C75.9715 4.19482 88.9256 13.3544 88.9256 24.6514C88.9256 35.9484 75.9715 45.108 59.9931 45.108C44.0103 45.108 31.0605 35.9484 31.0605 24.6514C31.0648 13.3544 44.0146 4.19482 59.9931 4.19482Z",fill:"#080E18",stroke:"#5D57F8"}),c.createElement("path",{d:"M33.2152 28.494C33.2152 17.1927 46.165 8.03741 62.1478 8.03741C73.3193 8.03741 83.0024 12.5155 87.8267 19.0705C84.387 10.4863 73.2327 4.19531 59.9931 4.19531C44.0103 4.19531 31.0605 13.3549 31.0605 24.6519C31.0605 28.0527 32.2417 31.2544 34.3142 34.0754C33.6046 32.3015 33.2152 30.428 33.2152 28.494Z",fill:"#5D57F8"}),c.createElement("path",{d:"M76.2291 15.1318V18.2038L63.7941 26.9956V23.928L76.2291 15.1318Z",fill:"#5D57F8"}),c.createElement("path",{d:"M56.1964 23.928V26.9956L43.7572 18.2038V15.1318L56.1964 23.928Z",fill:"#5D57F8"}),c.createElement("path",{d:"M72.4302 13.0609L75.3626 15.1316L63.5053 23.5192L62.9281 23.9275L63.5054 24.3357L75.363 32.7194L72.4301 34.7937L60.2796 26.2017L59.9908 25.9976L59.7021 26.2018L47.5559 34.7937L44.6232 32.7194L56.4849 24.3358L57.0625 23.9275L56.485 23.5192L44.6235 15.1316L47.5558 13.061L59.7022 21.6488L59.9908 21.8529L60.2795 21.6489L72.4302 13.0609Z",fill:"#080E18",stroke:"#5D57F8"}),c.createElement("path",{d:"M76.2289 32.7217V35.7936L72.4301 38.4805V35.4086L76.2289 32.7217Z",fill:"#5D57F8"}),c.createElement("path",{d:"M72.43 35.406V38.478L59.9908 29.6818V26.6099L72.43 35.406Z",fill:"#5D57F8"}),c.createElement("path",{d:"M59.9912 26.6099V29.6818L47.5562 38.478V35.406L59.9912 26.6099Z",fill:"#5D57F8"}),c.createElement("path",{d:"M47.556 35.4086V38.4805L43.7572 35.7936V32.7217L47.556 35.4086Z",fill:"#5D57F8"})),wr=({isOpen:t,onClose:s,cancelOrderCount:a,onCancelAllOrders:n})=>e.jsxs($e,{isOpen:t,ariaLabel:"Cancel Orders",onClose:s,children:[e.jsx(ne,{children:"Confirm Cancelation"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(sl,{className:"h-[117px]"})}),e.jsxs("p",{className:"text-sm",children:["Are you sure you want to cancel your ",a," open ",a>1?"orders":"order","?"]}),e.jsxs(T.Cancel,{onPress:()=>{s(),n()},children:["Cancel ",a," ",a>1?"Orders":"Order"]})]}),V=t=>{const{currencySymbol:s,defaultText:a,value:n,minimum:r,decimalPlaces:i=2,rounded:l=!1}=t;if(n!==0&&!n)return a??"-";if(r&&Number(n)<r)return`${n} ${s}`;const o=I(n).toFixed(i);return`${oa({round:l?i??2:void 0,padRight:i??2})(Number(o))} ${s}`},r6=t=>{const{value:s,defaultText:a,decimalPlaces:n=2}=t;return s===null?a??"-":n<0?I(s).toFixed(0):I(s).toFixed(n)},vr=({isOpen:t,onClose:s,onCancelOrder:a,orderDetails:n,currentMarket:r})=>{const i=n.length;return!i||!r?null:e.jsxs($e,{isOpen:t,ariaLabel:"Cancel Orders",onClose:s,children:[e.jsx(ne,{children:"Confirm Cancelation"}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(sl,{className:"h-[117px]"})}),e.jsxs("p",{className:"text-xs",children:["Are you sure you want to cancel your ",i>1?`${i} orders?`:"order?"]}),e.jsxs("div",{className:"text-xs",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{children:"Amount:"}),e.jsxs("span",{className:"pl-1 font-bold",children:[e.jsx(r6,{value:n[0].quantity,decimalPlaces:r.quantityPrecision})," ",r.denom]})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{children:"Limit Price:"}),e.jsx("span",{className:"pl-1 font-bold",children:e.jsx(V,{value:n[0].price,decimalPlaces:r.pricePrecision,currencySymbol:r.quoteDenom})})]})]}),e.jsx(T.Cancel,{onPress:()=>{a(n.map(l=>l.orderId),r.denom),s()},children:i>1?`Cancel ${i} Orders`:"Cancel Order"})]})},i6=({state:t,...s})=>{const a=c.useRef(null),{toastProps:n,titleProps:r,closeButtonProps:i}=Od(s,t,a),l=s.toast.content,{title:o,description:u,type:d,message:x,details:m,applicableToken:f}=l,p=l.status==="error",g=l.status==="success",h=l.status==="pending",b=f??(x==null?void 0:x.denom),{isMarginEnabled:j}=at(),y=d==="details"&&j&&g?"bg-gradient-to-b from-gradientMargin-dark-right to-gradientMargin-dark-left":p?"bg-negative-300":g?"bg-s-400":h?"bg-figma-neutral-light":"bg-neutral-500",C=()=>e.jsx("div",{className:k(y,"rounded-lg pl-[10px]"),children:e.jsxs("div",{className:"text-neutral-800 relative min-w-[247px] rounded-r-lg bg-neutral-100 px-3 py-3",children:[e.jsxs("div",{className:"text-xs font-semibold flex justify-between items-center gap-4",...r,children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(ue,{className:"w-4 h-4",coin:b}),e.jsx("span",{className:"truncate",children:o})]}),g&&e.jsx(zc,{className:"-mt-[1px]"})]}),m&&e.jsx("hr",{className:"h-px bg-neutral-300 my-2 border-0"}),e.jsx("div",{className:"flex flex-col gap-2",children:m==null?void 0:m.map(w=>e.jsxs("div",{className:"text-xs font-semibold flex justify-between gap-2",children:[e.jsx("div",{children:e.jsx("div",{children:w.label})}),e.jsx("div",{className:"text-right",children:w.value})]},w.key))}),u&&e.jsx("div",{className:"text-xs",...r,children:u}),e.jsx("div",{className:"absolute -top-4 -right-4",children:e.jsx(T.ToastClose,{...i})})]})});return e.jsx("div",{...n,ref:a,className:k("self-end","flex flex-col gap-2 justify-self-end my-1.5 mr-2","data-[animation=entering]:animate-enter-right","data-[animation=exiting]:animate-exit-right"),"data-animation":s.toast.animation,onAnimationEnd:()=>{s.toast.animation==="exiting"&&t.remove(s.toast.key)},children:e.jsx(C,{})})},l6=t=>{const{state:s,...a}=t,n=c.useRef(null),{regionProps:r}=Md(a,s,n);return _d.createPortal(e.jsx("div",{...r,ref:n,className:"fixed top-10 right-4 flex flex-col gap-2 z-toast",children:s.visibleToasts.filter(i=>{var l,o;return((o=(l=i.content)==null?void 0:l.message)==null?void 0:o.state)!=="UNKNOWN_ORDER_STATE"}).map(i=>e.jsx(i6,{toast:i,state:s},i.key))}),document.body)},d1=c.createContext({notifierHistoryRef:{current:[]},toastState:null}),o6=t=>{const s=Rd({maxVisibleToasts:5,hasExitAnimation:!0}),a=c.useRef([]);return e.jsxs(d1.Provider,{value:{toastState:s,notifierHistoryRef:a},children:[t.children,s.visibleToasts.length>0&&e.jsx(l6,{...t,state:s})]})},u1=()=>{const t=c.useContext(d1);if(!t)throw new Error("useToastContext must be used within a ToastProvider");return t},c6=()=>{const t=u1();if(!t.toastState)throw new Error("useToastStateFromContext must be used within a ToastProvider");return t.toastState},d6=()=>{const t=c6();return{showInfo:({preventAutomaticDismiss:i,...l})=>{t.add({...l,status:"info"},{timeout:i?void 0:In,priority:t.visibleToasts.length})},showError:({preventAutomaticDismiss:i,...l})=>{t.add({...l,status:"error"},{timeout:i?void 0:In,priority:t.visibleToasts.length})},showSuccess:({preventAutomaticDismiss:i,...l})=>{t.add({...l,status:"success"},{timeout:i?void 0:In,priority:t.visibleToasts.length})},showPending:({preventAutomaticDismiss:i,...l})=>{t.add({...l,status:"pending"},{timeout:i?void 0:In,priority:t.visibleToasts.length})}}},Ks=t=>{var s;return I(t).toNumber().toLocaleString("en",{maximumFractionDigits:((s=t.toString().split(".")[1])==null?void 0:s.length)||0})},Be=()=>{const{showSuccess:t,showError:s,showInfo:a,showPending:n}=d6(),{notifierHistoryRef:r}=u1(),i=c.useRef(),l=()=>{t({title:"Wallet address has been copied"})},o=(D,M,B)=>{t({title:"Commitment Requested",type:"details",applicableToken:B,details:[{key:"amount",label:"Amount",value:`${M} ${B}`}]})},u=(D,M,B)=>{t({title:"Transfer Request Received",type:"details",details:[{key:"amount",label:"Amount",value:`${D} USD`},{key:"from",label:"From",value:M},{key:"to",label:"To",value:B}]})},d=D=>{t({title:"Successfully Transferred USD",type:"details",details:[{key:"amount",label:"Amount",value:`${D} USD`},{key:"from",label:"From",value:"Figure Pay Balance"},{key:"to",label:"To",value:"Trading Balance"}]})},x=()=>{s({title:"Wallet Must Be Connected",description:"In order to transfer funds, you must connect your wallet."})},m=(D,M,B)=>{t({title:"Uncommitment Requested",type:"details",applicableToken:D,details:[{key:"amount",label:"Amount",value:`${M} ${B}`}]})},f=({title:D,description:M})=>{s({title:D,description:M})},p=({title:D,description:M})=>{t({title:D,description:M})},g=({title:D,description:M})=>{a({title:D,description:M})},h=(D,M,B,_)=>{t({title:"Withdrawal Request Received",type:"details",details:[{key:"amount",label:"Amount",value:`${M} ${B}`},{key:"from",label:"From",value:"Figure Markets"},{key:"to",label:"To",value:_}],applicableToken:D})},b=(D,M,B,_)=>{t({title:"Deposit Request Received",type:"details",details:[{key:"amount",label:"Amount",value:`${M} ${B}`},{key:"from",label:"From",value:_},{key:"to",label:"To",value:"Figure Markets"}],applicableToken:D})},j=D=>{const{direction:M,quantity:B,price:_,orderType:F,state:U,filledQuantity:z,totalFilledValue:se,denom:Ee,priceDenom:Ue}=D;let He=[{key:"order-type",label:e.jsxs("div",{className:"flex items-center gap-1",children:[q5(F)," Order"," ",e.jsx(Z,{size:"xxs",variant:M==="BID"?"positive":"negative",children:M==="BID"?"Buy":"Sell"})]}),value:U[0]+U.replaceAll("_"," ").slice(1).toLowerCase()}];if(["PARTIALLY_FILLED","FILLED"].includes(D.state)){let Qe=_;se&&z&&(Qe=I(se).div(z).toFixed(2).toString()),He=He.concat([{key:"Size",label:`${D.state==="PARTIALLY_FILLED"?"Filled Size":"Size"}`,value:`${Ks(z??B)} ${Ee}`},{key:"LimitPrice",label:"Price",value:`${Ks(_)} ${Ue}`},{key:"Price",label:`${Qe.toString()!==_?"Avg ":""}${M==="ASK"?"Sold":"Paid"} Price`,value:`${Ks(Qe)} ${Ue}`}])}else He=He.concat([{key:"Size",label:"Size",value:`${Ks(B)} ${Ee}`},{key:"Price",label:"Price",value:`${Ks(_)} ${Ue}`}]);return He},y=(D,M,B)=>{var _,F,U;if(i.current!==D){const z=r.current.find(Ue=>Ue.orderId===D.orderId&&Ue.id===M),se=new Date().toISOString();if(!z||z.id==="Order Partially Filled"&&new Date(se).getTime()-z.createdAt.getTime()>3e4){switch(B){case"SUCCESS":t({title:M,type:"details",details:j(D),applicableToken:(_=D.denom)==null?void 0:_.toUpperCase()});break;case"ERROR":s({title:M,type:"details",details:j(D),applicableToken:(F=D.denom)==null?void 0:F.toUpperCase()});break;case"INFO":a({title:M,type:"details",details:j(D),applicableToken:(U=D.denom)==null?void 0:U.toUpperCase()});break}z?z.createdAt=new Date:r.current.push({id:M,orderId:D.orderId,createdAt:new Date})}}i.current=D};return{notifyWalletAddressCopied:l,notifyCommitmentRequested:o,notifyTransferRequestReceived:u,notifyUsdTransferredToTradingBalance:d,notifyWalletMustBeConnected:x,notifyUncommitmentRequested:m,notifyGenericError:f,notifyWithdrawRequestReceived:h,notifyDepositRequestReceived:b,notifyGenericSuccess:p,notifyGenericInfo:g,notifyOrderPlaced:D=>y(D,"Order Successfully Placed","SUCCESS"),notifyOrderCancelled:D=>y(D,"Order Canceled","INFO"),notifyOrdersCancelled:({orderLength:D,token:M})=>{a({title:`${D} Orders Canceled`,type:"details",applicableToken:M==null?void 0:M.toUpperCase()})},notifyOrderPartiallyFilled:D=>y(D,"Order Partially Filled","SUCCESS"),notifyOrderFilled:D=>y(D,"Order Successfully Filled","SUCCESS"),notifyOrderFailed:D=>y(D,"Order Failed","ERROR"),notifyMarginEnabled:()=>{t({title:"Margin Trading Enabled",type:"details"})},notifyMarginDisabled:()=>{t({title:"Margin Trading Disabled",type:"details"})},notifyUSDEnabled:()=>{t({title:"USD Deposits Enabled!",message:{symbol:"USD"}})},notifyUSDCommitmentRequested:()=>{t({title:"Commitment Requested",message:{symbol:"USD"}})},notifyPendingExitRequest:D=>{n({title:"Exit Request Submitted",applicableToken:D.asset,details:[{key:"status",label:"Status",value:"Pending Cancel"},{key:"loanPool",label:"Loan Pool",value:D.asset},{key:"amount",label:"Amount",value:`${Ks(String(D.amt))} ${D.asset}`}]})},notifyOfferReceived:D=>{t({title:"Offer Received",applicableToken:D.asset,details:[{key:"loanPool",label:"Loan Pool",value:D.asset},{key:"amount",label:"Amount",value:`${Ks(String(D.amt))} ${D.asset}`},{key:"apr",label:"APR",value:Oe(D.rate)}]})}}},u6=t=>{const{defaultQuantity:s,onContinue:a,onBack:n,assetDenom:r,assetPrecision:i,availableQuantity:l}=t,o=I(10).pow(-t.assetPrecision),u=Xe({defaultValues:{quantity:{value:I(s??0).toNumber(),display:String(s)??""}},resolver:et(tt({quantity:qe().required("A quantity is required").test("minimum-quantity","Amount must be greater than the minimum commit amount",(x,m)=>Number(x.value)>=Number(o)?!0:m.createError({path:m.path,message:`Amount is less than the minimum commit amount of ${o}`})).test("maximum-quantity","Amount must be less than or equal to the available amount",(x,m)=>Number(x.value)<=Number(l)?!0:m.createError({path:m.path,message:`Amount is greater than the available amount of ${l}`}))}))}),d=x=>{a(x.quantity.value)};return e.jsxs(e.Fragment,{children:[" ",e.jsx(ne,{onBack:n,children:e.jsx("div",{className:"flex justify-start gap-1 items-center",children:e.jsxs("p",{children:["Commit ",r]})})}),e.jsx(st,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(d),children:[e.jsx(Pe.Number,{name:"quantity",displayName:r,label:`How much ${r} would you like to commit?`,precision:i,increment:String(o)}),e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-xxs font-bold tabular-nums",children:["Available to Commit: ",l," ",r]})}),e.jsx(T.Primary,{className:"w-full",type:"submit",children:"Continue"})]})})]})},m6=t=>{const{amount:s,onContinue:a,onBack:n,assetDenom:r,assetLastTradedPrice:i,assetPrecision:l}=t,o=()=>{a()},u=c.useMemo(()=>I(i).mul(s),[s,i]);return e.jsxs(e.Fragment,{children:[" ",e.jsx(ne,{onBack:n,children:e.jsx("div",{className:"flex justify-start gap-1 items-center",children:e.jsx("p",{children:"Review and Confirm"})})}),e.jsxs("div",{className:"bg-neutral-100 p-4 rounded-[4px]",children:[e.jsxs("p",{className:"text-neutral-500 text-base font-bold mb-1",children:[St(s,l,{minDigits:!0})," ",r]}),e.jsxs("div",{className:"flex items-center mb-4 gap-1",children:[e.jsxs("p",{className:"text-neutral-500 text-xxs font-bold",children:["≈",xe(u.toNumber(),!0)]}),e.jsx(Me,{heading:"USD Value",description:`Based on last traded price of ${i} per ${r}`})]}),e.jsx(G,{children:"This amount will be committed to the exchange for fast trading"})]}),e.jsx(T.Primary,{className:"w-full",onPress:o,children:"Confirm"})]})},x6=t=>{const{onBack:s,isHostedWallet:a,onResendRequest:n}=t;return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:s,children:e.jsx("div",{className:"flex justify-start gap-1 items-center",children:e.jsx("p",{children:"Commitment Approval Required"})})}),e.jsx("div",{className:"my-6",children:e.jsx(Gt,{className:"mx-auto"})}),e.jsx(G,{variant:"info",symbol:"wallet",children:"Approve the transaction in the Figure Wallet app to complete your commitment"}),!a&&e.jsx(T.Nav,{onPress:n,className:"w-full font-medium text-xxs text-p-light underline disabled:opacity-50",children:"Didn't Receive an Approval Request?"})]})},ga="select-amount",Bl="review",Wl="signing",h6=t=>{const{assetDenom:s,assetPrecision:a,isOpen:n,onClose:r,onCommitted:i,assetLastTradedPrice:l,availableQuantity:o}=t,[u,d]=c.useState(0),[x,m]=c.useState(ga),{mutateAsync:f}=Cr(),{walletBridgeService:p}=Nt(),g=Be(),h=bt(),b=N=>{d(N),m(Bl)},j=async()=>{m(Wl),await y()},y=async()=>{try{const N=await f({requestBody:{assets:[{denom:s,amount:Number(u)}]}});if(!(await p.broadcast(N.messages.base64,{description:`Commit ${u} ${s} to exchange`,feeGranter:N.feeGranter,customId:h})).success){g.notifyGenericError({title:"Commitment Error",description:"There was an error committing your asset. Please try again."}),m(ga);return}g.notifyCommitmentRequested(s,u.toString(),s),i()}catch{g.notifyGenericError({title:"Commitment Error",description:"There was an error committing your asset. Please try again."}),m(ga)}},C=async()=>{await y()},w=()=>{d(0),m(ga),r()};return e.jsxs($e,{isOpen:n,ariaLabel:`Commit ${s}`,onClose:w,children:[x===ga&&e.jsx(u6,{assetDenom:s,assetPrecision:a,defaultQuantity:u,onContinue:b,availableQuantity:o,onBack:w}),x===Bl&&e.jsx(m6,{amount:u,assetDenom:s,assetLastTradedPrice:l,assetPrecision:a,onContinue:j,onBack:()=>m(ga)}),x===Wl&&e.jsx(x6,{isHostedWallet:!1,onBack:w,onResendRequest:C})]})},m1=t=>c.createElement("svg",{width:222,height:121,viewBox:"0 0 222 121",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("rect",{x:.736176,y:29.7064,width:220.528,height:66.0762,stroke:"#78839F",strokeWidth:.602724}),c.createElement("rect",{x:33.6116,y:42.4627,width:154.784,height:40.6835,stroke:"#78839F",strokeWidth:.602724}),c.createElement("rect",{x:57.5062,y:52.2477,width:106.988,height:20.9985,stroke:"#78839F",strokeWidth:.602724}),c.createElement("rect",{x:80.8105,y:61.199,width:60.3801,height:3.09343,fill:"#1C2434"}),c.createElement("path",{d:"M1.98627 30.0654L81.3305 61.5891",stroke:"#78839F",strokeWidth:.602724}),c.createElement("path",{d:"M1.93652 95.6019L81.7599 63.3562",stroke:"#78839F",strokeWidth:.602724}),c.createElement("path",{d:"M220.966 30.0654L140.228 62.0135",stroke:"#78839F",strokeWidth:.602724}),c.createElement("path",{d:"M221.015 95.6044L139.853 63.2112",stroke:"#78839F",strokeWidth:.602724}),c.createElement("path",{d:"M68.0852 95.6225L100.029 62.9896L68.0852 30.1399",stroke:"#78839F",strokeWidth:.602724}),c.createElement("path",{d:"M154.979 95.662L122.611 62.6424L154.555 29.7927",stroke:"#78839F",strokeWidth:.602724}),c.createElement("path",{d:"M0.96582 51.1743L84.5627 62.8807L0.96582 74.462",stroke:"#78839F",strokeWidth:.602724}),c.createElement("path",{d:"M221.142 51.251L138.585 62.8804L221.142 74.2861",stroke:"#78839F",strokeWidth:.602724}),c.createElement("path",{d:"M106.434 53.6481L66.4181 87.4782L30.0876 66.0828L70.1036 32.2527L106.434 53.6481Z",fill:"#1C2434"}),c.createElement("path",{d:"M69.7727 27.9987L105.553 49.0702L66.0246 82.488L30.2444 61.4166L69.7727 27.9987Z",fill:"#1C2434",stroke:"#5D57F8",strokeWidth:.602724,strokeMiterlimit:10}),c.createElement("path",{d:"M106.073 49.0271L106.195 50.4004L66.1767 84.2303L66.0549 82.859L106.073 49.0271Z",fill:"#5D57F8"}),c.createElement("path",{d:"M66.0556 82.8549L66.1774 84.2262L29.8436 62.8302L29.7238 61.4587L66.0556 82.8549Z",fill:"#5D57F8"}),c.createElement("path",{d:"M72.3233 36.5378L70.9794 37.6752C71.7433 38.2111 72.3654 38.8641 72.6553 39.457L71.087 40.7827C70.8207 39.9664 70.0895 39.1984 69.1311 38.6327C69.1085 38.6188 69.0838 38.605 69.0612 38.5911C68.0939 38.0379 67.3795 37.955 66.8961 38.3657C65.5412 39.5118 70.9824 41.6695 68.2008 44.0223C66.6436 45.3393 64.7956 45.13 63.1252 44.3145L61.8052 45.4304L60.4233 44.6176L61.7543 43.491C60.9075 42.8734 60.2543 42.1503 59.9039 41.4366L61.5071 40.0807C61.9123 41.1665 62.8326 42.0451 63.8424 42.6401C64.8767 43.2489 65.6235 43.4175 66.1788 42.9502C67.6534 41.7044 62.1623 39.5859 64.9329 37.2437C66.255 36.1277 68.024 36.1549 69.6085 36.8517L70.9414 35.725L72.3233 36.5378Z",fill:"#5D57F8"}),c.createElement("path",{d:"M81.9559 63.8018L81.4393 64.2386L52.8509 47.4034L53.3694 46.9665L81.9559 63.8018Z",fill:"#5D57F8"}),c.createElement("path",{d:"M87.6146 59.3836L87.0979 59.8205L68.7793 48.9054L69.2979 48.4684L87.6146 59.3836Z",fill:"#5D57F8"}),c.createElement("path",{d:"M94.1306 54.0143L93.6139 54.4511L75.2953 43.5361L75.8139 43.099L94.1306 54.0143Z",fill:"#5D57F8"}),c.createElement("path",{d:"M77.016 67.9741L76.4976 68.4131L47.9111 51.5778L48.4297 51.1408L77.016 67.9741Z",fill:"#5D57F8"}),c.createElement("path",{d:"M72.6511 71.6626L72.1327 72.1016L43.5463 55.2662L44.0647 54.8273L72.6511 71.6626Z",fill:"#5D57F8"}),c.createElement("path",{d:"M67.8881 75.6929L67.3697 76.1318L38.7832 59.2965L39.2998 58.8597L67.8881 75.6929Z",fill:"#5D57F8"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.894 49.0277C146.502 50.1934 141.449 57.1384 142.615 64.5302C143.78 71.9221 150.722 76.9554 158.114 75.7897C165.506 74.6241 170.562 67.6967 169.396 60.3068C168.231 52.917 161.286 47.862 153.894 49.0277Z",fill:"#1C2434"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152.559 49.0277C145.167 50.1934 140.114 57.1384 141.28 64.5302C142.445 71.9221 149.387 76.9554 156.779 75.7897C164.171 74.6241 169.227 67.6967 168.061 60.3068C166.896 52.917 159.951 47.862 152.559 49.0277Z",fill:"#5D57F8"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M150.99 49.275C143.598 50.4407 138.545 57.3857 139.711 64.7776C140.877 72.1694 147.818 77.2027 155.21 76.0371C162.602 74.8714 167.638 67.9471 166.473 60.5572C165.308 53.1674 158.38 48.1096 150.99 49.275Z",fill:"#1C2434",stroke:"#5D57F8",strokeWidth:.602724,strokeMiterlimit:10}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M151.175 50.4504C144.426 51.5146 139.824 57.8397 140.889 64.588C141.95 71.3188 148.275 75.9206 155.023 74.8564C155.167 74.8339 155.31 74.8113 155.451 74.789C148.88 75.588 142.802 71.0376 141.764 64.4501C140.722 57.8449 145.109 51.6623 151.605 50.4007C151.459 50.4056 151.316 50.4282 151.175 50.4504Z",fill:"#5D57F8"}),c.createElement("path",{d:"M155.645 70.4282L155.329 68.4289C157.408 67.918 158.922 66.7282 158.55 64.3697C157.885 60.1551 151.703 62.2643 151.379 60.2119C151.264 59.4801 151.851 59.0215 153.133 58.8011C154.451 58.5752 155.848 58.721 156.961 59.2774L156.586 56.9033C155.731 56.5797 154.592 56.4496 153.454 56.5366L153.133 54.4999L151.277 54.7927L151.595 56.8097C149.723 57.3602 148.481 58.654 148.797 60.6554C149.459 64.8523 155.594 62.6761 155.947 64.909C156.079 65.7488 155.374 66.1515 153.981 66.3711C152.624 66.5853 151.033 66.4701 149.534 65.7915L149.917 68.2206C150.948 68.6071 152.201 68.7754 153.47 68.7039L153.788 70.7209L155.645 70.4282Z",fill:"#1C2434"}),c.createElement("path",{d:"M155.162 70.5039L154.847 68.5045C156.908 67.9965 158.422 66.8066 158.05 64.4482C157.385 60.2336 151.22 62.34 150.896 60.2876C150.781 59.5557 151.368 59.0972 152.651 58.8768C153.968 58.6509 155.365 58.7967 156.478 59.3531L156.104 56.979C155.248 56.6554 154.092 56.528 152.971 56.6123L152.65 54.5756L150.794 54.8683L151.112 56.8854C149.24 57.4359 147.981 58.7325 148.296 60.7338C148.958 64.9308 155.112 62.7518 155.464 64.9847C155.596 65.8244 154.892 66.2271 153.498 66.4468C152.141 66.6609 150.532 66.5486 149.051 65.8672L149.435 68.2963C150.465 68.6828 151.718 68.8511 152.988 68.7796L153.306 70.7966L155.162 70.5039Z",fill:"#5D57F8"}),c.createElement("path",{d:"M111.018 60.7668L109.1 67.2319L104.46 62.3381L111.018 60.7668Z",fill:"#1C2434"}),c.createElement("path",{d:"M110.445 60.5974L108.526 67.0624L103.887 62.1687L110.445 60.5974Z",fill:"#5D57F8"}),c.createElement("circle",{cx:131.542,cy:52.0537,r:3.32706,transform:"rotate(-172.655 131.542 52.0537)",fill:"#1C2434"}),c.createElement("circle",{cx:131.92,cy:51.8428,r:3.32706,transform:"rotate(-172.655 131.92 51.8428)",fill:"#5D57F8"})),f6=()=>{const[t,s]=c.useState(!1),[a,n]=c.useState(),r=ae(Ji),{mutateAsync:i}=Cr(),l=X(),o=async()=>{try{s(!0);const u=r.uncommittedUSDAmount,d=await i({requestBody:{assets:[{denom:"usd.trading",amount:u}]}});l(ua.setCommitmentPayload(d)),l(ua.goToCommitmentApproval())}catch(u){n(ct(u)),s(!1)}};return t?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>{l(Ce.closeModal())},children:"Commit USD"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(m1,{})}),e.jsx("p",{className:"text-xs",children:"You have an available USD balance that requires a transaction approval before it can be used on Figure Markets."}),a&&e.jsx(G,{variant:"error",children:a}),e.jsx(T.Primary,{isDisabled:t,onPress:o,children:"Continue"})]})};function p6({applicationId:t,clientToken:s,config:a}){xs.init({site:"datadoghq.com",sessionReplaySampleRate:0,trackUserInteractions:!0,trackResources:!0,trackLongTasks:!0,defaultPrivacyLevel:"mask-user-input",applicationId:t,clientToken:s,env:"prod",sessionSampleRate:(a==null?void 0:a.sessionSampleRate)!==void 0?a.sessionSampleRate:100,...a})}const g6={accessToken:"a4dcb37f45bf4eaebfcfd560934d428a",autoInstrument:{connectivity:!0,dom:!0,log:!0,navigation:!0,network:!0},captureUncaught:!0,captureUnhandledRejections:!0,enabled:window.location.hostname.indexOf("localhost")===-1,payload:{client:{javascript:{code_version:"f581445738",source_map_enabled:!0}},environment:"production"},transform(t){const s=xs.getSessionReplayLink();s&&(t.datadog_session_replay_link=s)}},ys=Fd.init(g6),j6=()=>{const t=c.useRef(!0),s=ae(Ji),a=s.uncommittedUSDAmount,[n,r]=c.useState(void 0),{walletBridgeService:i}=Nt(),{mutateAsync:l,isLoading:o}=Cr(),u=Be(),d=X(),x="There was an error committing your USD. Please try again.",m=c.useCallback(async()=>{try{const g=s.commitmentPayload;if(!g)return;const h=bt();r(h);const b=await i.broadcast(g.messages.base64,{customId:h,description:`Commit ${a} usd.trading to exchange`,feeGranter:g.feeGranter});if(b.success)u.notifyUSDCommitmentRequested(),d(Ce.closeModal());else throw b.code===jr&&r(void 0),new Error(x)}catch(g){ys.error(g),u.notifyGenericError({title:x})}},[d,u,s.commitmentPayload,a,i]);c.useEffect(()=>{t.current&&(t.current=!1,m())},[m,t]);const f=()=>{d(ua.reset())},p=async()=>{try{const g=await l({requestBody:{assets:[{denom:"usd.trading",amount:a}]}});d(ua.setCommitmentPayload(g)),n&&await i.reject(n),m()}catch(g){ys.error(g),u.notifyGenericError({title:x})}};return o?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:f,children:"Commitment Approval Required"}),e.jsx("div",{className:"my-6",children:e.jsx(Gt,{className:"mx-auto"})}),e.jsx(G,{variant:"info",symbol:"wallet",children:e.jsx("span",{children:"Approve the transaction in the Figure Markets app to complete your commitment"})}),e.jsx(T.Nav,{onPress:p,className:"w-full font-medium text-xxs text-p-light underline tracking-wide disabled:opacity-50",children:"Didn't Receive an Approval Request?"})]})},b6=()=>{const t=ns(Ji),s=X();if(!(t!=null&&t.step))return null;const{step:a}=t;return e.jsx($e,{ariaLabel:"Commit USD Flow",isOpen:!0,onClose:()=>s(Ce.closeModal()),children:e.jsx(y6,{step:a})})},y6=({step:t})=>{switch(t){case"commit-usd":return e.jsx(f6,{});case"commitment-approval":return e.jsx(j6,{});default:return e.jsx("div",{children:"Unknown step"})}},C6=["stablecoin-services-mops","getAccount"];function N6(t={}){const s=H("get");return fe({queryKey:C6,queryFn:()=>s({url:"/service-markets-fiat/api/v1/account"}),...t.queryOptions,cacheTime:0})}function w6(t){const s=H("get");return pe({mutationFn:()=>s({url:"/service-markets-fiat/api/v1/account"}),...t})}function v6(t){const s=H("post");return pe({mutationFn:()=>s({url:"/service-markets-fiat/api/v1/account"}),...t})}function L6(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-markets-fiat/api/v1/account/ach/plaid/link",options:ie(a)}),...t})}function E6(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-markets-fiat/api/v1/account/ach/plaid",options:ie(a)}),...t})}function S6(t){const s=H("put");return pe({mutationFn:a=>s({url:"/service-markets-fiat/api/v1/consents",options:ie(a)}),...t})}const A6=["stablecoin-services-mops","getPlaidACHAccounts"];function Lr(t={}){const s=H("get");return fe({queryKey:A6,queryFn:()=>s({url:"/service-markets-fiat/api/v1/account/ach/plaid",options:ie(t)}),...t.queryOptions,cacheTime:0})}function D6(t){const s=H("get");return pe({mutationFn:()=>s({url:"/service-markets-fiat/api/v1/consent/definitions"}),...t})}function T6(t){const s=H("post");return pe({mutationFn:a=>s({url:"/service-markets-fiat/api/v1/account/wire",options:ie(a)}),...t})}const P6=["stablecoin-services-mops","getWireAccounts"];function x1(t={}){const s=H("get");return fe({queryKey:P6,queryFn:()=>s({url:"/service-markets-fiat/api/v1/account/wire"}),...t.queryOptions,cacheTime:0})}const k6=["stablecoin-services-mops","getPlaidACHAccountBalanceById"];function I6(t){const s=H("get");return fe({queryKey:[...k6,t.path.plaidAccountId],queryFn:()=>s({url:`/service-markets-fiat/api/v1/account/ach/plaid/${t.path.plaidAccountId}/balance`}),...t.queryOptions,cacheTime:0})}function O6(t){const s=H("post");return pe({mutationFn:a=>s({url:`/service-markets-fiat/api/v1/account/ach/plaid/${a.path.plaidAccountId}/link`,options:ie(a)}),...t})}const M6=["stablecoin-services-mops","getACHAccountLimits"];function h1(t={}){const s=H("get");return fe({queryKey:M6,queryFn:()=>s({url:"/service-markets-fiat/api/v1/account/ach/limits"}),...t.queryOptions,cacheTime:0})}const _6=()=>{const[t,s]=c.useState(!1),[a,n]=c.useState(!1),[r,i]=c.useState(),{mutateAsync:l}=w6(),{mutateAsync:o}=v6(),{mutateAsync:u}=D6(),{mutateAsync:d}=S6(),{getFsmCurrentStep:x,fsmStepResponse:m}=Le(),f=c.useRef(m),p=Be(),g=X();c.useEffect(()=>{f.current=m},[m]);const h=async()=>{try{n(!0),await l().catch(async y=>{y.status===404&&await o()});const j=(await u()).map(({code:y})=>y).filter(y=>y!==void 0);await d({requestBody:{consentCodes:j,hasConsented:!0}}),await new Promise((y,C)=>{const w=setInterval(()=>{var v,A;x(),((A=(v=f.current)==null?void 0:v.currentStep)==null?void 0:A.currentStep)!=="FIAT_ACCOUNT_CREATED"&&(clearInterval(w),clearTimeout(N),p.notifyUSDEnabled(),g(Ce.closeModal()),y())},1e3),N=setTimeout(()=>{clearInterval(w),p.notifyGenericError({title:"There was an error enabling USD deposits."}),g(Ce.closeModal()),g(Ra.setShouldPollKrang(!0)),C(new Error)},6e4)})}catch(b){i(ct(b)),n(!1)}};return a?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{children:"Agree to USD Terms"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(m1,{})}),e.jsx("p",{className:"text-xs",children:"Deposit or withdraw with ease. Your funds are kept securely at our partner banks."}),e.jsx(Os,{className:"text-xs",isSelected:t,onChange:s,children:e.jsxs("p",{children:["I have read and agree to the"," ",e.jsx("a",{className:"text-p-500",href:`${ke}/disclosures/figure-pay-account-agreement`,target:"_blank",rel:"noreferrer",children:"Figure Payments Account Agreement"})]})}),r&&e.jsx(G,{variant:"error",children:r}),e.jsx(T.Primary,{isDisabled:!t,onPress:h,children:"Agree and Enable USD"})]})},R6=()=>{const t=ns($c),s=X();if(!(t!=null&&t.step))return null;const{step:a}=t;return e.jsx($e,{ariaLabel:"Enable USD Flow",isOpen:!0,onClose:()=>s(Ce.closeModal()),children:e.jsx(F6,{step:a})})},F6=({step:t})=>{switch(t){case"usd-terms":return e.jsx(_6,{});default:return e.jsx("div",{children:"Unknown step"})}},f1=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:143,height:95,viewBox:"0 0 143 95",fill:"none",...t},c.createElement("path",{d:"M75.3701 86.9258L53.8711 92.5722L63.2035 94.8882L142.871 73.4754L96.6605 60.8882L59.1887 70.9635L75.3701 75.9984V86.9258Z",fill:"#1C2434"}),c.createElement("path",{d:"M1.13281 60.6345V80.9034L53.9636 92.6969L80.1279 87.0381V75.9571L60.0989 70.8515L106.481 60.6345L106.46 28.8255L80.1279 22.5952L53.7974 29.1328L53.8068 37.9159L27.4651 44.5529V54.7154L1.13281 60.6345Z",fill:"#080E18",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M1.13281 60.6357L27.4641 66.3072V75.8378L53.8048 81.8298V92.6554L1.13281 80.9039V60.6357Z",fill:"#5D57F8",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M106.458 28.8267L80.1263 34.8524V44.1974L53.7969 50.4986V69.2167L60.0981 70.8511L106.478 60.6345L106.458 28.8267Z",fill:"#5D57F8",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M53.7969 29.1348L80.1267 34.8532",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M53.8047 37.917L80.1251 44.1977",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M27.4648 44.5537L53.7965 50.4989",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M27.4648 54.7168L53.7965 60.8944",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M27.4648 66.3062L53.6535 60.8882",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M27.4648 75.8369L54.1039 69.1401",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M53.8047 81.8296L80.1251 75.9575",stroke:"#5D57F8",strokeWidth:.7,strokeMiterlimit:10}),c.createElement("path",{d:"M75.7302 8.03895L69.6679 8.03082L70.9417 7.34377L77.004 7.35191L75.7302 8.03895Z",fill:"#1C2434",stroke:"#5D57F8",strokeWidth:.7}),c.createElement("path",{d:"M79.2218 1.49756L82.7611 9.61281L90.3202 12.2673L84.9758 17.273L86.2449 25.8029L79.4038 20.782L72.6285 23.4012L73.7408 15.291L68.2852 8.37909L75.8189 8.3892L79.2218 1.49756Z",fill:"#5D57F8"}),c.createElement("path",{d:"M85.0088 8.36568L85.0698 8.50557L85.2138 8.55606L92.0253 10.9435L90.289 11.8834L83.0213 9.33124L79.6722 1.6522L81.6221 0.600481L85.0088 8.36568Z",fill:"#1C2434",stroke:"#5D57F8",strokeWidth:.7}),c.createElement("path",{d:"M87.3051 15.6252L87.1712 15.7506L87.1982 15.9321L88.4308 24.2216L86.5181 25.2533L85.3498 17.4007L90.5257 12.5528L90.6672 12.4763L87.3051 15.6252Z",fill:"#1C2434",stroke:"#5D57F8",strokeWidth:.7}),c.createElement("ellipse",{cx:8.55803,cy:2.64031,rx:8.55803,ry:2.64031,transform:"matrix(0.989651 0.143493 -0.707107 0.707107 73.3789 25.8018)",fill:"#1C2434"})),U6=()=>{const{isConsentAgreementsModalOpen:t,setIsConsentAgreementsModalOpen:s,getFsmCurrentStep:a,fsmStepResponse:n}=Le(),r=c.useRef(n),{marketLocation:i}=me(),{mutateAsync:l}=Qi(),[o,u]=c.useState(!1),[d,x]=c.useState(),m=X(),f=Be(),{originalLicensingJurisdiction:p}=ae(pt),g=p==="IRELAND";c.useEffect(()=>{r.current=n},[n]);const h=async()=>{try{u(!0),await l({requestBody:{type:"TRADING_CONSENT"}}),await new Promise((b,j)=>{const y=setInterval(()=>{var w,N,v,A;a(),((N=(w=r.current)==null?void 0:w.currentStep)==null?void 0:N.currentStep)!=="EXCHANGE_CONSENT"&&(clearInterval(y),clearTimeout(C),((A=(v=r.current)==null?void 0:v.currentStep)==null?void 0:A.currentStep)==="FIAT_ACCOUNT_CREATED"&&m(Ra.open()),s(!1),b())},1e3),C=setTimeout(()=>{clearInterval(y),f.notifyGenericError({title:"There was an error processing your agreement."}),s(!1),j(new Error)},3e4)})}catch(b){x(ct(b)),u(!1)}};return e.jsx($e,{isOpen:t,onClose:()=>s(!1),children:o?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{children:"Agree to Terms and Conditions"}),e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(f1,{})}),g?e.jsxs("p",{className:"text-xs",children:["I've reviewed and agree to the Figure Markets Ireland"," ",e.jsx("a",{className:"underline",href:`${ke}/disclosures/eu-terms-of-use/`,target:"blank",children:"Terms of Use"})," ","and"," ",e.jsxs("a",{className:"underline",href:"https://www.datocms-assets.com/119559/1734371663-fmil-customer-agreement-december-2024.pdf",target:"blank",children:[" ","User Agreement"]})]}):e.jsxs("p",{className:"text-xs",children:["Review and agree to the"," ",e.jsx("a",{className:"underline",href:`${ke}/disclosures/terms-of-service/`,target:"blank",children:"Terms and Conditions"})," ","of the Figure Markets Cryptocurrency Exchange",i!=="US"&&e.jsxs(e.Fragment,{children:[" ","and the additional"," ",e.jsx("a",{className:"underline",href:`${ke}/disclosures/international-exchange-additional-disclosures/`,target:"blank",children:"International Exchange Additional Disclosures"})]})]}),d&&e.jsx(G,{variant:"error",children:d}),e.jsx(T.Primary,{onPress:h,children:"Agree and Continue"})]})})},al=({flowDirection:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",preserveAspectRatio:"none",children:e.jsx("path",{d:"M 20,20 L 20,0",fill:"currentColor",stroke:"currentColor",style:{strokeWidth:"1px",vectorEffect:"non-scaling-stroke",strokeDasharray:"4px",strokeDashoffset:t==="up"?"8px":"-8px",animation:"stroke 0.2s linear infinite",shapeRendering:"geometricPrecision"}})}),Pa=Li({reducerPath:"lendingServiceSecureApi",baseQuery:lt,tagTypes:["offers","earnings"],endpoints:t=>({exitOffer:t.mutation({queryFn:async s=>({data:await lt({url:`https://www.figuremarkets.com/service-lending/secure/api/v1/offers/${s}/exit`,options:{request:{method:"POST"}}})}),invalidatesTags:s=>[{type:"offers",id:s==null?void 0:s.id}]}),getOffers:t.query({queryFn:async({query:s})=>({data:await lt({url:"https://www.figuremarkets.com/service-lending/secure/api/v1/offers",options:{request:{method:"GET"},params:s}})}),providesTags:s=>s?[...s.data.map(({id:a})=>({type:"offers",id:a})),{type:"offers",id:"LIST"}]:[{type:"offers",id:"LIST"}]}),getCurrentPeriod:t.query({queryFn:async({query:s})=>({data:await lt({url:"https://www.figuremarkets.com/service-lending/secure/api/v1/offers/period/current",options:{request:{method:"GET"},params:s}})})}),createOffer:t.mutation({queryFn:async s=>{try{return{data:await lt({url:"https://www.figuremarkets.com/service-hft-exchange/secure/api/v1/lenders/offer",options:{request:{method:"POST",body:JSON.stringify(s)}}})}}catch(a){return{error:a}}},invalidatesTags:["offers"]}),getEarningsHistory:t.query({queryFn:async({query:s})=>({data:await lt({url:"https://www.figuremarkets.com/service-lending/secure/api/v1/offers/earnings-history",options:{request:{method:"GET"},params:s}})}),providesTags:["earnings"]})})}),{useGetOffersQuery:p1,useExitOfferMutation:B6,useCreateOfferMutation:W6,useGetEarningsHistoryQuery:q6,useGetCurrentPeriodQuery:$6}=Pa;Pa.endpoints;function H6(t,s){const{marketLocation:a}=me(),{data:n}=Ou({query:{location:Rt(a)},path:{asset:(s==null?void 0:s.asset)??"USD"}},{skip:!s}),[r]=B6(),{notifyPendingExitRequest:i,notifyGenericError:l}=Be(),o=async u=>{try{const d=await r(u).unwrap();i(d),t()}catch{l({title:"Error canceling offer",description:"Please try again."})}};return{isOpen:!!s,handleClose:t,handleSubmit:u=>o(u),maxIntRate:(n==null?void 0:n.maxIntRate)??.3}}const g1=({onClose:t,offer:s})=>{const{isOpen:a,handleClose:n,handleSubmit:r,maxIntRate:i}=H6(t,s),l=()=>{s&&(r(s.id),t())};return e.jsxs($e,{isOpen:a,onClose:n,children:[e.jsx(ne,{onBack:n,children:"Request Exit"}),e.jsxs("div",{className:"flex flex-col gap-y-6",children:[e.jsxs("p",{className:"text-xs text-figma-neutral",children:["A request to exit will immediately increase your offer APR to ",Oe(i,1)," (the maximum pool rate). This APR increase may prevent your offer from being utilized during the current period. Any unused funds will be exited at the next roll."]}),e.jsxs("div",{className:"rounded-[4px] p-4 bg-figma-neutral-dark flex flex-col gap-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"font-bolder",children:e.jsx(V,{value:s==null?void 0:s.amt,currencySymbol:(s==null?void 0:s.asset)||"USD"})}),e.jsx("span",{className:"font-bold text-xxs",children:"Offer Amount"})]}),e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"font-bolder",children:Oe(s==null?void 0:s.rate,1)}),e.jsx("span",{className:"font-bold text-xxs",children:"APR"})]})]}),e.jsx(T.Cancel,{onPress:l,children:"Confirm Exit Offer"})]})]})},V6=({isOpen:t})=>{var C;const[s,a]=c.useState(),[n,r]=c.useState(!1),[i,l]=c.useState(!1),{walletBridgeService:o,walletBridgeState:u}=Nt(),{connectionUri:d,connectionUriQRImage:x,isPaired:m,isScanned:f}=u,{pairings:p}=o.privateData().privateState,{name:g}=((C=p[0])==null?void 0:C.peerMetadata)||{},h=window.innerWidth<800,b=async()=>{a(void 0),r(!0);const w=await o.connect();a(w),r(!1)},j=()=>{d&&navigator.clipboard.writeText(d).then(()=>{l(!0),window.setTimeout(()=>{l(!1)},3e3)})},y=async()=>{await o.rejectConnection()};return e.jsxs($e,{isOpen:t,ariaLabel:"Localhost login",children:[e.jsxs(e.Fragment,{children:[e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-center font-black",children:"Localhost Wallet Connection"}),e.jsx(s1,{className:"w-full"}),m&&e.jsxs("div",{className:"text-center flex flex-col gap-1 items-center",children:[e.jsxs("h3",{children:["Currently paired to ",g||"n/a",". QR scan not required."]}),e.jsx(T.Highlighted,{onPress:o.reset,children:"Delete Pairing"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsx(T.Primary,{onPress:b,isDisabled:n,className:"w-full",children:n?"Waiting on wallet...":"Connect"})}),n&&!x&&!m&&e.jsx("div",{children:"Loading..."}),x&&e.jsxs("div",{className:"relative flex flex-col items-center",children:[f&&e.jsx("div",{className:"absolute top-28 z-10 bg-negative-300 w-[276px] text-center shadow-lg py-2 font-black",children:"QR SCANNED"}),e.jsx("img",{src:x,alt:"connection QR code",className:k("h-[250px] w-[250px] p-3 box-content bg-white rounded-md",f&&"blur-sm")}),h&&d&&e.jsx(T.Primary,{onPress:()=>window.open(d),className:"my-6",children:"Mobile Connect"}),e.jsx("div",{className:"mt-2 flex gap-2",children:e.jsx(T.Highlighted,{onPress:j,isDisabled:i,children:i?"Copied!":"Copy URI"})})]})]}),s&&e.jsx("div",{className:"bg-neutral-250 shadow-inner border border-neutral-450 p-4 rounded-md text-neutral-450 break-words max-h-20 overflow-y-auto",children:JSON.stringify(s)}),n&&!m&&!f&&e.jsx(T.BuySell,{state:"SELL",onPress:y,children:"Cancel Connection"})]})},tn={CAYMAN:"Figure Markets Cayman Islands",IRELAND:"Figure Markets Ireland",USA:"Figure Payments Corporation",UNKNOWN_LICENSING_JURISDICTION:"Figure Payments Corporation",UNRECOGNIZED:"Figure Payments Corporation"},Ga={LEND:"LEND",INVEST:"INVEST",BORROW:"BORROW",SWEEP:"SWEEP"},j1={USA:"US",UNKNOWN_LICENSING_JURISDICTION:"CAYMAN",UNRECOGNIZED:"CAYMAN",CAYMAN:"CAYMAN",IRELAND:"IRELAND"},nl=[{featureId:Ga.INVEST,originalLicensingJurisdiction:"IRELAND",requiredLicensingJurisdiction:"CAYMAN",navigationTitleToMatch:"INVEST",featureDisplayName:"Invest"},{featureId:Ga.LEND,originalLicensingJurisdiction:"IRELAND",requiredLicensingJurisdiction:"CAYMAN",navigationTitleToMatch:"LEND",featureDisplayName:"Lend"},{featureId:Ga.BORROW,originalLicensingJurisdiction:"IRELAND",requiredLicensingJurisdiction:"CAYMAN",navigationTitleToMatch:"BORROW",featureDisplayName:"Borrow"},{featureId:Ga.SWEEP,originalLicensingJurisdiction:"IRELAND",requiredLicensingJurisdiction:"CAYMAN",navigationTitleToMatch:"SWEEP",featureDisplayName:"Sweep"}],Z6=t=>{const{onClose:s,onAccepted:a,targetLicensingJurisdiction:n}=t,r=X(),i=Ye(),{mutateAsync:l,isLoading:o}=Qi(),[u,d]=c.useState(),x=async()=>{d(void 0);try{n==="CAYMAN"&&await l({requestBody:{type:"CAYMAN_EXEMPTION_CONSENT"}}),r(ss.acceptTerms({licensingJurisdiction:n})),a==null||a()}catch{d("There was an error processing your request. Please try again.")}},m=n?tn[n]:"",f=()=>{i(re.home())};return e.jsx($e,{isOpen:!0,onClose:s??f,children:e.jsxs(e.Fragment,{children:[e.jsxs(ne,{children:["Agree to Terms and Conditions for ",m]}),e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(f1,{})}),e.jsxs("p",{className:"text-xs",children:["Review and agree to the"," ",e.jsx("a",{className:"underline",href:`${ke}/disclosures/terms-of-service/`,target:"blank",children:"Terms and Conditions"})," ","of the Figure Markets Cryptocurrency Exchange"]}),u&&e.jsx(G,{variant:"error",children:u}),e.jsx(T.Primary,{isPending:o,onPress:x,children:"Agree and Continue"})]})})},b1=t=>{const{children:s,licensingJurisdictionFeature:a,disabled:n,onCloseWithoutConsent:r}=t,{IS_IRELAND_RESTRICTION_ENABLED:i}=Fe(),l=Ye(),o=X(),{currentLicensingJurisdiction:u,originalLicensingJurisdiction:d,licensingJurisdictionsWithAcceptedConsents:x}=ae(pt),{isAuthenticatedWithCookie:m}=ee();bs.useGetConsentsQuery(void 0,{skip:!m||n});const f=nl.find(h=>h.featureId===a&&h.originalLicensingJurisdiction===d);c.useEffect(()=>{!n&&f&&u!==f.requiredLicensingJurisdiction&&x.includes(f.requiredLicensingJurisdiction)&&o(ss.setCurrentJurisdiction({licensingJurisdiction:f.requiredLicensingJurisdiction}))},[u,n,o,x,f]);const p=!n&&f&&!x.includes(f.requiredLicensingJurisdiction),g=()=>{r?r():l(re.home())};return n||!i?e.jsx(e.Fragment,{children:s}):f?p?e.jsx(Z6,{onClose:g,targetLicensingJurisdiction:f.requiredLicensingJurisdiction}):e.jsx(e.Fragment,{children:s}):e.jsx(e.Fragment,{children:s})},De={CASH_TO_SWEEP:"CASH_TO_SWEEP",CONTINUE_TO_PHONE:"CONTINUE_TO_PHONE",DOCUMENTS_ERROR:"DOCUMENTS_ERROR",INFORMATION:"INFORMATION",INVESTMENT_TYPE:"INVESTMENT_TYPE",KRANG_STEP:"KRANG_STEP",MISSING_INFORMATION:"MISSING_INFORMATION",ONE_TIME_INVESTMENT:"ONE_TIME_INVESTMENT",PENDING_REVIEW:"PENDING_REVIEW",TERMS_AND_AGREEMENTS:"TERMS_AND_AGREEMENTS"},G6=De.INFORMATION,z6=()=>{const{onLRWASignUpModalClose:t,setMissingInformation:s}=Ge(),{hasKrangBlocker:a}=Le(),n=a?De.KRANG_STEP:G6,[r,i]=c.useState(n),[l,o]=c.useState(""),[u,d]=c.useState(!1),[x,m]=c.useState(0),[f,p]=c.useState([]),[g,h]=c.useState(!1),[b,j]=c.useState(0);return c.useEffect(()=>{a&&i(De.KRANG_STEP)},[a]),c.useEffect(()=>{},[]),{amountToSweep:x,docsError:l,hasReviewed:g,oneTimePurchaseAmount:b,onModalClose:()=>{i(n),d(!1),m(0),p([]),s(void 0),o(""),t(),h(!1)},setAmountToSweep:m,setDocsError:o,setHasReviewed:h,setMissingInformation:s,setOneTimePurchaseAmount:j,setSignDocuments:p,setStep:i,setSweepEntireBalance:d,signDocuments:f,step:r,sweepEntireBalance:u}};var yt=(t=>(t.KYC="kyc",t.SELF_ATTESTATION="506b",t.ATTESTATION_VERIFICATION="506c",t))(yt||{}),hs=(t=>(t.THREE_C_SEVEN="3c7",t.THREE_C_ONE="3c1",t.SUITABILITY_QUESTIONNAIRE="SUITABILITY_QUESTIONNAIRE",t))(hs||{}),sn=(t=>(t.ONLY_ADD_ONS="ONLY_ADD_ONS",t.EDIT_KYC="EDIT_KYC",t.EDIT_SELF_ATTESTATION="EDIT_SELF_ATTESTATION",t.EDIT_ATTESTATION_VERIFICATION="EDIT_ATTESTATION_VERIFICATION",t.EDIT_SUITABILITY="EDIT_SUITABILITY",t.ADD_MEMBER="ADD_MEMBER",t.BANKRUPTCY_REFI="BANKRUPTCY_REFI",t.EDIT_KYC_BANKRUPTCY_REFI="EDIT_KYC_BANKRUPTCY_REFI",t.FTX_CLAIM_OFFER="FTX_CLAIM_OFFER",t.EDIT_KYC_FTX_CLAIM_OFFER="EDIT_KYC_FTX_CLAIM_OFFER",t))(sn||{});const K6=["intent","redirectUrl","passportUuid","offeringAddress","offeringAttribute","addOns","option","description","specialties","incompleteRedirectUrl"],_r=t=>{const s=new URL(t);for(const[a]of s.searchParams.entries())K6.includes(a)&&s.searchParams.delete(a);return s.toString()};_r(`https://${window.location.host}/celsius-refinancing/success${window.location.search}`),_r(`https://${window.location.host}/celsius-refinancing${window.location.search}`),_r(`https://${window.location.host}/exchange/ftx-claim-offer${window.location.search}`);var ze=(t=>(t.UNKNOWN_STATUS="UNKNOWN_STATUS",t.IN_PROGRESS="IN_PROGRESS",t.PENDING="PENDING",t.VALID="VALID",t.VALID_PENDING="VALID_PENDING",t.CANCELLED="CANCELLED",t.DENIED="DENIED",t.VALID_NO_KYC="VALID_NO_KYC",t.VALID_NO_KYC_PENDING="VALID_NO_KYC_PENDING",t.AWAITING_EOS="AWAITING_EOS",t.VALID_AWAITING_EOS="VALID_AWAITING_EOS",t.VALID_NO_KYC_AWAITING_EOS="VALID_NO_KYC_AWAITING_EOS",t.VALID_IN_PROGRESS="VALID_IN_PROGRESS",t.VALID_NO_KYC_IN_PROGRESS="VALID_NO_KYC_IN_PROGRESS",t))(ze||{});const Y6=["AWAITING_EOS","VALID_AWAITING_EOS","VALID_NO_KYC_AWAITING_EOS"],On=["IN_PROGRESS","VALID_IN_PROGRESS","VALID_NO_KYC_IN_PROGRESS",...Y6],Ka=["PENDING","VALID","VALID_PENDING"],rt=(t,s)=>{s||console.debug(`Gatekeeper: ${t}`)},Q6=({passport:t})=>(t==null?void 0:t.passportStructureType)==="INDIVIDUAL"?"/investor-accreditation":"/institutional-setup",J6=t=>`https://${t?"www.":""}figuremarkets.${t?"com":"dev"}`,Mn="/universal-passport",X6="gatekeep-up",em=(t,s,a,n)=>{const r=[hs.THREE_C_ONE,hs.THREE_C_SEVEN];if((t==null?void 0:t.option)===sn.ONLY_ADD_ONS){if(((s==null?void 0:s.passportStructureType)==="ENTITY"||(s==null?void 0:s.passportStructureType)==="TRUST")&&(s==null?void 0:s.ownerWalletAddress)!==a)throw Error(`Flow Option 'ONLY_ADD_ONS' requires Entity Type ${s==null?void 0:s.passportStructureType} to be connected to group address ${s==null?void 0:s.ownerWalletAddress}.`);if(r.every(i=>{var l;return(l=t.addOns)==null?void 0:l.includes(i)}))throw Error(`Flow Option 'ONLY_ADD_ONS' prohibits using both ${hs.THREE_C_ONE} & ${hs.THREE_C_SEVEN}.  Only one is premitted`);if(t.intent===yt.KYC&&r.some(i=>{var l;return(l=t.addOns)==null?void 0:l.includes(i)}))throw Error(`Flow Option 'ONLY_ADD_ONS' prohibits AddOns ${hs.THREE_C_ONE} or ${hs.THREE_C_SEVEN} with ${yt.KYC} intent.  Both are eligible with ${yt.SELF_ATTESTATION} Or ${yt.ATTESTATION_VERIFICATION}`)}if((t==null?void 0:t.option)===sn.EDIT_KYC){if(!(n!=null&&n.kycStatus)||![ze.PENDING,ze.VALID_PENDING,ze.VALID].includes(n==null?void 0:n.kycStatus))throw Error(`Flow Option 'ONLY_KYC' prohibits using Edit Mode when KYC status is not ${ze.PENDING}, ${ze.VALID_PENDING}, or ${ze.VALID}`);if((t==null?void 0:t.intent)!==yt.KYC)throw Error(`Flow Option 'ONLY_KYC' prohibits any intent other than ${yt.KYC}`)}},tm=t=>{if(t!=null&&t.offeringAddress&&!(t!=null&&t.offeringAttribute))throw Error("Offering Address requires an offering attribute");if(t!=null&&t.offeringAttribute&&!(t!=null&&t.offeringAddress))throw Error("Offering Attribute requires an offering address")},sm=(t,s,a,n,r)=>{var h;const i=(s==null?void 0:s.baseUrlOverride)||J6(t),l=`${i}${Mn}/onboarding/type-of-investor`,o=`${i}${Mn}/onboarding/:passportUuid/resume`,u=`${i}${Mn}${Q6({passport:a})}`,d=`${i}${Mn}/group-manager/:passportUuid/add-member`,x=(n==null?void 0:n.kycStatus)??ze.UNKNOWN_STATUS,m=(n==null?void 0:n.attestationStatus)??ze.UNKNOWN_STATUS,f=(n==null?void 0:n.attestationVerificationStatus)??ze.UNKNOWN_STATUS,p=[ze.CANCELLED,ze.DENIED,ze.UNKNOWN_STATUS];let g;if(r)g=u;else if((s==null?void 0:s.option)===sn.ONLY_ADD_ONS&&((h=s==null?void 0:s.addOns)!=null&&h.length)&&(s!=null&&s.passportUuid))rt("Redirect to universal-passport's /resume with flow option ONLY_ADD_ONS set.",t),g=o.replace(":passportUuid",s.passportUuid);else if((s==null?void 0:s.option)===sn.ADD_MEMBER&&(s!=null&&s.passportUuid))rt("Redirect to universal-passport's /add-member with flow option ADD_MEMBER set.",t),g=d.replace(":passportUuid",s.passportUuid);else if(x===ze.UNKNOWN_STATUS)rt(`Redirect to universal-passport's /type-of-investor with intent: ${s.intent} to onboard new passport`,t),g=l;else if([ze.CANCELLED,ze.DENIED].includes(x)&&(s!=null&&s.passportUuid))rt(`Redirect to universal-passport's /resume with intent: ${s.intent} due to IN_ACTIVE kyc status`,t),g=o.replace(":passportUuid",s.passportUuid);else if(On.includes(x)&&(s!=null&&s.passportUuid))rt(`Redirect to universal-passport's /resume with intent: ${s.intent} due to *IN_PROGRESS or *AWAITING_EOS kyc status`,t),g=o.replace(":passportUuid",s.passportUuid);else switch(s.intent){case yt.SELF_ATTESTATION:{Ka.includes(m)?(rt(`Redirect to one of universal-passport's landing pages with intent: ${s.intent} due to COMPLETE 506b status`,t),g=u):On.includes(m)&&(s!=null&&s.passportUuid)?(rt("Redirect to universal-passport's /resume to continue IN_PROGRESS or *AWAITING_EOS 506b flow",t),g=o.replace(":passportUuid",s.passportUuid)):p.includes(m)&&(s!=null&&s.passportUuid)?(rt(`Redirect to universal-passport's /resume with intent: ${s.intent} due to IN_ACTIVE 506b status`,t),g=o.replace(":passportUuid",s.passportUuid)):(rt(`Redirect to universal-passport's /type-of-investor with intent: ${s.intent} to onboard new passport 506b`,t),g=l);break}case yt.ATTESTATION_VERIFICATION:{Ka.includes(f)?(rt(`Redirect to one of universal-passport's landing pages with intent: ${s.intent} due to COMPLETE 506c status`,t),g=u):p.includes(m)&&(s!=null&&s.passportUuid)?(rt(`Redirect to universal-passport's /resume with intent: ${s.intent} due to IN_ACTIVE 506b status for 506c`,t),g=o.replace(":passportUuid",s.passportUuid)):On.includes(m)&&(s!=null&&s.passportUuid)?(rt("Redirect to universal-passport's /resume to continue IN_PROGRESS or *AWAITING_EOS 506b flow for 506c",t),g=o.replace(":passportUuid",s.passportUuid)):On.includes(f)&&(s!=null&&s.passportUuid)?(rt("Redirect to universal-passport's /resume to continue IN_PROGRESS or *AWAITING_EOS 506c flow",t),g=o.replace(":passportUuid",s.passportUuid)):p.includes(f)&&(s!=null&&s.passportUuid)?(rt(`Redirect to universal-passport's /resume with intent: ${s.intent} due to IN_ACTIVE 506b status`,t),g=o.replace(":passportUuid",s.passportUuid)):(rt(`Redirect to universal-passport's /type-of-investor with intent: ${s.intent} to onboard new passport 506c`,t),g=l);break}case yt.KYC:{Ka.includes(x)?(rt(`Redirect to one of universal-passport's landing pages with intent: ${s.intent} due to COMPLETE kyc status`,t),g=u):(rt(`Redirect to universal-passport's /type-of-investor with intent: ${s.intent} to onboard new passport kyc`,t),g=l);break}}return g},Er="/service-universal-passport/secure/api/v1",am="walletconnect-js",fi="jwt",Fa=Ud.create({baseURL:window.location.origin,timeout:3e4,headers:{Accept:"application/json, application/pdf","Content-Type":"application/json"},withCredentials:!0});Fa.interceptors.request.use(t=>{const s=localStorage.getItem(fi),a=localStorage.getItem(am),n=(a==null?void 0:a.length)>0?JSON.parse(a):null;return t.headers={...t.headers,...s&&{authorization:s},...n!=null&&n.signedJWT?{"wallet-authorization":`Bearer ${n.signedJWT}`}:{}},t},t=>Promise.reject(t));Fa.interceptors.response.use(t=>{const{authorization:s}=t.headers;return t.status===200&&s&&localStorage.setItem(fi,s),t},t=>{var s,a,n,r;return(((s=t==null?void 0:t.response)==null?void 0:s.status)===401||((a=t==null?void 0:t.response)==null?void 0:a.status)===403&&((r=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:r.message)==="Unauthenticated")&&localStorage.removeItem(fi),Promise.reject(t)});const nm=(t="",s)=>{const{apiBase:a}=hn(),{data:n,isInitialLoading:r,error:i}=fe(["passport","gateway",t],async()=>{const{data:l}=await Fa.get(`${a}${Er}/gateway/passport`);return l},{enabled:!!t,refetchOnMount:!0,refetchOnReconnect:!0,...s});return{passportForOwnerWallet:n,isPassportForOwnerWalletLoading:r,passportForOwnerWalletError:(i==null?void 0:i.message)||""}},rm=(t="",s)=>{const{apiBase:a}=hn(),{data:n,refetch:r,isInitialLoading:i,error:l}=fe(["passport","status","gateway",t],async()=>{const{data:o}=await Fa.get(`${a}${Er}/gateway/passport-status`);return o},{enabled:!!t,refetchOnMount:!0,refetchOnReconnect:!0,...s});return{passportStatusForOwnerWallet:n,refetchPassportStatusForOwnerWallet:r,isPassportStatusForOwnerWalletLoading:i,passportStatusForOwnerWalletError:(l==null?void 0:l.message)||""}},im=(t="",s)=>{const{apiBase:a}=hn(),{data:n,refetch:r,isInitialLoading:i,error:l}=fe(["passport","statuses","gateway",t],async()=>{const{data:o}=await Fa.get(`${a}${Er}/gateway/creator/passport-status`);return o},{enabled:!!t,refetchOnMount:!0,refetchOnReconnect:!0,...s});return{passportStatusesForCreatorWallet:n,refetchPassportStatusesForCreatorWallet:r,isPassportStatusesForCreatorWalletLoading:i,passportStatusesForCreatorWalletError:(l==null?void 0:l.message)||""}},lm=(t="",s)=>{const{apiBase:a}=hn(),{data:n,isInitialLoading:r,error:i}=fe(["passports","gateway",t],async()=>{const{data:l}=await Fa.get(`${a}${Er}/gateway/creator/passport`);return l},{enabled:!!t,refetchOnMount:!0,refetchOnReconnect:!0,...s});return{passportsForCreatorWallet:n,isPassportsForCreatorWalletLoading:r,passportsForCreatorWalletError:(i==null?void 0:i.message)||""}},ql=t=>({...t.kycStatus!==ze.UNKNOWN_STATUS&&{[yt.KYC]:t.kycStatus},...t.attestationStatus!==ze.UNKNOWN_STATUS&&{[yt.SELF_ATTESTATION]:t.attestationStatus},...t.attestationVerificationStatus!==ze.UNKNOWN_STATUS&&{[yt.ATTESTATION_VERIFICATION]:t.attestationVerificationStatus}}),om=(t="",s)=>{const{isProd:a}=hn(),{passportForOwnerWallet:n,isPassportForOwnerWalletLoading:r,passportForOwnerWalletError:i}=nm(t,s),{passportStatusForOwnerWallet:l,refetchPassportStatusForOwnerWallet:o,isPassportStatusForOwnerWalletLoading:u,passportStatusForOwnerWalletError:d}=rm(t,s),{passportsForCreatorWallet:x,isPassportsForCreatorWalletLoading:m,passportsForCreatorWalletError:f}=lm(t,s),{passportStatusesForCreatorWallet:p,refetchPassportStatusesForCreatorWallet:g,isPassportStatusesForCreatorWalletLoading:h,passportStatusesForCreatorWalletError:b}=im(t,s),j=c.useMemo(()=>{if(l)return ql(l)},[l]),y=N=>[l,...p||[]].find(v=>(v==null?void 0:v.passportUuid)===N),C=async N=>{try{const{data:v}=await o(),{data:A}=await g(),E=N!=null&&N.passportUuid?[n,...x||[]].find(O=>(O==null?void 0:O.passportUuid)===N.passportUuid):void 0,P=N!=null&&N.passportUuid?[v,...A||[]].find(O=>(O==null?void 0:O.passportUuid)===N.passportUuid):void 0;tm(N),em(N,E,t,P);const L=sm(a,N,E,P,i||f||d||b);return window.localStorage.setItem(X6,JSON.stringify(N)),L}catch(v){console.log("ERR",v)}return null},w=N=>{const v=y(N);if(v)return ql(v)};return{passportData:n,passportUuid:l==null?void 0:l.passportUuid,statusData:l,intentStatuses:j,setIntentAndGetRedirect:C,isLoading:r||m||u||h,passportError:i||f,statusError:d||b,getPassportIntentStatuses:w}},cm=om,dm=t=>["currentStep",...t?[t]:[]],rl=t=>{const s=H("post");return pe({mutationKey:dm(t.accountAddress),mutationFn:a=>s({url:"/marketplace-krang/secure/wallet/api/v3/fsm",baseUrl:t.baseUrl,options:ie(a)}),...t})};function um(t){const s=H("get");return pe({mutationFn:a=>s({url:`/service-universal-passport/secure/api/v1/passports/${a.path.passportUuid}/status`,options:ie(a)}),...t})}function mm(t){const s=H("put");return pe({mutationFn:a=>s({url:`/service-universal-passport/secure/api/v1/passports/${a.path.passportUuid}/modules/${a.path.moduleName}/in-progress`,options:ie(a)}),...t})}const y1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='65'%20height='65'%20fill='none'%3e%3cpath%20fill='url(%23a)'%20fill-rule='evenodd'%20d='M32.494%2063.533c17.143%200%2031.04-13.896%2031.04-31.039%200-17.142-13.897-31.039-31.04-31.039-17.142%200-31.039%2013.897-31.039%2031.04%200%2017.142%2013.897%2031.038%2031.04%2031.038Zm0%201.455c17.946%200%2032.494-14.548%2032.494-32.494C64.988%2014.548%2050.44%200%2032.494%200%2014.548%200%200%2014.548%200%2032.494%200%2050.44%2014.548%2064.988%2032.494%2064.988Z'%20clip-rule='evenodd'%20/%3e%3cpath%20fill='url(%23b)'%20fill-rule='evenodd'%20d='M33.706%2014.092a2.183%202.183%200%200%200-2.423%200L17.229%2023.47a2.183%202.183%200%200%200-.971%201.815v10.168l1.774-1.073%2014.198-9.183a.485.485%200%200%201%20.527%200l14.55%209.41.04.03%201.384.836V25.285c0-.729-.365-1.41-.971-1.815l-14.054-9.378ZM48.66%2038.264l-1.132-.684v6.952a.485.485%200%200%201-.485.485h-29.1a.485.485%200%200%201-.485-.485V37.56l-1.132.684v6.288c0%20.893.724%201.617%201.617%201.617h29.1c.893%200%201.617-.724%201.617-1.617v-6.268Zm-1.062-4.816v-8.163c0-.35-.175-.679-.467-.874l-14.054-9.377a1.05%201.05%200%200%200-1.167%200L17.857%2024.41a1.05%201.05%200%200%200-.467.874v8.163l14.226-9.201a1.617%201.617%200%200%201%201.756%200l14.227%209.201Z'%20clip-rule='evenodd'%20/%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='-1.177'%20x2='63.678'%20y1='35.831'%20y2='23.615'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%235D57F8'%20/%3e%3cstop%20offset='.441'%20stop-color='%234DE0B5'%20/%3e%3cstop%20offset='.983'%20stop-color='%23DFFF00'%20/%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='15.67'%20x2='48.072'%20y1='31.602'%20y2='25.489'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%235D57F8'%20/%3e%3cstop%20offset='.441'%20stop-color='%234DE0B5'%20/%3e%3cstop%20offset='.983'%20stop-color='%23DFFF00'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",xm=t=>c.createElement("svg",{width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"M10 2.5L6.5 6.00007",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"square",strokeLinejoin:"round"}),c.createElement("path",{d:"M5.5 2H2.5V10H10.5V7",stroke:"currentColor",strokeWidth:1.5}),c.createElement("path",{d:"M7.5 2H10.5V5",stroke:"currentColor",strokeWidth:1.5})),_n={US:"US",CAYMAN:"CAYMAN",ALL:"ALL"},hm=`${window.location.href}?${Is}=true&${ec}=${De.INVESTMENT_TYPE}`,fm=`${window.location.href}?${Is}=true&${ec}=${De.INFORMATION}`,$l=[{title:"Accreditation/QP",text:"Verify your investor accreditation status as defined in Regulation D of the Securities Act of 1933 as required by certain private placements.",visibility:_n.US},{title:"Set your stablecoin reserve",text:"Decide the stablecoin amount you want to keep in your account and move the rest to Forward Vault.",visibility:_n.ALL},{title:"Review T&Cs",text:"Review and agree to our terms and conditions.",visibility:_n.ALL},{title:"Start earning with Forward Vault",text:"Your excess stablecoins automatically move to Figure Markets — Forward Vault, earning you interest.",visibility:_n.ALL}],pm=({isMarketUS:t})=>$l.filter(({visibility:s})=>t?s==="US"||s==="ALL":s==="CAYMAN"||s==="ALL").map(({text:s,title:a},n)=>e.jsxs("div",{className:"flex gap-3 pb-2 my-2 relative",children:[e.jsx("div",{className:"flex justify-center items-center rounded-full bg-neutral-100 size-5 text-white font-bold text-xs z-20",children:n+1}),n<$l.length-1&&e.jsx("div",{className:"border-l-2 absolute w-1 h-full left-[9px] top-[12px] z-10 border-figma-neutral-dark border-dashed"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bolder text-white mb-1",children:a}),e.jsx("p",{className:"text-xs text-neutral-300",children:s})]})]},a)),gm=({setStep:t})=>{var j;const{navigateToPassport:s}=Le(),{isMarketUS:a,LRWAYield:n,LRWAFundID:r}=Ge(),{passport:i}=Le(),{walletBridgeState:l}=Nt(),{mutateAsync:o,isLoading:u}=rl({baseUrl:ke,accountAddress:(j=l.account)==null?void 0:j.address}),{mutateAsync:d,isLoading:x}=um({}),{mutateAsync:m}=mm({}),[f,p]=c.useState(!1),g=f||x||u,h=async()=>{var C;let y=!1;if(l.isFigureAuth){const N=await o({requestBody:{requiredSteps:[{type:"UNIVERSAL_PASSPORT",requiredLevel:"figure.qp.506b.passport.pb",requiresKycApproval:!0,offeringContractAddress:r}]}});if(a&&((C=N==null?void 0:N.currentStep)==null?void 0:C.requiredPassportLevel)===$i&&i){const A=await d({path:{passportUuid:i.passportUuid}});Ka.includes(A.attestationStatus)&&await m({path:{moduleName:"506B",passportUuid:i.passportUuid}}),Ka.includes(A.attestationVerificationStatus)&&await m({path:{moduleName:"506C",passportUuid:i.passportUuid}}),y=!0}}return y},b=async()=>{p(!0);const y=await h();p(!1),y?s(hm,{intent:yt.ATTESTATION_VERIFICATION,offeringAddress:r,offeringAttribute:r,incompleteRedirectUrl:fm,addOns:[hs.THREE_C_ONE,hs.THREE_C_SEVEN]}):t(De.INVESTMENT_TYPE)};return e.jsxs("div",{className:"w-[20.25rem] md:w-[48rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center",children:[e.jsx("p",{className:"text-3xl text-white text-center font-extralight pb-4",children:"Start earning with Forward Vault"}),e.jsx("p",{className:"text-xs text-neutral-300",children:"Effortlessly grow your funds by automatically moving idle cash to an interest-earning account. Just set it up, and we'll handle the rest. Adjust or cancel anytime in settings."}),e.jsxs("div",{className:"flex-col gap-x-6 pt-4 flex md:flex-row",children:[e.jsx("div",{className:"md:max-w-[270px]",children:e.jsxs("div",{className:"bg-figma-neutral-dark p-3 rounded-md",children:[e.jsx("div",{className:"p-4 bg-figma-dark rounded-lg min-w-[120px] h-[168px] border-neutral-100 flex items-center justify-center",children:e.jsx("img",{src:y1,alt:"lrwa logo",className:"h-full"})}),e.jsxs("div",{className:"mt-5",children:[e.jsx("p",{className:"text-base font-bold text-center mb-2",children:"Figure Markets — Forward Vault"}),e.jsx("p",{className:"text-xs text-neutral-300",children:"Earn competitive yields on your stablecoins with liquidity and flexibility. Figure Markets Vault — Forward invests in low-risk, high-yield home equity loans from Figure Technology Solutions."})]})]})}),e.jsxs("div",{className:"flex flex-col gap-2 mt-4 md:mt-0",children:[e.jsxs("p",{className:"font-bolder text-base mb-1",children:["Earn up to ",n||8,"% APY on your idle cash"]}),e.jsx("p",{className:"text-xs text-neutral-300",children:"Application (approx. 5 mins)"}),e.jsx("div",{children:e.jsx(pm,{isMarketUS:a})}),e.jsx("div",{className:"max-w-[218px] flex-grow content-end",children:e.jsxs(T.Primary,{className:"mt-2 flex items-center justify-center gap-1 w-full",isDisabled:g,onPress:b,children:["Get Started",e.jsx(xm,{})]})})]})]})]})},jm=t=>{const s=H("post");return pe({mutationFn:async()=>s({url:"/service-funds/wallet-secure/api/v2/funds/doc-reqs"}),...t})},il=t=>{const s=H("post");return pe({mutationFn:a=>s({url:"/service-funds/wallet-secure/api/v1/orders",options:ie(a)}),...t})},bm=t=>{const s=H("post");return pe({mutationFn:a=>s({url:"/service-funds/wallet-secure/api/v1/subscribers",options:ie(a)}),...t})},ym=t=>{const s=H("post");return pe({mutationFn:async a=>{const{requestBody:n}=a;if(!n)throw new Error("requestBody is undefined or doesn't contain 'content'");const{files:r,fundId:i,signature:l,affirmFormsCorrect:o,fileTypes:u,autoSweep:d}=n,x=new FormData;return d&&x.append("autoSweep",d),r&&Array.isArray(r)?r.forEach((m,f)=>{x.append("files",m,`${u[f]}`)}):r&&x.append("files",r),x.append("fundId",i),x.append("signature",l||""),o&&x.append("affirmFormsCorrect",o),s({url:"/service-funds/wallet-secure/api/v2/subs",options:{...ie(a),request:{headers:{"Content-Type":"multipart/form-data"},body:x}}})},...t})},Cm=t=>["service-funds","getBalances",t];function Nm(t){const s=H("get");return fe({queryKey:Cm(t.walletAddress),queryFn:()=>s({url:`/service-funds/wallet-secure/api/v1/subs/${t.path.subId}/balance-report`}),...t.queryOptions})}const wm=["FUNDS_UNAUTHENTICATED"],vm=t=>{const s=H("get");return fe({queryKey:wm,queryFn:()=>s({url:"/service-funds/public/api/v1/funds"}),...t.queryOptions})},Lm=["INFO_TO_COLLECT"],C1=(t={})=>{const s=H("get");return fe({queryKey:Lm,queryFn:()=>s({url:"/service-funds/wallet-secure/api/v1/funds/info-to-collect"}),...t.queryOptions})},Em=t=>["SUBSCRIBER",t],Sm=t=>{const s=H("get");return fe({queryKey:Em(t.walletAddress),queryFn:()=>s({url:"/service-funds/wallet-secure/api/v1/subscribers"}),...t.queryOptions})},Am=t=>["SUBSCRIPTIONS",t],Dm=t=>{const s=H("get");return fe({queryKey:Am(t.walletAddress),queryFn:async()=>{const a=await s({url:"/service-funds/wallet-secure/api/v1/subs"});return a||{id:void 0}},...t.queryOptions})},Tm=["TAX_ID_TYPES"],Pm=t=>{var n;const s=H("get"),a=(n=t.query)==null?void 0:n.locale;return fe({queryKey:Tm,queryFn:()=>s({url:`/service-funds/wallet-secure/api/v1/funds/tax-id-types${a?`?locale=${a}`:""}`}),...t.queryOptions})},km=["YIELD_UNAUTHENTICATED"],Im=t=>{const s=H("get");return fe({queryKey:km,queryFn:()=>s({url:`/service-funds/public/api/v1/funds/${t.path.fundId}/yield`}),...t.queryOptions})},N1=t=>{const s=H("PATCH");return pe({mutationFn:async a=>s({url:`/service-funds/wallet-secure/api/v1/subs/${a.path.subId}`,options:ie(a)}),...t})},ll=t=>{const s=H("PATCH");return pe({mutationFn:async a=>s({url:"/service-funds/wallet-secure/api/v1/subscribers",options:ie(a)}),...t})},Om=({setStep:t,sweepEntireBalance:s,setSweepEntireBalance:a,setMissingInformation:n,setAmountToSweep:r})=>{const{LRWAYield:i,isMarketUS:l}=Ge(),o=tt({amount:qe().test({test:g=>s?!0:Number(g==null?void 0:g.value)>0,message:"Amount must be greater than 0"})}),{...u}=Xe({defaultValues:{amount:ht()},resolver:et(o)}),d=u.watch("amount"),[x,m]=c.useState(!1),{data:f,isFetched:p}=C1();return c.useEffect(()=>{p&&f&&fr(f).some(g=>f[g])&&(m(!0),n(f))},[p,f,n]),c.useEffect(()=>{Number(d==null?void 0:d.value)>0?a(!1):a(!0)},[a,d]),e.jsx("div",{className:"w-[20.25rem] md:w-[35rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center divide-y divide-neutral-100",children:e.jsx(st,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(g=>{var h;r(I((h=g.amount)==null?void 0:h.value).toNumber()),t(x?De.MISSING_INFORMATION:De.TERMS_AND_AGREEMENTS)}),children:[e.jsxs("div",{className:"relative",children:[l&&e.jsx(T.Back,{className:"absolute top-[10px] left-0 pt-0.5",onPress:()=>t(De.INVESTMENT_TYPE)}),e.jsx("p",{className:"text-3xl text-white text-center font-extralight pb-6",children:"Set your stablecoin reserve amount"})]}),e.jsxs("div",{className:"flex w-full flex-col md:flex-row",children:[e.jsxs("div",{className:"flex flex-col gap-y-2 p-4 border border-neutral-100 rounded-t-lg md:rounded-l-lg md:w-1/2",children:[e.jsx("p",{className:"text-sm font-bold text-center md:text-left",children:"Figure Markets — Forward Vault Requirements"}),e.jsxs("ul",{className:"list-disc text-neutral-300 text-xs pl-4",children:[e.jsx("li",{className:"pb-2",children:"Forward Vault sweeps occur daily at 9 AM ET."}),e.jsx("li",{className:"pb-2",children:"Reserve a portion of your stablecoins as a trading balance for instant transactions on Figure Markets."}),e.jsx("li",{className:"pb-2",children:"Use your reserve for trades and other Figure Markets activities."}),e.jsxs("li",{className:"pb-2",children:["Any stablecoins above your reserve is automatically invested in Forward Vault, earning up to"," ",i||8,"% APY with each deposit of additional funds."]})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-2 p-4 border border-neutral-100 rounded-b-lg md:rounded-r-lg md:w-1/2",children:[e.jsx("p",{className:"text-sm font-bold text-center md:text-left",children:"How much stablecoin do you want to hold?"}),e.jsx(Xt,{className:"text-xs text-neutral-300",children:"Enter the amount of stablecoins you want to keep in your account for trading. Any amount above this will automatically be swept into Figure Markets — Forward Vault."}),e.jsx(Pe.Currency,{displayName:"USDC",name:"amount"}),e.jsxs("div",{className:"w-full flex items-center justify-center gap-x-2 py-2",children:[e.jsx("hr",{className:"border border-transparent bg-neutral-100 h-px w-full"}),e.jsx("p",{className:"text-xs text-neutral-300",children:"or"}),e.jsx("hr",{className:"border border-transparent bg-neutral-100 h-px w-full"})]}),e.jsx(Os,{className:"text-xs font-bold",isSelected:s,onChange:g=>{a(!s),g&&u.setValue("amount",{value:0,display:""}),u.clearErrors()},children:"Sweep my entire stablecoin balance"}),e.jsx(T.Primary,{className:"w-full my-4",type:"submit",isDisabled:!p,children:"Continue"})]})]})]})})})},Mm="/exchange/assets/Non-US-Amended-and-Restated-LPA-Figure-Markets-RWA-Fund-ctzCEJG5.pdf",_m="/exchange/assets/Non-US-Subscription-Document-Figure-Markets-RWA-Fund-LP-Gaawv8GO.pdf",Rm="/exchange/assets/Non-US-Term-Sheet-Figure-Markets-RWA-Fund-LP-KPcXQzZS.pdf",w1=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:13,viewBox:"0 0 14 13",fill:"none",...t},c.createElement("path",{d:"M1 8.5V9.25C1 9.84674 1.23705 10.419 1.65901 10.841C2.08097 11.2629 2.65326 11.5 3.25 11.5H10.75C11.3467 11.5 11.919 11.2629 12.341 10.841C12.7629 10.419 13 9.84674 13 9.25V8.5",stroke:"#DDDDDD",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"}),c.createElement("path",{d:"M10.1434 3.8977L7.68966 6.35142L7.68966 0.500244L6.32486 0.500244L6.32486 6.35142L3.87114 3.88318L3 4.73981L7.00726 8.74707L11 4.75433L10.1434 3.8977Z",fill:"#DDDDDD"})),Hl=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:10,viewBox:"0 0 10 10",fill:"none",...t},c.createElement("path",{d:"M4.60449 8.13654L7.05821 5.68282H1.20703V4.31803H7.05821L4.58997 1.86431L5.4466 0.993164L9.45385 5.00042L5.46111 8.99316L4.60449 8.13654Z",fill:"#DDDDDD"})),Fm=({number:t,setNumber:s,total:a})=>e.jsxs("div",{className:"w-full flex justify-between items-center mt-4",children:[e.jsxs(T.Secondary,{className:"self-end hidden md:flex gap-x-2 items-center w-min justify-center border border-neutral-100",isDisabled:t===0,onPress:()=>t!==0?s(t-1):void 0,children:[e.jsx(Hl,{className:k("rotate-180",t===0?"text-neutral-300":"text-white")})," ",e.jsx("p",{className:t===0?"text-neutral-300":"text-white",children:"Previous"})]}),e.jsx("div",{className:"flex gap-x-2 items-center",children:(()=>{const n=[];for(let r=0;r<a;r++)n.push(e.jsx("button",{onClick:()=>s(r),className:k("px-4 py-1.5 rounded-lg",t===r&&"bg-neutral-100 text-white"),children:e.jsx("p",{className:"text-xs",children:r+1})},`pagination button ${r+1}`));return n})()}),e.jsxs(T.Secondary,{className:k("self-end hidden md:flex gap-x-2 items-center w-min justify-center"),isDisabled:t===a-1,onPress:()=>t!==a-1?s(t+1):void 0,children:[e.jsx("p",{className:t===a-1?"text-neutral-300":"text-white",children:"Next"})," ",e.jsx(Hl,{className:t===a-1?"text-neutral-300":"text-white"})]})]}),Um=["I agree that if any of the information in this Subscription Agreement changes, I will notify the Fund, c/o the General Partner, within 60 days thereof. I understand that the information contained herein may be disclosed to the Internal Revenue Service by the Fund and that any false statement contained herein could be punished by fine, imprisonment or both.","I have received and read a copy of the Bad Actor Questionnaire - Exhibit B and do not have a disqualifying event.","I have received and read a copy of the Term Sheet and the Amended and Restated Limited Partnership Agreement outlining the organization and investment and business purpose, and expenses, of an investment in the fund and understand and adopt all provisions therein.","I understand that an investment in the Fund entails a high degree of risk and there can be no assurance that the Fund will achieve its investment objective.","I have knowledge and experience in financial and business matters and I am capable of evaluating the merits and risks of an investment in the Fund.","I agree to the terms and conditions including the representations and covenants set forth in Section VII of the Subscriber Agreement."],Bm="I have read and acknowledged the Subscription Data Document, Tax Form, and Self-Certification Form and I attest to their accuracy",Wm="I have received and read a copy of the Sweep Program Opt-In Form and agree to the statements set forth on such form and that the Account Minimum will be set by my cash threshold.",qm="I acknowledge that I have read and understand the above information and agree to the terms and conditions stated therein.",$m=[{title:"Amended and Restated LPA",file:Mm},{title:"Subscription Document",file:_m},{title:"Term Sheet",file:Rm}],Hm=({hasReviewed:t,setDocsError:s,setHasReviewed:a,setSignDocuments:n,setStep:r,signDocuments:i})=>{const{notifyGenericError:l}=Be(),[o,u]=c.useState(!1),[d,x]=c.useState(!1),[m,f]=c.useState(0),[p,g]=c.useState(!1),[h,b]=c.useState(!1),[j,y]=c.useState(""),[C,w]=c.useState(),N=c.useRef(null);c.useEffect(()=>{const O=N.current,W=new IntersectionObserver(([$])=>{$.isIntersecting&&(y(""),b(!0))},{root:null,rootMargin:"0px",threshold:1});return O&&W.observe(O),()=>{O&&W.unobserve(O)}},[]);const v=jm(),[A,E]=c.useState($m),P=A.length;c.useEffect(()=>{(async()=>{const W=[...i];try{g(!0);const $=[];(await v.mutateAsync({})).forEach(({name:D,contents:M,contentType:B,fileType:_})=>{const F=new Uint8Array(M),U=new Blob([F],{type:B}),z=new File([U],D),se=window.URL.createObjectURL(z);$.push({title:D,file:se}),W.push({file:U,arrayBuffer:F,name:D,contents:M,contentType:B,fileType:_})}),E([...A,...$]),n(W)}catch($){l({title:"There was an issue creating your attestations document",description:"Please refresh the page and try again"}),s(`${$}`),r(De.DOCUMENTS_ERROR)}finally{g(!1)}})()},[]);const L=async()=>{y("");let O="";p&&(O="Documents are loading, please wait"),C||(O="Please indicate if you need additional assistance from Figure Markets"),(!d||!o||C==="NO"&&!t)&&(O="You must agree to all terms and conditions listed above"),h||(O="You must scroll through all terms and conditions stated above"),O?y(O):r(De.CONTINUE_TO_PHONE)};return e.jsxs("div",{className:"w-[calc(100vw-100px)] md:w-[calc(100vw-100px)] xl:w-[67.5rem] max-h-[calc(100vh-150px)] overflow-y-auto scrollbar-thin justify-center",children:[e.jsx("p",{className:"text-3xl text-white text-center font-extralight pb-6",children:"Review terms and agreements"}),e.jsxs("div",{className:"flex w-full flex-col xl:flex-row border border-neutral-100 rounded-lg",children:[e.jsxs("div",{className:"flex flex-col gap-y-4 py-6 px-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"w-full flex items-center justify-between pb-4 border-b border-neutral-100",children:[e.jsx("p",{className:"text-base font-bold text-left",children:"Agreements"}),e.jsxs(T.Secondary,{className:"flex gap-x-2 items-center",onPress:async()=>{try{const O=A[m],W=document.createElement("a");W.setAttribute("href",O.file),W.setAttribute("download",O.title),W.setAttribute("target","_blank"),W.click()}catch{l({title:"There was an issue downloading the documents",description:"Please try again, or contact support"})}},children:["Download",e.jsx(w1,{})]})]}),e.jsxs("div",{className:"w-full flex justify-between pt-2",children:[e.jsx("p",{className:"text-sm",children:A[m].title}),e.jsxs("p",{className:"text-sm font-bold",children:[m+1," of ",P]})]})]}),e.jsx("div",{className:"rounded-md border border-neutral-100 h-[31.25rem] max-w-[512px] overflow-y-scroll scrollbar-thin",children:p?e.jsx(_i,{className:"flex justify-self-center h-full overflow-hidden"}):e.jsx(i1,{file:A[m].file,pageProps:{width:490}})}),e.jsx(Fm,{number:m,setNumber:f,total:P})]}),e.jsxs("div",{className:"flex flex-col bg-[#161B24] xl:min-w-[462px] gap-y-8 p-6 rounded-r-lg",children:[e.jsxs("div",{className:"flex gap-x-4 border-b border-neutral-100 pb-4",children:[e.jsx("div",{className:"p-4 bg-figma-dark rounded-lg min-w-[120px] border-neutral-100 flex items-center justify-center",children:e.jsx("img",{src:y1,alt:"FRWD logo"})}),e.jsxs("div",{className:"flex flex-col gap-y-2 justify-start",children:[e.jsx("p",{className:"text-base font-bold text-center md:text-left",children:"Figure Markets — Forward Vault"}),e.jsx("p",{className:"text-sm text-neutral-300",children:"Figure Markets — Forward Vault aims to earn yield by lending to consumers borrowing against home equity"})]})]}),e.jsx("div",{className:"bg-figma-dark rounded-md p-4 max-h-[300px] overflow-y-auto scrollbar-thin",children:e.jsxs("ul",{className:"list-disc pl-4",children:[Um.map(O=>e.jsx("li",{className:"text-xs font-normal items-start mb-4",children:O},O)),e.jsx("span",{ref:N})]})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(Os,{className:"text-xs font-normal items-start",isSelected:o,onChange:u,children:e.jsx("p",{className:"text-xs font-normal",children:qm})}),e.jsx(Os,{className:"text-xs font-normal items-start",isSelected:d,onChange:x,children:e.jsx("p",{className:"text-xs font-normal",children:Wm})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-normal",children:"Do you need assistance with your documents? If you answer Yes, Figure Markets will reach out to assist and collect further information."}),e.jsxs("div",{className:"flex gap-2 my-4",children:[e.jsx(T.Primary,{onPress:()=>w("YES"),className:k("bg-transparent border-p-500 border",C==="YES"&&"bg-p-500"),children:"Yes"}),e.jsx(T.Primary,{onPress:()=>w("NO"),className:k("bg-transparent border-p-500 border",C==="NO"&&"bg-p-500"),children:"No"})]}),C==="NO"&&e.jsx(Os,{className:"text-xs font-normal items-start",isSelected:t,onChange:a,children:e.jsx("p",{className:"text-xs font-normal",children:Bm})})]})]}),e.jsx("div",{className:"flex items-end flex-grow justify-center",children:e.jsxs("div",{children:[j&&e.jsx("p",{className:"text-negative-300 w-full text-sm mb-2",children:j}),e.jsx(T.Primary,{className:"flex gap-x-2 self-end m-auto",onPress:L,children:"Agree and Proceed"})]})})]})]})]})},Vm=({amountToSweep:t,hasReviewed:s,oneTimePurchaseAmount:a,setStep:n,signDocuments:r,sweepEntireBalance:i})=>{var F;const{LRWAFundID:l,fetchSubs:o}=Ge(),{walletBridgeService:u}=Nt(),{notifyGenericError:d}=Be(),x=ym(),m=ll(),f=il(),{getAsset:p}=Te(),g=(F=p(Rs.USDC))==null?void 0:F.provenanceMarkerName,[h,b]=c.useState(!1),[j,y]=c.useState(""),[C,w]=c.useState(),[N,v]=c.useState(!1),[A,E]=c.useState(""),[P,L]=c.useState(!1),O=1e4,W=c.useRef(!0),$=async U=>{const z=U.reduce((Ve,Ft)=>Ve+Ft.length,0),se=new Uint8Array(z);let Ee=0;for(const Ve of U)se.set(Ve,Ee),Ee+=Ve.length;const Ue=await crypto.subtle.digest("SHA-256",se);return Array.from(new Uint8Array(Ue)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")},R=async U=>{const z={fundId:l,files:r.map(({file:se})=>se),fileTypes:r.map(({fileType:se})=>se),signature:U,affirmFormsCorrect:`${s}`,autoSweep:a>0?"false":"true"};return await x.mutateAsync({requestBody:z})},D=async U=>{await f.mutateAsync({requestBody:{subscriptionId:U,quantity:String(a),denom:g,orderType:"BUY"}})},M=async()=>{const U=await $(r.map(({arrayBuffer:se})=>se)),z=`${Date.now()}`;return E(z),await u.sign(U,{description:"Subscribe to Figure Markets Forward Vault",isBase64:!0,customId:z})},B=c.useCallback(async()=>{y(""),v(!1);try{w(window.setTimeout(()=>{v(!0)},O));const U=await M();if(clearTimeout(C),w(void 0),v(!1),U.success&&U.base64Signature){const z=await R(U.base64Signature);a?await D(z.id):t&&t>0&&!i&&await m.mutateAsync({requestBody:{minimumRemainingCashBalance:String(t)}}),L(!1),b(!0),o()}else{d({title:"There was an issue signing your subscription",description:U.message}),y(`There was an issue signing your subscription: ${U.message}`),L(!1),v(!0);return}}catch(U){d({title:"There was an issue submitting your subscription request",description:U.message||"Please refresh your screen and try again"}),y(`There was an issue submitting your subscription request: ${U.message}`),L(!1),v(!0)}},[t,x,o,s,l,d,v,r,i,m,u]),_=async()=>{A&&(await u.reject(A),E("")),await B()};return c.useEffect(()=>{W.current===!0&&(W.current=!1,B())},[B]),c.useEffect(()=>{h&&n(De.PENDING_REVIEW)},[h,n]),e.jsxs("div",{className:"w-[20.25rem] md:w-[30rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center flex flex-col",children:[e.jsx("p",{className:"text-3xl text-white text-center font-extralight pb-4",children:"Continue on your phone"}),e.jsx("img",{src:"https://www.datocms-assets.com/119559/1726240396-img-container.png",alt:"Mobile app view for RWA signature",className:"h-auto pb-6"}),j?e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm pb-6 text-negative-300",children:j})}):e.jsx("p",{className:"text-sm text-center pb-6",children:"An approval request will be sent to your Figure Markets Mobile App. Please sign and approve this transaction to finalize it."}),P&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(_i,{size:"sm"})}),N&&!P&&e.jsx("div",{className:"animate-in fade-in text-center duration-1000",children:e.jsx(T.Primary,{onPress:_,children:"Try Again"})})]})},Zm=({setStep:t,docsError:s,setDocsError:a})=>{const n=()=>{a(""),t(De.INFORMATION)};return e.jsxs("div",{className:"w-[calc(100vw-100px)] md:w-[calc(100vw-100px)] xl:w-[67.5rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center",children:[e.jsx("p",{className:"text-3xl text-white text-center font-extralight pb-6",children:"Review terms and agreements"}),e.jsx("p",{className:"m-4 font-bold",children:"Unexpected Error"}),e.jsx("p",{className:"m-4",children:"Unfortunately, we've encountered one or more issues with your request and were unable to generate your documents, click the button below to restart. If you continue having issues, please reach out to support."}),s&&e.jsx("p",{className:"m-4 text-negative-300 italic",children:s}),e.jsx(T.Primary,{className:"justify-self-center flex",onPress:n,children:"Restart"})]})},Rn={placeOfBirth:{label:"Place of Birth (City or Town and Country)",name:"placeOfBirth",placeholder:"Enter place of birth"},taxId:{label:"Tax ID",name:"taxId",placeholder:"Enter tax ID"}},Gm=({setStep:t})=>{var b;const{missingInformation:s,subscriber:a,marketLocation:n}=Ge(),r=s==null?void 0:s.taxId,{data:i,isLoading:l}=Pm({query:{locale:n!=="UNKNOWN_MARKET_LOCATION"&&n!=="UNRECOGNIZED"?n:void 0},queryOptions:{enabled:r}}),o=ll(),u=bm(),[d,x]=c.useState(""),m=async j=>{const y=a?o:u;try{await y.mutateAsync({requestBody:j}),t(De.TERMS_AND_AGREEMENTS)}catch(C){x(`${C}`)}},f=tt({taxId:mt().when("taxIdType",{is:"SSN",then:j=>j.matches(/^(?!666|000|9\d{2})\d{3}-(?!00)\d{2}-(?!0{4})\d{4}$/,"SSN must be in xxx-xx-xxxx format with dashes.").required("Required"),otherwise:j=>j.notRequired()}).when("taxIdType",{is:"ITIN",then:j=>j.matches(/^(9\d{2})([ \\-]?)([7]\d|8[0-8])([ \\-]?)(\d{4})$/,"ITIN must be in 9xx-7x-xxxx or 9xx-8x-xxxx format with dashes.").required("Required"),otherwise:j=>j.notRequired()}).when("taxIdType",{is:"FOREIGN_TIN",then:j=>j.matches(/.+/,"Invalid FOREIGN TIN format").required("Foreign TIN can be any non-empty value."),otherwise:j=>j.notRequired()}).when("taxIdType",{is:"EIN",then:j=>j.matches(/^(?![01][789]|2[89]|[46]9|7[089]|89|9[67])\d\d-\d{7}$/,"EIN must be in xx-xxxxxxx format with dashes.").required("Required"),otherwise:j=>j.notRequired()}),placeOfBirth:mt().when("$isPlaceOfBirthVisible",{is:!0,then:j=>j.required("Required"),otherwise:j=>j.notRequired()}),taxIdType:mt().when("$isTaxIdTypeVisible",{is:!0,then:j=>j.required("Required"),otherwise:j=>j.notRequired()})}),p=Xe({defaultValues:{placeOfBirth:"",taxId:void 0,taxIdType:void 0},resolver:et(f),context:{isPlaceOfBirthVisible:!!(s!=null&&s.placeOfBirth),isTaxIdTypeVisible:!!(s!=null&&s.taxId),isTaxIdVisible:!!(s!=null&&s.taxId)}}),g=p.watch();if(!s)return t(De.TERMS_AND_AGREEMENTS),"";const h=fr(s).filter(j=>!!s[j]);return e.jsxs("div",{className:"w-[calc(100vw-100px)] md:w-[calc(100vw-100px)] xl:w-[67.5rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center",children:[e.jsx("p",{className:"text-3xl text-white text-center font-extralight pb-6",children:"Additional Information Requested"}),e.jsx("p",{className:"m-4 font-bold text-center",children:"Looks like we need a few more pieces of information. Please fill out the fields below."}),e.jsx(st,{...p,children:e.jsx("form",{onSubmit:p.handleSubmit(async j=>{await m(j)}),children:e.jsxs("div",{className:"flex flex-col gap-4 max-w-[400px] justify-self-center bg-figma-neutral-dark p-10 rounded-md",children:[h.includes("taxId")&&i&&e.jsx(y4,{label:"Tax ID Type",dropdownOptions:i.map(({displayValue:j,value:y})=>({displayValue:j,value:y})),onSelect:j=>{p.setValue("taxIdType",j)},selectedItem:g.taxIdType||"",errorMessage:(b=p.formState.errors.taxIdType)==null?void 0:b.message,placeholder:"Select Tax ID Type",isInvalid:!!p.formState.errors.taxIdType}),h.map(j=>e.jsx(Pe.Text,{name:Rn[j].name,id:Rn[j].name,label:Rn[j].label,placeholder:Rn[j].placeholder},j)),e.jsx(T.Primary,{type:"submit",isDisabled:r&&l,children:"Submit"}),d&&e.jsx("div",{className:"text-negative-300 break-all",children:d})]})})})]})},zm=({className:t})=>e.jsxs("div",{className:k("max-w-[480px] text-center flex flex-col gap-4 justify-center items-center py-6 px-4",t),children:[e.jsx("img",{className:"size-10",src:"https://www.datocms-assets.com/119559/1721144988-figure-markets-png.png",alt:"markets"}),e.jsx("p",{className:"text-3xl text-white font-extralight",children:"Pending review"}),e.jsx("p",{className:"text-sm",children:"Our team is reviewing your information. Once approved your cash will begin earning yield. Figure Markets will reach out with any questions and to request additional documentation for tax purposes."})]}),Km=()=>{const{LRWAYield:t}=Ge(),{hasKrangBlocker:s,krangCtaInfo:a,isPassportPending:n}=Le();return e.jsxs("div",{className:"w-[20.25rem] md:w-[48rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center divide-y divide-neutral-100",children:[e.jsxs("p",{className:"text-3xl text-white text-center font-extralight pb-4",children:["Earn up to ",t||8,"% APY on your idle cash"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-x-4 items-center py-4",children:[e.jsx("img",{src:"https://www.datocms-assets.com/119559/1722630009-lwra.png",alt:"lrwa token",className:"w-auto h-[98px] rounded-lg mb-4 md:mb-0"}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx("p",{className:"text-base font-bold text-center md:text-left",children:"Figure Markets — Forward Vault"}),e.jsx("p",{className:"text-sm text-neutral-300",children:"Earn competitive yields on your stablecoins with liquidity and flexibility. Figure Markets — Forward, invests in low-risk, high-yield home equity loans from Figure Technology Solutions."})]})]}),s&&e.jsx("div",{className:"w-full h-full px-5 py-5 sm:py-3 flex flex-col sm:flex-row items-center gap-x-4 gap-y-2 rounded-lg mt-2",style:{background:"linear-gradient(268deg, rgba(0, 0, 0, 0.20) 19.24%, rgba(0, 0, 0, 0.00) 51.53%), linear-gradient(92deg, rgba(83, 28, 28, 0.20) 8.18%, rgba(104, 11, 11, 0.00) 52.04%), var(--Neutral-Dark, #1C2434)"},children:e.jsxs("div",{className:"flex gap-x-4 items-center w-full",children:[e.jsx(Gt,{className:"sm:max-w-[13.75rem] sm:max-h-[7.5rem]"}),e.jsxs("div",{className:"flex flex-col gap-y-1.5",children:[e.jsx("p",{className:"text-sm sm:text-base font-bold",children:n?"Your account is pending identity verification":a.title}),e.jsx("p",{className:"text-xs sm:text-sm font-normal",children:n?"Verification can take 1-3 business days, and you’ll be able to sign up once approved.":a.message})]})]})})]})},Ym="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='42'%20height='38'%20fill='none'%3e%3cpath%20stroke='%23BCE505'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'%20d='M23%205c0%202.2-5%204-11%204S1%207.2%201%205m22%200c0-2.2-5-4-11-4S1%202.8%201%205m22%200v3M1%205v24c0%202.2%205%204%2011%204m0-16h-1c-5.6-.2-10-2-10-4m11%2012c-6%200-11-1.8-11-4m40-3c0%202.2-5%204-11%204s-11-1.8-11-4m22%200c0-2.2-5-4-11-4s-11%201.8-11%204m22%200v15c0%202.2-5%204-11%204s-11-1.8-11-4V18m22%207.5c0%202.2-5%204-11%204s-11-1.8-11-4'%20/%3e%3c/svg%3e",Qm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='42'%20height='36'%20fill='none'%3e%3cpath%20stroke='%23BCE505'%20stroke-linecap='square'%20stroke-linejoin='round'%20stroke-width='2'%20d='M14.1%2033.53A17%2017%200%200%200%2035.72%209.5l-.5-.87M6.27%2026.5A17%2017%200%200%201%2027.9%202.47M1.99%2026.67l5.46%201.46%201.47-5.46m24.17-9.34%201.46-5.46L40%209.33'%20/%3e%3c/svg%3e",Vl=({className:t,imgAlt:s,imgSrc:a,onClick:n,text:r,title:i})=>e.jsxs("div",{className:k("rounded-lg p-4 flex gap-4 border-2 border-transparent bg-figma-neutral-darker cursor-pointer","hover:border-figma-primary-dark",t),onClick:n,role:"presentation",children:[e.jsx("div",{className:"rounded-md w-24 h-24 min-w-24 min-h-24 bg-[#1C222D] flex items-center justify-center",children:e.jsx("img",{src:a,alt:s})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-figma-neutral-light text-sm font-bolder mb-2",children:i}),e.jsx("p",{className:"text-figma-neutral text-sm font-medium",children:r})]})]}),Jm=({setStep:t})=>e.jsxs("div",{className:"max-w-[480px] flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-3xl text-figma-neutral-light text-center font-extralight",children:"How would you like to invest?"}),e.jsx("p",{className:"text-lg font-medium text-center text-figma-neutral",children:"You can change your selection later on, too"})]}),e.jsx(Vl,{onClick:()=>{t(De.ONE_TIME_INVESTMENT)},title:"One-Time Investment",text:"Make a single, upfront investment. Ideal for those who want control over timing and prefer a one-time commitment.",imgSrc:Ym,imgAlt:"One-Time Investment"}),e.jsx(Vl,{onClick:()=>t(De.CASH_TO_SWEEP),imgSrc:Qm,imgAlt:"Cash Sweep",title:"Cash Sweep",text:"Automatically invest excess cash as it accumulates. Great for a hands-off approach to keep your funds working continuously."})]}),ma=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:28,height:28,viewBox:"0 0 28 28",fill:"none",...t},c.createElement("circle",{cx:14,cy:14,r:14,fill:"#262626"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 24.0299C19.5393 24.0299 24.0299 19.5393 24.0299 14C24.0299 8.46067 19.5393 3.97015 14 3.97015C8.46067 3.97015 3.97015 8.46067 3.97015 14C3.97015 19.5393 8.46067 24.0299 14 24.0299ZM14 24.5C19.799 24.5 24.5 19.799 24.5 14C24.5 8.20101 19.799 3.5 14 3.5C8.20101 3.5 3.5 8.20101 3.5 14C3.5 19.799 8.20101 24.5 14 24.5Z",fill:"url(#paint0_linear_5988_51802)"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.3878 8.05513C14.1508 7.89699 13.842 7.89699 13.605 8.05513L9.06379 11.0853C8.86774 11.2161 8.75 11.4362 8.75 11.6719V15.1548L9.13276 14.9235V14.8152C9.13276 14.762 9.15972 14.7125 9.20437 14.6836L13.9059 11.6428C13.9576 11.6092 14.0243 11.6092 14.0761 11.6428L18.7776 14.6836C18.8222 14.7125 18.8492 14.762 18.8492 14.8152V14.9243L19.2428 15.1622V11.6719C19.2428 11.4362 19.1251 11.2161 18.929 11.0853L14.3878 8.05513ZM19.2149 15.6685L18.8492 15.4475V17.8905C18.8492 17.9771 18.779 18.0473 18.6925 18.0473H9.28948C9.20293 18.0473 9.13276 17.9771 9.13276 17.8905V15.4467L8.76709 15.6677V17.8905C8.76709 18.179 9.00097 18.4129 9.28948 18.4129H18.6925C18.981 18.4129 19.2149 18.179 19.2149 17.8905V15.6685ZM18.8771 14.3125V11.6719C18.8771 11.5584 18.8205 11.4525 18.7261 11.3895L14.1849 8.3593C14.0708 8.28316 13.922 8.28316 13.8079 8.3593L9.26676 11.3895C9.17236 11.4525 9.11567 11.5584 9.11567 11.6719V14.3055L13.7073 11.3357C13.8799 11.224 14.102 11.224 14.2747 11.3357L18.8771 14.3125Z",fill:"url(#paint1_linear_5988_51802)"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_5988_51802",x1:3.11963,y1:15.0781,x2:24.0764,y2:11.1307,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#5D57F8"}),c.createElement("stop",{offset:.440857,stopColor:"#4DE0B5"}),c.createElement("stop",{offset:.983193,stopColor:"#DFFF00"})),c.createElement("linearGradient",{id:"paint1_linear_5988_51802",x1:8.55995,y1:13.7126,x2:19.0301,y2:11.7373,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#5D57F8"}),c.createElement("stop",{offset:.440857,stopColor:"#4DE0B5"}),c.createElement("stop",{offset:.983193,stopColor:"#DFFF00"})))),Xm=({setStep:t,setMissingInformation:s,setOneTimePurchaseAmount:a})=>{var h;const{walletAddress:n}=ee(),{data:r,refetch:i}=yn({walletAddress:n}),{balances:l}=Ge();c.useEffect(()=>{i()},[i]);const[o,u]=c.useState(!1),{data:d,isFetched:x}=C1();c.useEffect(()=>{x&&d&&fr(d).some(b=>d[b])&&(u(!0),s(d))},[x,d,s]);const m=r?I(Number((h=r.cashEquivalentPositions.find(b=>b.denom==="USDC"))==null?void 0:h.tradingPower)).toNumber():0,f=tt({amount:qe().test("minimum","Amount must be greater than 0",(b,j)=>Number(b==null?void 0:b.value)>0?!0:j.createError({path:j.path,message:"Amount must be greater than 0"})).test("maximum","Amount must be less than or equal to the available USDC",(b,j)=>Number(b==null?void 0:b.value)<=m?!0:j.createError({path:j.path,message:`Amount is greater than the available amount of ${m} USDC`}))}),p=Xe({defaultValues:{amount:ht()},mode:"onSubmit",resolver:et(f)}),g=async({amount:b})=>{b!=null&&b.value&&(a(b==null?void 0:b.value),t(o?De.MISSING_INFORMATION:De.TERMS_AND_AGREEMENTS))};return e.jsx(st,{...p,children:e.jsx("form",{onSubmit:p.handleSubmit(async b=>await g(b)),children:e.jsxs("div",{className:"w-[20rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center flex flex-col gap-y-4",children:[e.jsxs("div",{className:"relative w-full text-center",children:[e.jsx(T.Back,{className:"absolute top-0 left-0 pt-0.5",onPress:()=>t(De.INVESTMENT_TYPE)}),e.jsx("p",{className:"text-sm font-bold",children:"One-Time Investment"})]}),e.jsxs("div",{children:[e.jsx(Xt,{className:"text-xs font-bold text-white",children:"Amount "}),e.jsx(Pe.Currency,{displayName:"USDC",name:"amount"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3.5 flex gap-x-2 items-center",children:[e.jsx(ue,{coin:"USDC",className:"size-8"}),e.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[e.jsxs("p",{className:"text-xs font-semibold",children:[e.jsx("span",{className:"text-neutral-300",children:"To"})," USDC"]}),e.jsxs("p",{className:"font-normal text-xs",children:[m," USDC Available"]})]})]}),e.jsxs("div",{className:"relative w-full flex justify-center",children:[e.jsx("div",{className:"h-6 w-10 text-p-500",children:e.jsx(al,{flowDirection:"down"})}),e.jsx(Cn,{className:"absolute size-3 rotate-[270deg] text-p-500 bottom-0"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3.5 flex gap-x-2 items-center",children:[e.jsx(ma,{className:"size-8"}),e.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[e.jsxs("p",{className:"text-xs font-semibold",children:[e.jsx("span",{className:"text-neutral-300",children:"From"})," FRWD"]}),e.jsxs("p",{className:"font-normal text-xs",children:[(l==null?void 0:l.balance)||0," FRWD Available"]})]})]})]}),m===0&&e.jsx(G,{variant:"error",children:"You do not have any available USDC to enable a One-Time Investment"}),e.jsx(T.Primary,{className:"mt-2",isDisabled:m===0||!!p.formState.errors.amount,type:"submit",children:"Submit"})]})})})},Zl="lrwaModalStep",e7=()=>{const{shouldShowLRWASignUpModal:t,LRWADataLoading:s,shouldShowLRWABanner:a,isMarketUS:n}=Ge(),{amountToSweep:r,docsError:i,hasReviewed:l,oneTimePurchaseAmount:o,onModalClose:u,setAmountToSweep:d,setDocsError:x,setHasReviewed:m,setMissingInformation:f,setOneTimePurchaseAmount:p,setSignDocuments:g,setStep:h,setSweepEntireBalance:b,signDocuments:j,step:y,sweepEntireBalance:C}=z6(),{isAuthenticatedWithCookie:w}=ee(),[N,v]=Oa(),{fsmStepResponse:A,hasLoaded:E}=Le();return c.useEffect(()=>{const P=N.get(Zl);E&&P&&fr(De).includes(P)&&w&&!s&&(a&&h(P),N.delete(Zl),v(N))},[E,w,s,N,v,h,a,n,A]),e.jsx(b1,{disabled:!a,licensingJurisdictionFeature:"SWEEP",onCloseWithoutConsent:u,children:e.jsx($e,{isOpen:t,onClose:u,ariaLabel:"enable FRWD sweep",useChildrenWidth:!0,children:(()=>{switch(y){case De.KRANG_STEP:return e.jsx(Km,{});case De.INFORMATION:return e.jsx(gm,{setStep:h});case De.CASH_TO_SWEEP:return e.jsx(Om,{setAmountToSweep:d,setMissingInformation:f,setStep:h,setSweepEntireBalance:b,sweepEntireBalance:C});case De.MISSING_INFORMATION:return e.jsx(Gm,{setStep:h});case De.INVESTMENT_TYPE:return e.jsx(Jm,{setStep:h});case De.ONE_TIME_INVESTMENT:return e.jsx(Xm,{setMissingInformation:f,setStep:h,setOneTimePurchaseAmount:p});case De.TERMS_AND_AGREEMENTS:return e.jsx(Hm,{hasReviewed:l,setDocsError:x,setHasReviewed:m,setSignDocuments:g,setStep:h,signDocuments:j});case De.DOCUMENTS_ERROR:return e.jsx(Zm,{docsError:i,setDocsError:x,setStep:h});case De.CONTINUE_TO_PHONE:return e.jsx(Vm,{amountToSweep:r,hasReviewed:l,oneTimePurchaseAmount:o,setStep:h,signDocuments:j,sweepEntireBalance:C});case De.PENDING_REVIEW:return e.jsx(zm,{});default:return null}})()})})},ut={MANAGE:"MANAGE",SWEEP_UPDATED:"SWEEP_UPDATED",REDEEM:"REDEEM",SWEEP_DISABLED:"SWEEP_DISABLED",ONE_TIME_INVESTMENT:"ONE_TIME_INVESTMENT"},t7=ut.MANAGE,s7=()=>{const{onLRWAManageModalClose:t,shouldShowLRWAManageModal:s,LRWASubscriptionMinAmount:a,fetchSubInfo:n,LRWADataLoading:r}=Ge(),{isAuthenticatedWithCookie:i}=ee(),[l,o]=c.useState(t7),[u,d]=c.useState(Number(a)===0),[x,m]=c.useState(0);return c.useEffect(()=>{r||d(Number(a)===0)},[a,r,s]),{amountToSweep:x,onModalClose:()=>{i&&(n(),o(ut.MANAGE),d(Number(a)===0),m(0),t())},setAmountToSweep:m,setStep:o,setSweepEntireBalance:d,step:l,sweepEntireBalance:u}},a7=({checked:t,onSweepToggle:s})=>e.jsxs("div",{className:"flex gap-x-2 py-2.5",children:[e.jsx("span",{className:"text-xs font-bold",children:"Sweep Enabled"}),e.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:s,className:"sr-only peer"}),e.jsx("div",{className:"relative w-9 p-0.5 h-5 bg-neutral-100 peer-focus:outline-none peer-checked:bg-primary-500 peer-checked:from-gradientMargin-dark-left peer-checked:to-gradientMargin-dark-right rounded-full peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:text-center after:absolute after:top-[2px] after:start-[2px] after:bg-dark after:rounded-full after:h-4 after:w-4 after:transition-all"})]})]}),n7=({setStep:t,sweepEntireBalance:s,setSweepEntireBalance:a,setAmountToSweep:n,onModalClose:r})=>{const{LRWASweepEnabled:i,LRWASubscriptionMinAmount:l,LRWASubscriptionID:o,fetchSubs:u,balances:d}=Ge(),x=Ye(),m=ll(),f=N1(),{notifyGenericError:p}=Be(),g=tt({amount:qe().test({test:y=>s?!0:Number(y==null?void 0:y.value)>0,message:"Amount must be greater than 0"})}),{...h}=Xe({defaultValues:{amount:l?{value:I(l||0).toNumber(),display:l}:ht()},resolver:et(g)}),b=h.watch("amount");c.useEffect(()=>{Number(b==null?void 0:b.value)>0?a(!1):a(!0)},[a,b]);const j=async()=>{await f.mutateAsync({path:{subId:o},requestBody:{deactivate:!0}})};return e.jsxs("div",{className:"w-[calc(100vw-80px)] md:w-[43.063rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center",children:[e.jsxs("div",{className:"flex justify-center items-center gap-x-1 mb-4",children:[e.jsx(ma,{className:"size-8"}),e.jsx("p",{className:"text-xl md:text-3xl text-white text-center font-extralight",children:"Figure Markets Forward Vault"})]}),e.jsxs("div",{className:"border border-neutral-100 rounded-t-lg p-4 flex justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-y-0.5 justify-center",children:[e.jsxs("p",{className:"text-sm font-bold flex gap-x-1 items-center",children:["Balance",e.jsx(Me,{className:"max-w-[257px]",iconClassname:"flex flex-start",description:"Cash is swept daily at 9AM ET.",closeDelay:0})]}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx("p",{className:"font-extralight text-3xl",children:xe(Number((d==null?void 0:d.balance)||0),!0,!1,2," ")}),e.jsx(Z,{size:"xxs",variant:"coin",children:"USDC"})]}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx(ma,{className:"size-4"}),e.jsxs("p",{className:"text-sm text-neutral-300",children:[(d==null?void 0:d.balance)||0," FRWD"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-2 items-end md:items-start",children:[e.jsx(T.Secondary,{className:"w-full",onPress:()=>t(ut.REDEEM),children:"Redeem"}),e.jsx(T.Secondary,{className:"w-full",onPress:()=>{r(),x(re.home("transfers"))},children:"Transfer History"}),!js&&e.jsx(T.Alert,{className:"w-full",onPress:j,children:"Deactivate"}),e.jsx(a7,{onSweepToggle:async()=>{try{i?t(ut.SWEEP_DISABLED):(await f.mutateAsync({path:{subId:o},requestBody:{autoSweep:!i}}),u())}catch(y){p({title:"There was an issue submitting your sweep update request",description:y.message||"Please refresh your screen and try again"})}},checked:i})]})]}),e.jsxs("div",{className:"border border-neutral-100 border-t-0 rounded-b-lg p-4 grid grid-cols-1 gap-y-4 md:gap-y-0 divide-neutral-100 md:grid-cols-3 justify-start mb-4",children:[e.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[e.jsxs("p",{className:"text-sm font-bold flex gap-x-1 items-center",children:["Current yield",e.jsx(Me,{className:"max-w-[257px]",iconClassname:"flex flex-start",description:"Current yield is updated every business day, shortly after the SOFR is published at approximately 8AM ET.",closeDelay:0})]}),e.jsxs("p",{className:"font-extralight text-xl",children:[d==null?void 0:d.currentYieldRate,"%"]})]}),e.jsxs("div",{className:"flex flex-col gap-y-0.5 pt-2 md:pt-0",children:[e.jsxs("p",{className:"text-sm font-bold flex gap-x-1 items-center",children:["Accrued yield MTD"," ",e.jsx(Me,{className:"max-w-[257px]",iconClassname:"flex flex-start",description:"The amount of yield your FRWD position has earned this month.",closeDelay:0})]}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx("p",{className:"font-extralight text-xl",children:xe(Number((d==null?void 0:d.yieldAccrued)||0),!0,!1,2," ")}),e.jsx(Z,{size:"xxs",variant:"coin",children:"FRWD"})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-0.5 pt-2 md:pt-0",children:[e.jsxs("p",{className:"text-sm font-bold flex gap-x-1 items-center",children:["Total yield YTD"," ",e.jsx(Me,{className:"max-w-[257px]",iconClassname:"flex flex-start",description:"The total amount of yield that has been distributed as FRWD to you this year.",closeDelay:0})]}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx("p",{className:"font-extralight text-xl",children:xe(Number((d==null?void 0:d.totalYieldEarned)||0),!0,!1,2," ")}),e.jsx(Z,{size:"xxs",variant:"coin",children:"FRWD"})]})]})]}),!i&&e.jsxs("div",{className:"border border-neutral-100 rounded-b-lg p-4 mb-4 flex flex-col gap-4 justify-between items-center md:flex-row",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-center md:text-left mb-1",children:"Make a one time purchase"}),e.jsx("p",{className:"text-figma-neutral text-xxs leading-[14px] font-medium ml-2",children:"Make a single, upfront investment. Ideal for those who want control over timing and prefer a one-time commitment."})]}),e.jsx("div",{className:"w-full md:w-1/2 md:text-right",children:e.jsx(T.Secondary,{className:"w-full md:max-w-40",onPress:()=>t(ut.ONE_TIME_INVESTMENT),children:"One time purchase"})})]}),e.jsx(st,{...h,children:e.jsx("form",{onSubmit:h.handleSubmit(async y=>{var w;const C=I(((w=y.amount)==null?void 0:w.value)||0).toNumber();n(C);try{C&&C>0&&!s?(await m.mutateAsync({requestBody:{minimumRemainingCashBalance:String(C)}}),u()):s&&await m.mutateAsync({requestBody:{minimumRemainingCashBalance:"0"}})}catch(N){p({title:"There was an issue submitting your sweep update request",description:N.message||"Please refresh your screen and try again"})}t(ut.SWEEP_UPDATED)}),children:e.jsxs("div",{className:"flex w-full flex-col md:flex-row",children:[e.jsxs("div",{className:"flex flex-col gap-y-2 p-4 border border-neutral-100 rounded-t-lg md:rounded-l-lg md:w-1/2",children:[e.jsx("p",{className:"text-sm font-bold text-center md:text-left",children:"Update your cash sweep settings"}),e.jsxs("ul",{className:"list-disc text-neutral-300 text-xs pl-4",children:[e.jsx("li",{className:"pb-2",children:"Forward Vault sweeps occur daily at 9 AM ET."}),e.jsx("li",{className:"pb-2",children:"Reserve a portion of your stablecoins as a trading balance for instant transactions on Figure Markets."}),e.jsx("li",{className:"pb-2",children:"Use your reserve for trades and other Figure Markets activities."}),e.jsxs("li",{className:"pb-2",children:["Any stablecoins above your reserve is automatically invested in Forward Vault, earning up to"," ",(d==null?void 0:d.currentYieldRate)||8,"% APY with each deposit of additional funds."]})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-2 p-4 border border-neutral-100 rounded-b-lg md:rounded-r-lg md:w-1/2",children:[e.jsx("p",{className:"text-sm font-bold text-center md:text-left",children:"How much stablecoin do you want to hold?"}),e.jsx(Xt,{className:"text-xs text-neutral-300",children:"Enter the amount of stablecoins you want to keep in your account for trading. Any amount above this will automatically be swept into Figure Markets — Forward Vault."}),e.jsx(Pe.Currency,{displayName:"USDC",name:"amount"}),e.jsxs("div",{className:"w-full flex items-center justify-center gap-x-2",children:[e.jsx("hr",{className:"border border-transparent bg-neutral-100 h-px w-full"}),e.jsx("p",{className:"text-xs text-neutral-300",children:"or"}),e.jsx("hr",{className:"border border-transparent bg-neutral-100 h-px w-full"})]}),e.jsx(Os,{className:"text-xxs font-bold",isSelected:s,onChange:y=>{a(y),y?h.setValue("amount",{value:0,display:"0.00"}):h.setValue("amount",l?{value:I(l||0).toNumber(),display:l}:ht()),h.clearErrors()},children:"Sweep my entire stablecoin balance"}),e.jsx(T.Primary,{className:"w-full my-4",type:"submit",isDisabled:l===(b==null?void 0:b.display),children:"Update"})]})]})})})]})},r7=({watchAmount:t,amountWillSweep:s,sweepEntireBalance:a})=>{const{LRWASubscriptionMinAmount:n,balances:r}=Ge(),i=Number(t==null?void 0:t.value),l=Number(r==null?void 0:r.balance)>0&&I(t==null?void 0:t.value).div(r==null?void 0:r.balance).gte(.8),o=I(t==null?void 0:t.value).eq((r==null?void 0:r.balance)||0);return e.jsxs("div",{className:"w-[20.25rem] md:w-[30rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center flex flex-col gap-y-2",children:[e.jsx(tl,{className:"size-[3.125rem] self-center"}),e.jsxs("p",{className:"text-3xl text-white text-center font-extralight py-2",children:["Redemption ",l||o?"In Progress":"Request Submitted"]}),e.jsxs("p",{className:"text-sm text-center pb-6",children:["You've successfully redeemed ",i," FRWD tokens for ",i," USDC."]}),e.jsx(G,{variant:"warning",children:"All redemptions are reviewed by our team; it will take several days for proceeds to be included in your USDC balance."}),s&&!l&&!o&&e.jsxs(G,{variant:"warning",children:["Warning: Your USDC reserve is set"," ",a?"to sweep all USDC into Forward Vault. ":`at ${n} USDC. `,"Redeeming and holding a balance above your sweep reserve will result in your excess being automatically"," ",e.jsx("span",{className:"font-bold",children:"swept back"})," into Forward Vault during the next sweep. Cash sweeps are done daily at 9 AM ET."]}),o&&e.jsx(G,{variant:"warning",children:"Liquidating all of your FRWD tokens will remove you from Forward Vault. You will be required to complete the onboarding process again to re-enable automatic sweeping."})]})},i7=({setStep:t,sweepEntireBalance:s})=>{var w;const{balances:a,LRWASubscriptionMinAmount:n,LRWASubscriptionID:r}=Ge(),{notifyGenericError:i}=Be(),{walletAddress:l}=ee(),{data:o}=yn({walletAddress:l}),[u,d]=c.useState(0),[x,m]=c.useState(!1),{getAsset:f}=Te(),p=(w=f(Rs.USDC))==null?void 0:w.provenanceMarkerName,g=il();c.useEffect(()=>{var N;o&&d(I(Number((N=o.cashEquivalentPositions.find(v=>v.denom==="USDC"))==null?void 0:N.tradingPower)).toNumber())},[o]);const h=tt({amount:qe().test("minimum","Amount must be greater than 0",(N,v)=>Number(N==null?void 0:N.value)>0?!0:v.createError({path:v.path,message:"Amount must be greater than 0"})).test("maximum","Amount must be less than or equal to the available FRWD",(N,v)=>Number(N==null?void 0:N.value)<=Number(a==null?void 0:a.balance)?!0:v.createError({path:v.path,message:`Amount is greater than the available amount of ${a==null?void 0:a.balance} FRWD`}))}),{...b}=Xe({defaultValues:{amount:ht()},mode:"all",resolver:et(h)});c.useEffect(()=>{Number(a==null?void 0:a.balance)===0&&b.setError("amount",{message:"You have no FRWD to redeem at this time."})});const j=b.watch("amount"),[y,C]=c.useState(!1);return c.useEffect(()=>{C(I(String(j==null?void 0:j.value)).plus(String(u)).gt(n))},[n,u,j]),x?e.jsx(r7,{amountWillSweep:y,sweepEntireBalance:s,watchAmount:j}):e.jsx(st,{...b,children:e.jsx("form",{onSubmit:b.handleSubmit(async({amount:N})=>{try{await g.mutateAsync({requestBody:{subscriptionId:r,quantity:String(N==null?void 0:N.value),denom:p,orderType:"SELL"}}),m(!0)}catch(v){i({title:"There was an issue submitting your sweep update request",description:v.message||"Please refresh your screen and try again"})}}),children:e.jsxs("div",{className:"w-[20rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center flex flex-col gap-y-4",children:[e.jsxs("div",{className:"relative w-full text-center",children:[e.jsx(T.Back,{className:"absolute top-0 left-0 pt-0.5",onPress:()=>t(ut.MANAGE)}),e.jsx("p",{className:"text-sm font-bold",children:"Redeem FRWD"})]}),e.jsxs("div",{children:[e.jsx(Xt,{className:"text-xs font-bold text-white",children:"Amount "}),e.jsx(Pe.Currency,{displayName:"FRWD",name:"amount"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3.5 flex gap-x-2 items-center",children:[e.jsx(ma,{className:"size-8"}),e.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[e.jsxs("p",{className:"text-xs font-semibold",children:[e.jsx("span",{className:"text-neutral-300",children:"From"})," FRWD"]}),e.jsxs("p",{className:"font-normal text-xs",children:[(a==null?void 0:a.balance)||0," FRWD Available"]})]})]}),e.jsxs("div",{className:"relative w-full flex justify-center",children:[e.jsx("div",{className:"h-6 w-10 text-p-500",children:e.jsx(al,{flowDirection:"down"})}),e.jsx(Cn,{className:"absolute size-3 rotate-[270deg] text-p-500 bottom-0"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3.5 flex gap-x-2 items-center",children:[e.jsx(ue,{coin:"USDC",className:"size-8"}),e.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[e.jsxs("p",{className:"text-xs font-semibold",children:[e.jsx("span",{className:"text-neutral-300",children:"To"})," USDC"]}),e.jsxs("p",{className:"font-normal text-xs",children:[u," USDC Available"]})]})]})]}),e.jsx(G,{variant:"warning",children:"All redemptions are reviewed by our team; it will take several days for proceeds to be included in your USDC balance."}),Number(a==null?void 0:a.balance)!==0&&y&&!I(j==null?void 0:j.value).eq((a==null?void 0:a.balance)||0)&&e.jsxs(G,{variant:"warning",children:["Warning: Your USDC reserve is set"," ",s?"to sweep all USDC into Forward Vault. ":`at ${n} USDC. `,"Redeeming and holding a balance above your sweep reserve will result in your excess being automatically"," ",e.jsx("span",{className:"font-bold",children:"swept back"})," into Forward Vault during the next sweep. Cash sweeps are done daily at 9 AM ET."]}),Number(a==null?void 0:a.balance)!==0&&I(j==null?void 0:j.value).eq((a==null?void 0:a.balance)||0)&&e.jsx(G,{variant:"warning",children:"Liquidating all of your FRWD tokens will remove you from Forward Vault. You will be required to complete the onboarding process again to re-enable automatic sweeping."}),e.jsx(T.Primary,{className:"mt-2",isDisabled:Number(a==null?void 0:a.balance)===0||!!b.formState.errors.amount,type:"submit",children:"Redeem to USDC"})]})})})},l7=({setStep:t})=>{const{LRWASubscriptionID:s,fetchSubs:a}=Ge(),[n,r]=c.useState(!1),{notifyGenericError:i}=Be(),l=N1();return e.jsxs("div",{className:"w-[20.25rem] md:w-[30rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center flex flex-col",children:[e.jsx(tl,{className:"size-[3.125rem] self-center"}),e.jsx("p",{className:"text-3xl text-white text-center font-extralight py-2",children:"Disabled cash sweep?"}),e.jsx("p",{className:"text-sm text-center pb-6",children:"Are you sure you want to disable automatic cash sweeping? You'll still retain all of your FRWD tokens, but any new deposits added to your account won't be automatically invested in Forward Vault."}),e.jsxs("div",{className:"flex gap-x-2 w-full",children:[e.jsx(T.Secondary,{isDisabled:n,onPress:()=>t(ut.MANAGE),className:"w-full",children:"Cancel"}),e.jsx(T.Primary,{className:"w-full",isDisabled:n,onPress:async()=>{r(!0);try{await l.mutateAsync({path:{subId:s},requestBody:{autoSweep:!1}}),a(),r(!1),t(ut.MANAGE)}catch(o){r(!1),i({title:"There was an issue submitting your sweep update request",description:o.message||"Please refresh your screen and try again"})}},children:"Disable"})]})]})},o7=({amountToSweep:t,sweepEntireBalance:s})=>e.jsxs("div",{className:"w-[20.25rem] md:w-[30rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center flex flex-col",children:[e.jsx(tl,{className:"size-[3.125rem] self-center"}),e.jsx("p",{className:"text-3xl text-white text-center font-extralight py-2",children:"Sweep settings updated"}),e.jsx("p",{className:"text-sm text-center pb-6",children:s?"Any USDC in your wallet will be automatically invested in Forward Vault.":`Your cash reserve is now set at ${xe(t,!0,!1,2,"USDC")}. Any excess USDC in your wallet will be automatically invested in Forward Vault.`})]}),c7=({setStep:t})=>{var h,b;const{walletAddress:s}=ee(),a=il(),{data:n,refetch:r}=yn({walletAddress:s}),{balances:i,LRWASubscriptionID:l}=Ge(),{getAsset:o}=Te(),u=(h=o(Rs.USDC))==null?void 0:h.provenanceMarkerName,[d,x]=c.useState("");c.useEffect(()=>{r()},[r]);const m=n?I(Number((b=n.cashEquivalentPositions.find(j=>j.denom==="USDC"))==null?void 0:b.tradingPower)).toNumber():0,f=tt({amount:qe().test("minimum","Amount must be greater than 0",(j,y)=>Number(j==null?void 0:j.value)>0?!0:y.createError({path:y.path,message:"Amount must be greater than 0"})).test("maximum","Amount must be less than or equal to the available USDC",(j,y)=>Number(j==null?void 0:j.value)<=m?!0:y.createError({path:y.path,message:`Amount is greater than the available amount of ${m} USDC`}))}),p=Xe({defaultValues:{amount:ht()},mode:"onSubmit",resolver:et(f)}),g=async({amount:j})=>{try{j!=null&&j.value&&(await a.mutateAsync({requestBody:{subscriptionId:l,quantity:String(j.value),denom:u,orderType:"BUY"}}),t(ut.MANAGE))}catch(y){x(`${y}`)}};return e.jsx(st,{...p,children:e.jsx("form",{onSubmit:p.handleSubmit(async j=>await g(j)),children:e.jsxs("div",{className:"w-[20rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center flex flex-col gap-y-4",children:[e.jsxs("div",{className:"relative w-full text-center",children:[e.jsx(T.Back,{className:"absolute top-0 left-0 pt-0.5",onPress:()=>t(ut.MANAGE)}),e.jsx("p",{className:"text-sm font-bold",children:"One-Time Investment"})]}),e.jsxs("div",{children:[e.jsx(Xt,{className:"text-xs font-bold text-white",children:"Amount "}),e.jsx(Pe.Currency,{displayName:"USDC",name:"amount"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3.5 flex gap-x-2 items-center",children:[e.jsx(ue,{coin:"USDC",className:"size-8"}),e.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[e.jsxs("p",{className:"text-xs font-semibold",children:[e.jsx("span",{className:"text-neutral-300",children:"To"})," USDC"]}),e.jsxs("p",{className:"font-normal text-xs",children:[m," USDC Available"]})]})]}),e.jsxs("div",{className:"relative w-full flex justify-center",children:[e.jsx("div",{className:"h-6 w-10 text-p-500",children:e.jsx(al,{flowDirection:"down"})}),e.jsx(Cn,{className:"absolute size-3 rotate-[270deg] text-p-500 bottom-0"})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-3.5 flex gap-x-2 items-center",children:[e.jsx(ma,{className:"size-8"}),e.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[e.jsxs("p",{className:"text-xs font-semibold",children:[e.jsx("span",{className:"text-neutral-300",children:"From"})," FRWD"]}),e.jsxs("p",{className:"font-normal text-xs",children:[(i==null?void 0:i.balance)||0," FRWD Available"]})]})]})]}),m===0&&e.jsx(G,{variant:"error",children:"You do not have any available USDC to enable a One-Time Investment"}),d&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm pb-6 text-negative-300",children:d})}),e.jsx(T.Primary,{className:"mt-2",isDisabled:m===0||!!p.formState.errors.amount,type:"submit",children:"Submit"})]})})})},d7=()=>{const{shouldShowLRWAManageModal:t}=Ge(),{amountToSweep:s,onModalClose:a,setAmountToSweep:n,setStep:r,step:i,sweepEntireBalance:l,setSweepEntireBalance:o}=s7(),{getAsset:u}=Te();return c.useEffect(()=>{!u(Rs.LRWA)&&t&&a()},[u,t]),e.jsx($e,{isOpen:t,onClose:a,ariaLabel:"enable FRWD sweep",useChildrenWidth:!0,children:(()=>{switch(i){case ut.REDEEM:return e.jsx(i7,{setStep:r,sweepEntireBalance:l});case ut.SWEEP_DISABLED:return e.jsx(l7,{setStep:r});case ut.SWEEP_UPDATED:return e.jsx(o7,{amountToSweep:s,sweepEntireBalance:l});case ut.MANAGE:return e.jsx(n7,{onModalClose:a,setAmountToSweep:n,sweepEntireBalance:l,setSweepEntireBalance:o,setStep:r});case ut.ONE_TIME_INVESTMENT:return e.jsx(c7,{setStep:r});default:return null}})()})};function u7(){const{refetchMarginTrading:t,onDisableMarginModalClose:s}=at(),a=Be(),n=Xu();return{onDisableMargin:async()=>{const i=await n.mutateAsync();s(),i.status==="CANCELLED"?(await t(),a.notifyMarginDisabled()):a.notifyGenericError({title:"Error Disabling Margin",description:"Please try again."})}}}const v1=()=>{const{onDisableMargin:t}=u7(),{isDisableModalOpen:s,onDisableMarginModalClose:a}=at();return e.jsxs($e,{isOpen:s,onClose:a,ariaLabel:"disable margin trading",children:[e.jsx(ne,{onBack:a,children:"Disable Margin Trading"}),e.jsx("div",{className:"mx-auto",children:e.jsx(sl,{})}),e.jsx("p",{className:"text-xs",children:"After disabling margin trading, your trades will be backed with USD or USDC in your account, instead of margin loans."}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(T.Primary,{onPress:t,children:"Disable Margin"}),e.jsx(T.Secondary,{onPress:a,children:"Cancel"})]})]})},L1=({cashEquivalence:t})=>{var u,d,x,m,f,p;const{isOutstandingModalOpen:s,isForeign:a,outstandingLoans:n,onOutstandingLoanModalClose:r}=at(),i=((u=n==null?void 0:n.find(g=>g.currency==="USD"))==null?void 0:u.balance)||0,l=((d=n==null?void 0:n.find(g=>g.currency==="USDC"))==null?void 0:d.balance)||0,o=((x=n==null?void 0:n.find(g=>g.currency==="USDT"))==null?void 0:x.balance)||0;return e.jsxs($e,{isOpen:s,onClose:r,ariaLabel:"outstanding loans margin trading",children:[e.jsx(ne,{onBack:r,children:"Close Out Loans to Disable Margin"}),e.jsxs("div",{className:"bg-neutral-100 p-4 flex flex-col gap-y-4 rounded",children:[i>0&&!a&&e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"font-bold",children:e.jsx(V,{value:i,decimalPlaces:i>1?2:7,currencySymbol:"USD"})}),e.jsx("span",{className:"text-xxs font-bold",children:"Outstanding USD Loan"})]}),l>0&&e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"font-bold",children:e.jsx(V,{value:l,decimalPlaces:l>1?2:7,currencySymbol:"USDC"})}),e.jsx("span",{className:"text-xxs font-bold",children:"Outstanding USDC Loan"})]}),o>0&&e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"font-bold",children:e.jsx(V,{value:o,decimalPlaces:o>1?2:7,currencySymbol:"USDT"})}),e.jsx("span",{className:"text-xxs font-bold",children:"Outstanding USDT Loan"})]}),!a&&i>0&&e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"font-bold",children:e.jsx(V,{value:(m=t==null?void 0:t.find(g=>g.denom==="USD"))==null?void 0:m.tradingPower,decimalPlaces:2,currencySymbol:"USD"})}),e.jsx("span",{className:"text-xxs font-bold",children:"Trading Balance"})]}),l>0&&e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"font-bold",children:e.jsx(V,{value:(f=t==null?void 0:t.find(g=>g.denom==="USDC"))==null?void 0:f.tradingPower,decimalPlaces:2,currencySymbol:"USDC"})}),e.jsx("span",{className:"text-xxs font-bold",children:"Trading Balance"})]}),o>0&&e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"font-bold",children:e.jsx(V,{value:(p=t==null?void 0:t.find(g=>g.denom==="USDT"))==null?void 0:p.tradingPower,decimalPlaces:2,currencySymbol:"USDT"})}),e.jsx("span",{className:"text-xxs font-bold",children:"Trading Balance"})]})]}),a?e.jsxs(G,{variant:"warning",children:["You need to deposit ",l+o," USDC/USDT into your wallet to pay off your loan."]}):e.jsx(G,{variant:"warning",children:"Deposit USD/USDC/USDT into your account to pay off your loan. If you deposit USD make sure to transfer it into your trading balance. The trading balance and USDC/USDT in your account will automatically close out your loan within 24 hours."}),e.jsx(T.Secondary,{onPress:r,children:"Back"})]})},pi="I am an ECP",m7=tt({affirmation:mt().matches(new RegExp(pi),{message:`Must be "${pi}"`}).required("Required")});function x7(){const{marketLocation:t}=me(),{refetchMarginTrading:s,isForeign:a,hasConsented:n,isUserTriggerEnableModalOpen:r,onUserTriggerEnableModalClose:i}=at(),l=Be(),o=Xe({resolver:a||n?void 0:et(m7)}),u=e3(),d=S3(),x=()=>{i()};return{isOpen:r,form:o,onDecline:async()=>{await d.mutateAsync({requestBody:{consentType:a?"INTERNATIONAL_MARGIN_CONSENT":"DOMESTIC_MARGIN_CONSENT"}}),await s(),o.reset({affirmation:""}),x()},onSubmit:async()=>{(await u.mutateAsync({requestBody:{consentType:a?"INTERNATIONAL_MARGIN_CONSENT":"DOMESTIC_MARGIN_CONSENT",location:Rt(t)}})).status==="ACTIVE"?(await s(),o.reset({affirmation:""}),l.notifyMarginEnabled(),x()):l.notifyGenericError({title:"Error Enabling Margin",description:"Please try again."})},affirmationText:pi,onModalClose:x,isForeign:a,hasConsented:n}}const h7=t=>c.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("mask",{id:"mask0_13134_40341",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:20,height:20},c.createElement("rect",{width:20,height:20,fill:"#D9D9D9"})),c.createElement("g",{mask:"url(#mask0_13134_40341)"},c.createElement("path",{d:"M10 18.125C8.875 18.125 7.81944 17.9115 6.83333 17.4844C5.84722 17.0573 4.98785 16.4774 4.25521 15.7448C3.52257 15.0122 2.94271 14.1528 2.51562 13.1667C2.08854 12.1806 1.875 11.125 1.875 10C1.875 8.875 2.08854 7.81944 2.51562 6.83333C2.94271 5.84722 3.52257 4.98785 4.25521 4.25521C4.98785 3.52257 5.84722 2.94271 6.83333 2.51562C7.81944 2.08854 8.875 1.875 10 1.875C10.6806 1.875 11.3438 1.95486 11.9896 2.11458C12.6354 2.27431 13.2569 2.51389 13.8542 2.83333C14.0486 2.94444 14.1701 3.1059 14.2188 3.31771C14.2674 3.52951 14.2257 3.72222 14.0938 3.89583C13.9618 4.07639 13.7865 4.18924 13.5677 4.23438C13.349 4.27951 13.1354 4.24653 12.9271 4.13542C12.4688 3.90625 11.9931 3.73264 11.5 3.61458C11.0069 3.49653 10.5069 3.4375 10 3.4375C8.17361 3.4375 6.62326 4.07465 5.34896 5.34896C4.07465 6.62326 3.4375 8.17361 3.4375 10C3.4375 11.8264 4.07465 13.3767 5.34896 14.651C6.62326 15.9253 8.17361 16.5625 10 16.5625C10.3333 16.5625 10.6597 16.5399 10.9792 16.4948C11.2986 16.4497 11.6181 16.3785 11.9375 16.2812C12.1528 16.2188 12.3646 16.2205 12.5729 16.2865C12.7812 16.3524 12.9375 16.4861 13.0417 16.6875C13.1389 16.8819 13.151 17.0799 13.0781 17.2813C13.0052 17.4826 12.8646 17.6215 12.6562 17.6979C12.2326 17.8438 11.7969 17.9514 11.349 18.0208C10.901 18.0903 10.4514 18.125 10 18.125ZM15.8854 14.1146H14.1667C13.9514 14.1146 13.7674 14.0382 13.6146 13.8854C13.4618 13.7326 13.3854 13.5486 13.3854 13.3333C13.3854 13.1181 13.4618 12.934 13.6146 12.7812C13.7674 12.6285 13.9514 12.5521 14.1667 12.5521H15.8854V10.8333C15.8854 10.6181 15.9618 10.434 16.1146 10.2812C16.2674 10.1285 16.4514 10.0521 16.6667 10.0521C16.8819 10.0521 17.066 10.1285 17.2188 10.2812C17.3715 10.434 17.4479 10.6181 17.4479 10.8333V12.5521H19.1667C19.3819 12.5521 19.566 12.6285 19.7188 12.7812C19.8715 12.934 19.9479 13.1181 19.9479 13.3333C19.9479 13.5486 19.8715 13.7326 19.7188 13.8854C19.566 14.0382 19.3819 14.1146 19.1667 14.1146H17.4479V15.8333C17.4479 16.0486 17.3715 16.2326 17.2188 16.3854C17.066 16.5382 16.8819 16.6146 16.6667 16.6146C16.4514 16.6146 16.2674 16.5382 16.1146 16.3854C15.9618 16.2326 15.8854 16.0486 15.8854 15.8333V14.1146ZM8.85417 11.5208L16.4688 3.89583C16.6215 3.74306 16.8056 3.66667 17.0208 3.66667C17.2361 3.66667 17.4201 3.74306 17.5729 3.89583C17.7257 4.04861 17.8021 4.23264 17.8021 4.44792C17.8021 4.66319 17.7257 4.84722 17.5729 5L9.40625 13.1771C9.24653 13.3368 9.0625 13.4167 8.85417 13.4167C8.64583 13.4167 8.46181 13.3368 8.30208 13.1771L5.96875 10.8438C5.81597 10.691 5.73958 10.5069 5.73958 10.2917C5.73958 10.0764 5.81597 9.89236 5.96875 9.73958C6.12153 9.58681 6.30556 9.51042 6.52083 9.51042C6.73611 9.51042 6.92014 9.58681 7.07292 9.73958L8.85417 11.5208Z",fill:"white"}))),f7="/exchange/assets/margin-coins-QhBp_sb8.png",Gl=t=>c.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("mask",{id:"mask0_13134_40350",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:20,height:20},c.createElement("rect",{width:20,height:20,fill:"#D9D9D9"})),c.createElement("g",{mask:"url(#mask0_13134_40350)"},c.createElement("path",{d:"M2.45832 17.3122C2.31248 17.3122 2.18054 17.2757 2.06248 17.2028C1.94443 17.1299 1.85068 17.0344 1.78123 16.9163C1.71179 16.7983 1.67533 16.6716 1.67186 16.5361C1.66839 16.4007 1.70484 16.267 1.78123 16.1351L9.3229 3.12467C9.39929 2.99273 9.49825 2.89551 9.61977 2.83301C9.7413 2.77051 9.86804 2.73926 9.99998 2.73926C10.1319 2.73926 10.2587 2.77051 10.3802 2.83301C10.5017 2.89551 10.6007 2.99273 10.6771 3.12467L18.2187 16.1351C18.2951 16.267 18.3316 16.4007 18.3281 16.5361C18.3246 16.6716 18.2882 16.7983 18.2187 16.9163C18.1493 17.0344 18.0555 17.1299 17.9375 17.2028C17.8194 17.2757 17.6875 17.3122 17.5416 17.3122H2.45832ZM3.81248 15.7497H16.1875L9.99998 5.08301L3.81248 15.7497ZM9.99998 14.8955C10.2222 14.8955 10.4097 14.8191 10.5625 14.6663C10.7153 14.5136 10.7916 14.3261 10.7916 14.1038C10.7916 13.8816 10.7153 13.6941 10.5625 13.5413C10.4097 13.3886 10.2222 13.3122 9.99998 13.3122C9.77776 13.3122 9.59026 13.3886 9.43748 13.5413C9.2847 13.6941 9.20832 13.8816 9.20832 14.1038C9.20832 14.3261 9.2847 14.5136 9.43748 14.6663C9.59026 14.8191 9.77776 14.8955 9.99998 14.8955ZM10.0104 12.4997C10.2257 12.4997 10.4097 12.4233 10.5625 12.2705C10.7153 12.1177 10.7916 11.9337 10.7916 11.7184V9.17676C10.7916 8.96148 10.7153 8.77745 10.5625 8.62468C10.4097 8.4719 10.2257 8.39551 10.0104 8.39551C9.79512 8.39551 9.61109 8.4719 9.45832 8.62468C9.30554 8.77745 9.22915 8.96148 9.22915 9.17676V11.7184C9.22915 11.9337 9.30554 12.1177 9.45832 12.2705C9.61109 12.4233 9.79512 12.4997 10.0104 12.4997Z",fill:"white"}))),Rr=t=>{const{title:s,content:a,icon:n}=t;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-y-2 p-2 border border-neutral-200 text-center text-xs",children:[e.jsx("div",{className:"rounded-full p-3 bg-neutral-100 flex justify-center items-center w-10 h-10",children:e.jsx(n,{className:"h-6 w-6"})}),e.jsx("p",{className:"font-bold",children:s}),e.jsx("p",{children:a})]})},E1=({isForeign:t})=>e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-bold text-center",children:"Enable Margin Trading"}),e.jsx("img",{src:f7,alt:"margin trading coins illustration"}),!t&&e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-base mb-1",children:"Certification Requirements for an ECP"}),e.jsxs("ul",{className:"text-xs list-disc pl-6",children:[e.jsx("li",{children:"Individuals are required to have over 10 million USD in assets managed on a discretionary basis"}),e.jsx("li",{children:"Institutions are required to have total assets exceeding 10 million USD"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-base mb-1",children:"Understand the advantages and risks"}),e.jsxs("div",{className:"flex justify-between items-stretch gap-x-4 flex-col md:flex-row",children:[e.jsx(Rr,{title:"Increased purchasing power",content:"Supercharge your investment strategy by allowing you to expand your positions or diversify your portfolio beyond.",icon:h7}),e.jsx(Rr,{title:"Higher risk",content:"Margin investing carries higher risk and may not be suitable for everyone. If your investments decrease in value, you could face larger losses.",icon:Gl}),e.jsx(Rr,{title:"Repay loan to disable",content:"Margin trading involves a loan. You can’t disable it while the loan is outstanding. Once fully repaid, you can return to standard trading.",icon:Gl})]})]})]}),S1=()=>{const{isOpen:t,form:s,onSubmit:a,onDecline:n,onModalClose:r,affirmationText:i,isForeign:l,hasConsented:o}=x7();return e.jsx($e,{isOpen:t,onClose:r,ariaLabel:"enable margin trading",useChildrenWidth:!0,children:e.jsx(st,{...s,children:e.jsx("form",{onSubmit:s.handleSubmit(a),children:e.jsxs("div",{className:"w-[324px] md:w-[600px]",children:[e.jsxs("div",{className:"flex flex-col gap-y-4 overflow-auto pb-40 md:pb-0 max-h-[calc(100vh-150px)] md:max-h-min",children:[e.jsx(E1,{isForeign:l}),!l&&!o&&e.jsx("div",{children:e.jsx(Pe.Text,{name:"affirmation",label:"I certify, on behalf of myself or my institution, that:",placeholder:i,description:`An ECP is an Eligible Contract Person. Please type "${i}” to proceed`})})]}),e.jsxs("div",{className:"flex gap-x-4 gap-y-4 flex-col absolute md:static bottom-0 py-4 md:pb-0 md:pt-4 bg-dark w-[324px] md:w-[600px]",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-xs",children:["By enabling margin, I agree to the"," ",e.jsx("a",{className:"underline text-p-light",href:`${ke}/disclosures/democratized-prime-terms`,target:"_blank",rel:"noreferrer",children:"Democratized Prime Terms and Conditions"}),", and I have read and understand the"," ",e.jsx("a",{className:"underline text-p-light",href:`${ke}/disclosures/margin-disclosures`,target:"_blank",rel:"noreferrer",children:"Margin Disclosure Statement"})]})}),e.jsxs("div",{className:"flex gap-x-4 gap-y-2 flex-col-reverse md:flex-row",children:[e.jsx(T.Secondary,{className:"w-full md:w-[50%]",onPress:n,children:o||l?"Not Now":"I am not an ECP"}),e.jsx(T.Primary,{className:"w-full md:w-[50%]",type:"submit",children:"Agree and Enable Margin"})]})]})]})})})})},p7=()=>{const{isPassportPending:t}=Le(),{walletBridgeState:s}=Nt(),[a,n]=c.useState(!1),[r,i]=c.useState(!1);c.useEffect(()=>{s.isFigureAuth&&!a&&!r&&t&&n(!0)},[a,s.isFigureAuth,r,t]);const l=()=>{n(!1),i(!0)};return e.jsxs($e,{isOpen:a,onClose:l,children:[e.jsx(ne,{children:"Identity Verification Pending"}),e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(e1,{})}),e.jsx("p",{className:"text-sm",children:"Sit tight! You've completed all onboarding steps and once Figure reviews your identity information, you'll be able to trade."}),e.jsx(T.Primary,{onPress:l,children:"Got it, let me explore anyway"})]})},g7=()=>{const{isPreRegistrationCompleteModalOpen:t,passportStatus:s}=Le(),a="text-neutral-800 text-xs font-medium leading-[1.125rem]";return e.jsxs($e,{"aria-label":"done-modal",isOpen:t,children:[e.jsx(ne,{children:(s==null?void 0:s.kycStatus)==="VALID"?"Pre-registration Complete":"You’re done for now"}),e.jsx("p",{className:a,children:"Thanks for pre-registering for your Figure Markets Account."}),e.jsxs("p",{className:a,children:[(s==null?void 0:s.kycStatus)==="VALID"?"Your Figure Passport is approved and the pre-registration process is complete.":"Your Figure Passport application is under review and you will be notified in 1-3 days once approved or if further action is needed."," ","When Figure Markets Exchange launches, we’ll reach out and let you know how to start trading."]}),e.jsx(T.Secondary,{onPress:()=>window.location.href=ke,children:"Done"})]})},an="openMarginModal",j7=()=>{const[t,s]=Oa(),{handleSignup:a,handleLogin:n}=ee(),{marketLocation:r}=me(),{isUnauthedModalOpen:i,onUnauthedModalClose:l}=at(),{hasKrangBlocker:o,isPassportPending:u,krangCtaInfo:d}=Le();return t.delete(Is),e.jsxs($e,{isOpen:i,onClose:l,ariaLabel:"enable margin trading",useChildrenWidth:!0,children:[e.jsx("div",{className:"w-[324px] md:w-[600px] flex flex-col gap-y-4 overflow-auto pb-40 md:pb-0 max-h-[calc(100vh-150px)] md:max-h-min",children:e.jsx(E1,{isForeign:r!=="US"})}),o?e.jsx("div",{className:" w-[324px] md:w-[600px] h-full px-5 py-5 sm:py-3 flex flex-col sm:flex-row  justify-start items-center gap-x-4 gap-y-2 rounded-lg mt-2",style:{background:"linear-gradient(268deg, rgba(0, 0, 0, 0.20) 19.24%, rgba(0, 0, 0, 0.00) 51.53%), linear-gradient(92deg, rgba(83, 28, 28, 0.20) 8.18%, rgba(104, 11, 11, 0.00) 52.04%), var(--Neutral-Dark, #1C2434)"},children:e.jsxs("div",{className:"flex gap-x-4 items-center justify-start",children:[e.jsx(Gt,{className:"m:max-h-[7.5rem]"}),e.jsxs("div",{className:"flex flex-col gap-y-1.5",children:[e.jsx("p",{className:"text-sm sm:text-base font-bold",children:u?"Your account is pending identity verification":d.title}),e.jsx("p",{className:"text-xs sm:text-sm font-normal",children:u?"Verification can take 1-3 business days, and you’ll be able to sign up once approved.":d.message})]})]})}):e.jsxs("div",{className:"flex items-center gap-4 w-full justify-end pt-4",children:[e.jsx(T.Secondary,{type:"button",className:"w-full",onPress:()=>{t.set(an,"true"),s(t),n(),l()},children:"Log In"}),e.jsx(T.Primary,{type:"button",className:"w-full",onPress:()=>{t.set(an,"true"),s(t),a(),l()},children:"Sign Up"})]})]})},b7=()=>{const[t,s]=Oa(),{LRWAYield:a,shouldShowLRWAUnauthModal:n,onLRWAUnauthModalClose:r}=Ge(),{handleSignup:i,handleLogin:l}=ee();return t.delete(an),e.jsx($e,{isOpen:n,onClose:()=>{t.delete(Is),s(t),r()},ariaLabel:"FRWD Marketing Modal and Sign In",useChildrenWidth:!0,children:e.jsxs("div",{className:"w-[20.25rem] md:w-[36.813rem] max-h-[calc(100vh-150px)] overflow-y-scroll scrollbar-none justify-center",children:[e.jsxs("p",{className:"text-3xl text-white text-center font-extralight pb-4",children:["Earn up to ",a||8,"% APY on your stablecoins"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-x-4 items-center py-4",children:[e.jsx("img",{src:"https://www.datocms-assets.com/119559/1722630009-lwra.png",alt:"lrwa token",className:"w-auto h-[98px] rounded-lg mb-4 md:mb-0"}),e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx("p",{className:"text-base font-bold text-center md:text-left",children:"Figure Markets — Forward Vault"}),e.jsx("p",{className:"text-sm text-neutral-300",children:"Earn competitive yields on your stablecoins with liquidity and flexibility. Forward Vault is backed by real world assets and offers a low-risk opportunity to earn yield by investing in Figure Technology Solutions' home equity loans."})]})]}),e.jsxs("div",{className:"flex items-center gap-4 w-full justify-end pt-4",children:[e.jsx(T.Secondary,{type:"button",className:"w-full",onPress:()=>{t.set(Is,"true"),s(t),l(),r()},children:"Log In"}),e.jsx(T.Primary,{type:"button",className:"w-full",onPress:()=>{t.set(Is,"true"),s(t),i(),r()},children:"Sign Up"})]})]})})},A1=()=>{const t=X();return{resetExchangeStore:()=>{t(bs.util.resetApiState()),t(Pa.util.resetApiState()),t(Ec.reset()),t(ss.reset())}}},y7="service-universal-passport",C7=`${y7}/secure/api`;function N7(t){const s=["service-universal-passport","useGetCombinedForCreatorWallet",t.walletAddress],a=H("get");return fe({queryKey:s,queryFn:async()=>await a({url:`/${C7}/v1/gateway/creator/passport`}),...t.queryOptions})}const D1=c.createContext(void 0),w7=t=>{var E,P,L,O,W,$;const{walletBridgeState:s}=Nt(),{mutateAsync:a,isSuccess:n,isLoading:r}=rl({baseUrl:ke,accountAddress:(E=s.account)==null?void 0:E.address}),{data:i,isFetched:l}=N7({queryOptions:{enabled:s.isFigureAuth},walletAddress:(P=s.account)==null?void 0:P.address}),{setIntentAndGetRedirect:o,statusData:u}=cm((L=s.account)==null?void 0:L.address,{enabled:s.isFigureAuth}),[d,x]=c.useState(),[m,f]=c.useState(!1),[p,g]=c.useState(!1),[h,b]=c.useState(`${ke}/exchange/onboarding`),[j,y]=c.useState(!1),C=X(),w=async()=>{y(!0),await a({requestBody:{requiredSteps:oi}}).then(R=>{x(R),y(!1)})};c.useEffect(()=>{const R=i?i.find(D=>{var M;return D.ownerWalletAddress===((M=s.account)==null?void 0:M.address)}):void 0;R!=null&&R.licensingJurisdiction&&C(ss.setOriginalLicensingJurisdiction({licensingJurisdiction:R.licensingJurisdiction}))},[i,C,(O=s.account)==null?void 0:O.address]),c.useEffect(()=>{s.isFigureAuth?w():(m&&f(!1),x(void 0))},[s.isFigureAuth,(W=s.account)==null?void 0:W.address,oi]);const N=(R,D)=>{var B;const M=i?(B=i.find(_=>{var F;return _.ownerWalletAddress===((F=s.account)==null?void 0:F.address)}))==null?void 0:B.passportUuid:void 0;o({intent:(D==null?void 0:D.intent)||yt.KYC,redirectUrl:R,incompleteRedirectUrl:(D==null?void 0:D.incompleteRedirectUrl)||"",passportUuid:M,addOns:(D==null?void 0:D.addOns)||[],offeringAddress:(D==null?void 0:D.offeringAddress)||"",offeringAttribute:(D==null?void 0:D.offeringAttribute)||"",baseUrlOverride:b5?window.location.origin:void 0}).then(_=>{_&&(window.location.href=_)})},v=()=>da(d==null?void 0:d.currentStep)?()=>C(Ra.open()):Qa(d==null?void 0:d.currentStep)?()=>g(!0):ia(d==null?void 0:d.currentStep)?()=>C(te.open()):pr(d==null?void 0:d.currentStep)?()=>window.location.href=`${window.location.origin}/c/home/securities`:()=>{},A=i==null?void 0:i.find(R=>{var D;return R.ownerWalletAddress===((D=s.account)==null?void 0:D.address)});return e.jsx(D1.Provider,{value:{fsmStepResponse:d,passport:A,passportName:A==null?void 0:A.passportDisplayName,passportStatus:u,hasKrangStep:!!d,hasKrangBlocker:!!(d!=null&&d.currentStep)&&!ia(d==null?void 0:d.currentStep)&&!Da(d==null?void 0:d.currentStep)&&!Hi(d==null?void 0:d.currentStep),krangCtaText:dc(d),krangCtaInfo:uc(d),krangCtaOnPress:v(),isKrangCtaButtonHidden:ca(d==null?void 0:d.currentStep)||Ja(d==null?void 0:d.currentStep),navigateToPassport:N,passportRedirectUrl:h,setPassportRedirectUrl:b,isKrangHeroStep:ia(d==null?void 0:d.currentStep)||Da(d==null?void 0:d.currentStep),isPassportPending:Vi(d==null?void 0:d.currentStep),isPassportInProgress:U5(d==null?void 0:d.currentStep),hasLoaded:(n||l)&&!r&&!j,getFsmCurrentStep:w,isFigurePayStep:da(d==null?void 0:d.currentStep),isConsentAgreementsModalOpen:p,setIsConsentAgreementsModalOpen:g,isPreRegistrationCompleteModalOpen:m,setIsPreRegistrationCompleteModalOpen:f,currentStep:($=d==null?void 0:d.currentStep)==null?void 0:$.currentStep},children:t.children})},Le=()=>{const t=c.useContext(D1);if(!t)throw new Error("useKrangContext needs to be used within KrangProvider");return t},zl={emailAddress:"",identityUuid:"",isAuthenticatedWithCookie:!1,showConnectModal:!1},Fr=Jo,T1=c.createContext(void 0),v7=t=>{var j,y,C,w,N,v,A;const[s,a]=c.useState(zl.identityUuid),[n,r]=c.useState(zl.emailAddress),{setProfileLocale:i}=me(),{resetExchangeStore:l}=A1(),o=Le(),{walletBridgeService:u,walletBridgeState:d}=Nt(),[x,m]=c.useState(!1),{refetch:f}=Q5({queryOptions:{enabled:!1},walletAddress:(j=d.account)==null?void 0:j.address}),{mutateAsync:p}=J5();c.useEffect(()=>{d.isFigureAuth&&f().then(E=>{var P,L;if(!E.data&&((P=E==null?void 0:E.error)==null?void 0:P.status)===404)try{p(void 0,{onError:async O=>{var W,$;Bd(O)&&((W=O.response)==null?void 0:W.status)===409&&await ni.invalidateQueries({queryKey:[Cc,($=d.account)==null?void 0:$.address]})}}).then(O=>i(O.locale))}catch{return}else i(((L=E.data)==null?void 0:L.locale)??"DOMESTIC")})},[f,ni,p,d.isFigureAuth,(y=d.account)==null?void 0:y.address]);const g=async()=>{await u.disconnect(),l()};c.useEffect(()=>{Fr&&d.isFigureAuth&&m(!1)},[d.isFigureAuth]);const h=c.useCallback(async()=>{Fr?m(!0):window.location.href=Ll()},[]),b=c.useCallback(async()=>{window.location.href=Ll(!0)},[]);return xo(()=>{o.getFsmCurrentStep()},o.isPassportInProgress?3e3:null),e.jsxs(T1.Provider,{value:{isAuthenticatedWithCookie:d.isFigureAuth,showConnectModal:x,signingWalletAddress:(C=d.account)!=null&&C.isGroupAccount?(w=d.account)==null?void 0:w.memberAddress:(N=d.account)==null?void 0:N.address,walletAddress:(v=d.account)==null?void 0:v.address,logout:g,handleLogin:h,handleSignup:b,setShowConnectModal:m,walletName:(A=d.account)==null?void 0:A.name,wcjsQRCodeImg:d.connectionUriQRImage,wcjsQRCodeUrl:d.connectionUri,emailAddress:n,setEmailAddress:r,identityUuid:s,setIdentityUuid:a},children:[Fr&&e.jsx(V6,{isOpen:x}),t.children]})},ee=()=>{const t=c.useContext(T1);if(!t)throw new Error("useAuthContext needs to be used within AuthProvider");return t},gi="seenHomeFeatureBanners",Ur=["LRWA"],L7=["service-hft-exchange","getMarket"];function E7(t){const s=H("get");return fe({queryKey:[L7,`getMarket-${t.path.symbol}`],queryFn:()=>s({url:`/service-hft-exchange/api/v1/markets/${t.path.symbol}`,options:ie(t)}),...t.queryOptions})}const S7=["service-hft-exchange","getAllMarkets"];function P1(t={}){const s=H("get"),a=t.query?Object.values(t.query).map(n=>JSON.stringify(n)):[];return fe({queryKey:[S7].concat(a),queryFn:()=>s({url:"/service-hft-exchange/api/v1/markets",options:ie(t)}),...t.queryOptions})}const A7=["service-hft-exchange","getTrades"];function D7(t){const s=H("get");return fe({queryKey:[A7,t.path.symbol],queryFn:()=>s({url:`/service-hft-exchange/api/v1/trades/${t.path.symbol}`,options:ie(t)}),...t.queryOptions})}const T7=["service-hft-exchange","getAllAssets"];function P7(t={}){var a,n;const s=H("get");return fe({queryKey:[T7,(a=t.query)==null?void 0:a.page,(n=t.query)==null?void 0:n.size],queryFn:()=>s({url:"/service-hft-exchange/api/v1/assets",options:ie(t)}),...t.queryOptions})}const Et=({specifiedLocation:t,enabled:s=!0,marketType:a}={})=>{const{marketLocation:n}=me(),{originalLicensingJurisdiction:r}=ae(pt),{isAuthenticatedWithCookie:i}=ee(),{CANDLE_TYPE_CONFIG:l,IS_IRELAND_RESTRICTION_ENABLED:o}=Fe();let u=i&&o&&r!=="UNKNOWN_LICENSING_JURISDICTION"&&r!=="UNRECOGNIZED"?j1[r]:n;const d=l[u]??"TRADE";(u==="UNKNOWN_MARKET_LOCATION"||u==="UNRECOGNIZED")&&(u="US");const{data:x,...m}=P1({query:{location:t??u,candle_type:d,market_type:a},queryOptions:{enabled:s}}),[f,p]=c.useState(),g=c.useMemo(()=>{if(x)return{...x,data:x==null?void 0:x.data.map(h=>{var b;return{...h,...oe.shared.getLatestMarketUpdate(h.symbol),percentageChange24h:Number(((b=oe.shared.getLatestMarketUpdate(h.symbol))==null?void 0:b.percentageChange24h)??h.percentageChange24h)}})}},[x,f]);return c.useEffect(()=>{var b;const h=()=>{p(Date.now())};return(b=g==null?void 0:g.data)==null||b.filter(j=>j.marketLocation===u).forEach(j=>{oe.shared.subscribeToMarketUpdates(j.symbol,h)}),()=>{g==null||g.data.forEach(j=>{oe.shared.unsubscribeFromMarketUpdates(j.symbol,h)})}},[g,u]),{data:g,...m}},$a=(t,s)=>t.displayName>s.displayName?1:-1,k7=({assets:t,cryptoMarkets:s,fundMarkets:a,atsMarkets:n})=>{const r=t.filter(({name:m})=>!!s.find(({denom:f,quoteDenom:p})=>f===m||p===m)||!!a.find(({denom:f})=>f===m)||!!n.find(({denom:f})=>f===m)),i=r.filter(({type:m,provider:f})=>m==="CRYPTO"&&f==="MPC_ASSET").sort($a),l=r.filter(({type:m,provider:f})=>m==="CRYPTO"&&f==="NATIVE_ASSET").sort($a),o=r.filter(({type:m})=>m==="FUND").sort($a),u=r.filter(({type:m,provider:f})=>m==="STABLECOIN"&&f==="MPC_ASSET").sort($a),d=r.filter(({type:m,provider:f})=>m==="STABLECOIN"&&f==="FIAT_ASSET").sort($a),x=[...i,...l,...o,...u,...d];return{allAssetsNames:x.map(({name:m})=>m),allAssets:x,crypto:[...i,...l,...u],cryptoNative:l,cryptoMPC:i,fundAssets:o,stablecoinsMPC:u,stablecoinsFiat:d}},k1=c.createContext(void 0),I7=100,O7=()=>{const[t,s]=c.useState(1),[a,n]=c.useState([]),{data:r,error:i,isLoading:l}=P7({query:{size:I7,page:t}});return c.useEffect(()=>{r&&!i&&(n(o=>[...o,...r.data]),r.pagination.page<r.pagination.totalPages&&s(o=>o+1))},[r]),{allAssets:a,assetsError:i,assetsIsLoading:l}},M7=({children:t})=>{const{allAssets:s,assetsError:a,assetsIsLoading:n}=O7(),{data:r,error:i,isLoading:l}=Et({marketType:"FUND"}),{data:o,error:u,isLoading:d}=Et({marketType:"ATS"}),{data:x,error:m,isLoading:f}=Et({marketType:"CRYPTO"}),p=c.useMemo(()=>s&&(x!=null&&x.data)&&(r!=null&&r.data)&&(o!=null&&o.data)?k7({assets:s,cryptoMarkets:x==null?void 0:x.data,fundMarkets:r.data,atsMarkets:o.data}):void 0,[s,x,r,o]),g=c.useCallback(C=>p==null?void 0:p.allAssets.find(({name:w})=>w===C),[p]),h=c.useCallback(C=>p==null?void 0:p.allAssets.find(({displayName:w})=>w.toLowerCase()===(C==null?void 0:C.toLowerCase())),[p]),b=c.useCallback(C=>s.find(w=>w.name===C),[s]),j=c.useCallback(C=>{var w,N;return((w=g(C))==null?void 0:w.displayName)??((N=b(C))==null?void 0:N.displayName)??""},[g,b]),y=c.useMemo(()=>!!g(Rs.USD),[g]);return e.jsx(k1.Provider,{value:{getAsset:g,getAssetForNetwork:h,getInstrumentDisplayNameFromDenom:j,getAssetOutOfMarket:b,data:p,error:a||i||m||u,isLoading:n||l||f||d,usdEnabled:y},children:t})},Te=()=>{const t=c.useContext(k1);if(!t)throw new Error("useAssetContext needs to be used within AssetContextProvider");return t},As={balances:void 0,isLRWAAvailable:!1,isMarketUS:!0,LRWABannerIsDismissed:!1,LRWADataLoading:!1,LRWAFundID:"",LRWASubscriptionID:"",LRWASubscriptionMinAmount:"0",LRWASweepEnabled:!1,LRWAYield:"",marketLocation:"UNKNOWN_MARKET_LOCATION",missingInformation:void 0,shouldShowLRWABanner:!1,shouldShowLRWAManageModal:!1,shouldShowLRWASignUpModal:!1,shouldShowLRWAUnauthModal:!1,shouldShowLRWAWidget:!1,status:"pending review",subscriber:void 0},I1=c.createContext(void 0),_7=t=>{var Ls,zs;const{isAuthenticatedWithCookie:s,walletAddress:a}=ee(),n=Le(),{getAsset:r,isLoading:i}=Te(),l=!!r(Rs.LRWA),o=(Ls=r(Rs.LRWA))==null?void 0:Ls.provenanceMarkerName,u=!0,[d,x]=c.useState(!0),[m,f]=c.useState(As.status),[p,g]=c.useState(As.shouldShowLRWAUnauthModal),[h,b]=c.useState(As.shouldShowLRWASignUpModal),[j,y]=c.useState(As.shouldShowLRWAManageModal),[C,w]=c.useState(As.balances),[N,v]=c.useState("0"),[A,E]=c.useState(As.LRWASweepEnabled),[P,L]=c.useState(As.LRWAFundID),[O,W]=c.useState(As.LRWAYield),[$,R]=c.useState(),[D,M]=c.useState(),[B,_]=c.useState(),{marketLocation:F}=me(),U=F==="US",[z,se]=c.useState(U);c.useEffect(()=>{se(F==="US")},[F]);const{data:Ee,isLoading:Ue}=vm({queryOptions:{enabled:u}}),{data:He,isLoading:Qe}=Im({path:{fundId:String(P)},queryOptions:{enabled:!!P}}),{data:Ve,refetch:Ft,isLoading:q}=Dm({walletAddress:a,queryOptions:{enabled:s&&u}}),{data:de,refetch:Ze,isLoading:At}=Sm({walletAddress:a,queryOptions:{enabled:s}}),{data:zt,isFetching:Hs}=Nm({walletAddress:a,path:{subId:String($==null?void 0:$.id)},queryOptions:{enabled:!!$}});c.useEffect(()=>{_(de)},[de]);const[Ut,ws]=Wd(y5,!!((zs=localStorage.getItem(gi))!=null&&zs.includes("LRWA"))),[Vs,ha]=c.useState(!1);c.useEffect(()=>{var gt;Ee&&L(String(((gt=Ee==null?void 0:Ee.find(({denom:Kt})=>Kt===o))==null?void 0:gt.id)||""))},[Ee,s,o]),c.useEffect(()=>{He&&W(He.rate)},[He,s]),c.useEffect(()=>{if(x(!0),Ve){if(P){const gt=Ve==null?void 0:Ve.find(Kt=>Kt.fundId===P);R(gt),w(zt),f(gt!=null&&gt.approvedAt?gt.autoSweep?"sweep enabled":"sweep disabled":"pending review")}v(String((de==null?void 0:de.minimumRemainingCashBalance)||0)),ha(!!($!=null&&$.id)),E(!!($!=null&&$.autoSweep)),x(!1)}},[P,Ve,de,$,zt,s,a]);const Zs=d||Ue||q||At||Qe||Hs,Gs=!i&&s&&!Zs&&!Vs&&l&&u&&n.hasLoaded&&!Ut,vs=!i&&s&&!Zs&&Vs&&l&&u&&n.hasLoaded&&!n.hasKrangBlocker&&!($!=null&&$.deactivatedAt)&&!Gs;return e.jsx(I1.Provider,{value:{balances:C,fetchSubInfo:Ze,fetchSubs:Ft,isLRWAAvailable:l,isMarketUS:z,LRWABannerIsDismissed:Ut,LRWADataLoading:Zs,LRWAFundID:P,LRWASubscriptionID:String($==null?void 0:$.id),LRWASubscriptionMinAmount:N,LRWASweepEnabled:A,LRWAYield:O,marketLocation:F,missingInformation:D,onDismiss:ws,onLRWAManageModalClose:()=>y(!1),onLRWAManageModalOpen:()=>y(!0),onLRWASignUpModalClose:()=>b(!1),onLRWASignUpModalOpen:()=>{b(!0)},onLRWAUnauthModalClose:()=>g(!1),onLRWAUnauthModalOpen:()=>g(!0),setMissingInformation:M,shouldShowLRWABanner:Gs,shouldShowLRWAManageModal:j,shouldShowLRWASignUpModal:h,shouldShowLRWAUnauthModal:p,shouldShowLRWAWidget:vs,status:m,subscriber:B},children:t.children})},Ge=()=>{const t=c.useContext(I1);if(!t)throw new Error("useLRWAContext needs to be used within LRWAProvider");return t},Br={allowEnableMarginFeature:!1,isMarginEnabled:!1,isForeign:!1,isDisableModalOpen:!1,isOutstandingModalOpen:!1,isUserTriggerEnableModalOpen:!1,isUnauthedModalOpen:!1,hasConsented:!1,shouldShowBanner:!1,outstandingLoans:[],isInitializing:!0},O1=c.createContext(void 0),R7=t=>{var R;const a=new URLSearchParams(window.location.search).get(N5),{isAuthenticatedWithCookie:n,walletAddress:r}=ee(),{hasKrangStep:i}=Le(),{marketLocation:l}=me(),o=Fe(),{originalLicensingJurisdiction:u}=ae(pt),x=(u==="IRELAND"?!o.IS_IRELAND_RESTRICTION_ENABLED:!0)&&!0,[m,f]=c.useState(new Set),[p,g]=c.useState(Br.isDisableModalOpen),[h,b]=c.useState(Br.isOutstandingModalOpen),[j,y]=c.useState(a==="true"),[C,w]=c.useState(Br.isUnauthedModalOpen),N=u3({queryOptions:{enabled:n&&x},walletAddress:r}),v=g3({queryOptions:{enabled:!1},walletAddress:r}),A=D=>{f(M=>{const B=new Set(M);return B.add(D),B})},E=D=>{f(M=>{const B=new Set(M);return B.delete(D),B})};c.useEffect(()=>{var D,M,B,_,F;n&&(N.isFetched&&!m.has("INITIALIZED")&&A("INITIALIZED"),(D=N.data)!=null&&D.isAvailable&&!m.has("AVAILABLE")&&A("AVAILABLE"),(M=N.data)!=null&&M.isEnabledForUser&&!m.has("ENABLED")&&A("ENABLED"),!((B=N.data)!=null&&B.isEnabledForUser)&&m.has("ENABLED")&&E("ENABLED"),((_=N.data)==null?void 0:_.consentStatus)==="ACCEPTED"&&!m.has("CONSENTED")&&A("CONSENTED"),((F=N.data)==null?void 0:F.consentStatus)==="REJECTED"&&!m.has("REJECTED")&&A("REJECTED"))},[N,m,n]),c.useEffect(()=>{f(new Set)},[r]);const P=n&&x&&!i&&m.has("AVAILABLE")&&!m.has("ENABLED")&&!m.has("REJECTED"),L=m.has("CONSENTED"),O=N.isFetching,W=n&&m.has("CONSENTED")&&m.has("ENABLED")&&m.has("AVAILABLE"),$=async()=>{var D;if(W){const{data:M}=await v.refetch(),B=((D=M==null?void 0:M.data)==null?void 0:D.reduce((_,F)=>_+=F.balance,0))??0;B>0?b(!0):B===0&&g(!0)}else y(!0)};return e.jsx(O1.Provider,{value:{allowEnableMarginFeature:x,isMarginEnabled:W&&x,isUserTriggerEnableModalOpen:j,isForeign:l!=="US",isDisableModalOpen:p,isOutstandingModalOpen:h,isUnauthedModalOpen:C,hasConsented:L,isInitializing:O,shouldShowBanner:P,outstandingLoans:(R=v.data)==null?void 0:R.data,refetchMarginTrading:N.refetch,onToggleMarginTrading:$,onDisableMarginModalClose:()=>g(!1),onOutstandingLoanModalClose:()=>b(!1),onUserTriggerEnableModalClose:()=>y(!1),onUnauthedModalOpen:()=>w(!0),onUnauthedModalClose:()=>w(!1)},children:t.children})},at=()=>{const t=c.useContext(O1);if(!t)throw new Error("useMarginTradingContext needs to be used within MarginTradingProvider");return t},F7={selectedMarket:void 0,setSelectedMarket:()=>{}},M1=Ai.createContext(F7),U7=t=>{const[s,a]=Ai.useState(void 0);return e.jsx(M1.Provider,{value:{selectedMarket:s,setSelectedMarket:a},children:t.children})},B7=()=>{const t=Ai.useContext(M1);if(!t)throw new Error("useSelectedMarket must be used within SelectedMarketProvider");return t},W7=t=>{const{children:s}=t,{resetExchangeStore:a}=A1();return e.jsx(qd,{children:e.jsx(U0,{isProd:js,client:ni,children:e.jsx(j5,{loggingLevel:"VERBOSE",authExpCallback:a,children:e.jsx(Q0,{children:e.jsx(Eo,{baseUrl:"https://www.figuremarkets.com",preRequest:()=>({credentials:"include",headers:{Authorization:localStorage.getItem("jwt")??"","Content-Type":"application/json"}}),children:e.jsx(Y5,{children:e.jsx(w7,{children:e.jsx(v7,{children:e.jsx(M7,{children:e.jsx(U7,{children:e.jsx(R7,{children:e.jsx(_7,{children:e.jsx(o6,{children:s})})})})})})})})})})})})})},q7=()=>{const t=Ye();return e.jsx($d,{navigate:t,children:e.jsx(dr,{})})},ol=()=>{const[t,s]=c.useState(oe.shared.isConnected),[a,n]=c.useState(oe.shared.isSecure);return c.useEffect(()=>{const r=i=>{s(i.isConnected),n(i.isSecure)};return oe.shared.subscribeToConnectionStatusUpdates(r),()=>{oe.shared.unsubscribeFromConnectionStatusUpdates(r)}},[]),{isConnected:t,isSecure:a}},$7=t=>{const{isConnected:s,tooltip:a}=t;return e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:`block ${s?"bg-s-400":"bg-notice-750"} rounded-full w-[6px] h-[6px]`,title:a}),e.jsx("p",{className:"font-bold text-xxs",children:s?"Operational":"System Maintenance"})]})};var _1=(t=>(t.CAYMAN="CAYMAN",t.IRELAND="IRELAND",t.US="USA",t.UNKNOWN_MARKET_LOCATION="UNKNOWN_LICENSING_JURISDICTION",t.UNRECOGNIZED="UNRECOGNIZED",t))(_1||{});const H7=t=>_1[t]??"UNRECOGNIZED",V7=()=>e.jsxs(Ht,{children:[e.jsx("script",{type:"text/javascript",children:`window.zESettings = {
          webWidget: {
            chat: {
              suppress: true,
            },
            contactForm: {
              suppress: false,
            },
            helpCenter: {
              suppress: true,
            },
          },
        };`}),e.jsx("script",{id:"ze-snippet",src:"https://static.zdassets.com/ekr/snippet.js?key=c99ddc0a-2062-4b60-82f3-b34ba81b6802",async:!0,onLoad:"zE('webWidget', 'hide')"})]}),Wr=({text:t,href:s,icon:a,onClick:n,newTab:r=!1})=>e.jsxs("a",{href:s,className:"ml-8 flex cursor-pointer",onClick:n,target:r?"_blank":void 0,rel:r?"noreferrer":void 0,children:[a,e.jsx("span",{className:"text-xxs font-medium max-md:hidden ml-1",children:t})]}),Z7=()=>{const{marketLocation:t}=me(),{isAuthenticatedWithCookie:s}=ee(),a=Fe(),{currentLicensingJurisdiction:n}=ae(pt),r=s?n:H7(t);let i=tn[r];n==="IRELAND"&&!a.IS_IRELAND_RESTRICTION_ENABLED&&(i=tn.CAYMAN);const l=a.IS_IRELAND_RESTRICTION_ENABLED&&n==="IRELAND"?`${ri}/disclosures/eu-terms-of-use/`:`${ri}/disclosures/cryptocurrency/`;return e.jsxs("div",{className:"flex items-center",children:[e.jsx(V7,{}),e.jsx(Wr,{onClick:()=>{window.zE("webWidget","show"),window.zE("webWidget","open"),window.zE("webWidget:on","close",function(){window.zE("webWidget","hide")})},text:"Contact Support",icon:e.jsx(Jc,{})}),e.jsx(Wr,{href:`${ke}/c/learn`,text:"Learn how to use Figure Markets",icon:e.jsx(t1,{})}),e.jsx(Wr,{href:l,text:`${i} Disclosures`,icon:e.jsx(Qc,{})})]})},R1=({showStatusBar:t=!1,shouldUseSecure:s=!1,className:a})=>{const n=Fe(),r=ol();return e.jsxs("div",{className:k(`flex ${t?"justify-between":"justify-end"} items-center bg-neutral-white px-4 w-full border-t-2 border-neutral-200 h-[26px]`,a),children:[t&&e.jsx($7,{isConnected:r.isConnected&&n.IS_TRADE_ENABLED&&!n.BLOCKCHAIN_MAINTENANCE&&!n.EXCHANGE_MAINTENANCE,tooltip:s?"Secure Endpoint":"Public Endpoint"}),e.jsx(Z7,{})]})},ji=({isSecure:t=!1,title:s,description:a,showButton:n=!1})=>e.jsxs("div",{className:'relative h-[calc(100vh-theme("spacing.maintenance"))] maintenance-placeholder',children:[e.jsxs("div",{className:"relative z-50 flex flex-col gap-1 justify-center items-center h-full",children:[e.jsx("h2",{className:"text-neutral-800 font-bold text-xl",children:s}),e.jsx("p",{className:"text-neutral-800",children:a}),n&&e.jsx(T.Primary,{onPress:()=>{},className:"mt-3",children:"Return to Home"})]}),e.jsx(R1,{showStatusBar:!0,shouldUseSecure:t})]}),F1=({handleBack:t,handleWire:s})=>{const a=X(),n=ns(_a),r=n.plaid.error;return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:t,children:"Select Option"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(T.Outlined,{onPress:()=>{a(Ce.setPlaid({...n.plaid,isIframeOpen:!0,flow:n.activeModal}))},className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(zn,{className:"basis-1/5 w-[20px] h-[20px]"}),e.jsxs("div",{className:"basis-4/5",children:[e.jsx("p",{className:"text-figma-neutral-light font-bold text-xs text-left",children:"Bank Transfer"}),e.jsx("p",{className:"text-figma-neutral text-xs font-semibold mt-1 text-left",children:"Use to deposit and withdraw USD. Deposits up to $25,000 per day. Available immediately."})]})]})}),e.jsx(T.Outlined,{className:"flex justify-between items-center",onPress:s,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Vn,{className:"basis-1/5 w-[20px] h-[20px]"}),e.jsxs("div",{className:"basis-4/5",children:[e.jsx("p",{className:"text-figma-neutral-light font-bold text-xs text-left",children:"Wire Transfer"}),e.jsx("p",{className:"text-figma-neutral text-xs font-semibold mt-1 text-left",children:"Use to deposit and withdraw large amounts. Your bank may charge a fee."})]})]})}),r&&e.jsx(G,{variant:"error",className:"mt-4",children:ct(r)})]})]})},G7=({handleBack:t})=>{var u;const{passportName:s,hasLoaded:a}=Le(),{data:n,isLoading:r,error:i}=N6(),l=!a||r,o=ct(i);return l?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:t,children:"Wire Transfer Instructions"}),e.jsx("p",{className:"text-xs font-medium",children:"Deposit funds from an external account via wire. Funds will be available within 1-2 business days."}),e.jsxs("div",{className:"rounded bg-figma-neutral-dark p-4 mt-2",children:[e.jsx("p",{className:"text-[10px] font-bold",children:"Receiving Bank Name"}),e.jsx("p",{className:"text-xs font-bold mt-1",children:"Lead Bank"}),e.jsx("p",{className:"text-[10px] font-bold mt-3",children:"Receiving Bank Address"}),e.jsxs("p",{className:"text-xs font-bold mt-1",children:["1801 Main St.",e.jsx("br",{}),"Kansas City, MO 64108"]}),e.jsx("p",{className:"text-[10px] font-bold mt-3",children:"Beneficiary Name"}),e.jsxs("p",{className:"text-xs font-bold mt-1",children:["Figure Payments Corporation",e.jsx("br",{}),"DBA Figure Pay FBO FPC Customers"]}),e.jsx("p",{className:"text-[10px] font-bold mt-3",children:"Beneficiary Address"}),e.jsxs("p",{className:"text-xs font-bold mt-1",children:["100 West Liberty St, Suite 600",e.jsx("br",{}),"Reno, NV 89501"]}),e.jsx("p",{className:"text-[10px] font-bold mt-3",children:"Beneficiary Bank Routing Number"}),e.jsx("p",{className:"text-xs font-bold mt-1",children:"101206101"}),e.jsx("p",{className:"text-[10px] font-bold mt-3",children:"Beneficiary Account Number"}),e.jsx("p",{className:"text-xs font-bold mt-1",children:"1000684075"}),e.jsx("p",{className:"text-[10px] font-bold text-negative-100 mt-3",children:"For Further Credit To"}),e.jsxs("p",{className:"text-xs font-bold mt-1",children:[s,e.jsx("br",{}),(u=n==null?void 0:n.wireDepositInfo)==null?void 0:u.referenceCode]})]}),e.jsx(G,{children:"Please do not send funds via ACH. Funds will be deposited on same day if received before 1pm PT."}),o&&e.jsx(G,{variant:"error",children:o}),e.jsx(T.Secondary,{className:"w-full flex justify-center",onPress:t,children:"Back"})]})},z7={className:"p-4 border-[1px] w-full rounded-[10px] border-neutral-200 selected:border-p-500 cursor-pointer hover:border-neutral-300 focus:border-neutral-300 active:border-p-500 active:ring-inset active:ring-p-500 active:ring-2 disabled:opacity-50 disabled:cursor-default"},U1=t=>e.jsx(Hd,{...wi(z7,t)}),ka=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:121,height:120,viewBox:"0 0 121 120",fill:"none",...t},c.createElement("path",{d:"M40.7014 104.182L37.3595 102.267L37.608 101.834L36.1885 101.02V99.4493H35.6885V95.7281H36.1885V92.0068H35.6885V88.2855H36.1885V84.5643H35.6885V80.843H36.1885V79.3577L37.499 78.9766L37.3595 78.4965L40.7014 77.5248L40.841 78.005L44.183 77.0333L44.0434 76.5532L47.3853 75.5815L47.5249 76.0616L50.8669 75.09L50.7273 74.6098L54.0692 73.6382L54.2088 74.1183L55.7402 73.673L57.2716 74.1183L57.4112 73.6382L60.7531 74.6098L60.6135 75.09L63.9554 76.0616L64.095 75.5815L67.437 76.5532L67.2974 77.0333L70.6393 78.005L70.7789 77.5248L74.1208 78.4965L73.9812 78.9766L75.2918 79.3577V80.843H75.7918V84.5643H75.2918V88.2855H75.7918V92.0068H75.2918V95.7281H75.7918V99.4493H75.2918V101.02L73.8722 101.834L74.1208 102.267L70.7789 104.182L70.5303 103.748L67.1884 105.663L67.437 106.097L64.095 108.012L63.8465 107.578L60.5045 109.493L60.7531 109.926L57.4112 111.841L57.1626 111.407L55.7402 112.222L54.3178 111.407L54.0692 111.841L50.7273 109.926L50.9758 109.493L47.6339 107.578L47.3853 108.012L44.0434 106.097L44.2919 105.663L40.95 103.748L40.7014 104.182Z",fill:"#080E18",stroke:"#5A56EC",strokeDasharray:"3.53 3.53"}),c.createElement("path",{d:"M97.9502 51.6419L97.9565 55.1852L97.4565 55.186L97.4592 56.6684L96.3805 57.2912L96.6305 57.7242L93.972 59.2591L93.722 58.8261L91.0635 60.3609L91.3135 60.7939L88.655 62.3288L88.405 61.8958L85.7465 63.4307L85.9965 63.8637L83.338 65.3986L83.088 64.9656L82.2109 65.472L81.7339 64.557L81.2905 64.7882L79.854 62.0325L80.2974 61.8014L78.8609 59.0457L78.4175 59.2768L76.981 56.5211L77.4244 56.29L75.9879 53.5343L75.5445 53.7654L74.108 51.0097L74.5514 50.7786L73.1149 48.0229L72.6715 48.254L71.235 45.4983L71.6784 45.2672L70.9909 43.9483L70.5844 42.0988L70.096 42.2061L69.2545 38.3773L69.7429 38.27L68.9014 34.4411L68.413 34.5485L67.5715 30.7197L68.0599 30.6123L67.2184 26.7835L66.73 26.8909L65.8885 23.0621L66.3769 22.9547L66.0347 21.3977L67.047 20.8132L66.797 20.3802L69.4555 18.8453L69.7055 19.2783L72.364 17.7435L72.114 17.3105L74.7725 15.7756L75.0225 16.2086L77.681 14.6737L77.431 14.2407L80.0894 12.7058L80.3394 13.1388L81.4177 12.5163L82.5404 13.1694L82.7918 12.7372L85.5382 14.335L85.2868 14.7671L88.0331 16.3649L88.2845 15.9327L91.0309 17.5304L90.7794 17.9626L93.5258 19.5603L93.7772 19.1281L96.5235 20.7258L96.2721 21.158L97.3972 21.8125L97.3998 23.2971L97.8998 23.2963L97.9062 26.8395L97.4061 26.8404L97.4124 30.3836L97.9124 30.3827L97.9187 33.9259L97.4187 33.9268L97.425 37.47L97.925 37.4691L97.9313 41.0123L97.4313 41.0132L97.4376 44.5564L97.9376 44.5555L97.9439 48.0987L97.4439 48.0996L97.4502 51.6428L97.9502 51.6419Z",fill:"#080E18",stroke:"#5A56EC",strokeDasharray:"3.53 3.53"}),c.createElement("path",{d:"M55.7313 61.6113L55.7313 65.5365L55.2313 65.5365L55.2313 67.2098L53.8168 68.0231L54.066 68.4565L50.7354 70.3715L50.4862 69.938L47.1556 71.8529L47.4048 72.2864L44.0742 74.2013L43.825 73.7678L40.4944 75.6828L40.7436 76.1162L37.4131 78.0312L37.1638 77.5977L35.8209 78.3698L34.9163 77.515L34.5729 77.8784L32.2231 75.658L32.5665 75.2946L30.2168 73.0743L29.8734 73.4377L27.5236 71.2173L27.8671 70.8539L25.5173 68.6335L25.1739 68.9969L22.8241 66.7765L23.1676 66.4131L22.0918 65.3966L21.5962 63.6789L21.1158 63.8175L20.0488 60.1199L20.5292 59.9813L19.4622 56.2837L18.9818 56.4223L17.9147 52.7247L18.3951 52.586L17.3281 48.8884L16.8477 49.0271L15.7807 45.3294L16.2611 45.1908L15.8361 43.718L17.1446 42.9625L16.8946 42.5295L20.1895 40.6272L20.4395 41.0602L23.7344 39.1579L23.4844 38.7249L26.7792 36.8226L27.0292 37.2556L30.3241 35.3533L30.0741 34.9203L33.369 33.018L33.619 33.4511L35.0172 32.6438L36.4939 33.4907L36.7426 33.057L40.1951 35.0371L39.9464 35.4709L43.3988 37.451L43.6476 37.0173L47.1001 38.9975L46.8513 39.4312L50.3038 41.4114L50.5526 40.9776L54.005 42.9578L53.7563 43.3915L55.2313 44.2375L55.2313 45.9105L55.7313 45.9105L55.7313 49.8357L55.2313 49.8357L55.2313 53.7609L55.7313 53.7609L55.7313 57.6861L55.2313 57.6861L55.2313 61.6113L55.7313 61.6113Z",fill:"#080E18",stroke:"#5A56EC",strokeDasharray:"3.53 3.53"}),c.createElement("path",{d:"M35.6885 78.9902L55.74 67.4755L75.7957 78.9882L55.7406 90.5899L35.6885 78.9902Z",fill:"#5A56EC"}),c.createElement("path",{d:"M82.0088 66.166L65.5122 56.5905L65.4647 21.1457L82.0249 30.6879L82.0088 66.166Z",fill:"#5A56EC"}),c.createElement("path",{d:"M35.7529 78.9863L15.3074 67.1187L15.2486 43.4759L35.7729 55.3022L35.7529 78.9863Z",fill:"#5A56EC"}),c.createElement("line",{x1:55.7305,y1:88.1699,x2:55.7305,y2:111.887,stroke:"#5A56EC",strokeDasharray:"3.53 3.53"}),c.createElement("line",{x1:80.2563,y1:31.6178,x2:97.2,y2:21.8354,stroke:"#5A56EC",strokeDasharray:"3.53 3.53"}),c.createElement("line",{x1:33.6401,y1:56.5572,x2:54.6397,y2:44.4331,stroke:"#5A56EC",strokeDasharray:"3.53 3.53"})),K7=()=>{const t=X(),{data:s,usdEnabled:a,getAsset:n}=Te(),{data:r}=Et(),[i,l]=c.useState(""),[o,u]=c.useState(!1),d=c.useRef(null),x=Fe(),{originalLicensingJurisdiction:m}=ae(pt),f=c.useMemo(()=>(s==null?void 0:s.crypto.map(({name:y})=>y))||[],[s]),p=c.useMemo(()=>x.IS_IRELAND_RESTRICTION_ENABLED&&m==="IRELAND"?["USDT"]:[],[x,m]),g=c.useMemo(()=>a?[...f,"USD"]:f,[a,f]).filter(y=>!p.includes(y)),h=y=>{t(te.setSelectedAsset(y)),y==="HASH"?t(te.goToCommitCrypto()):y==="USD"?t(te.goToTransferUSD()):f.includes(y)&&t(te.goToTerms())};c.useEffect(()=>{const y=()=>{if(d.current){const C=d.current,{height:w}=C.getBoundingClientRect();u(w>=500)}};return y(),window.addEventListener("load",y),()=>{window.removeEventListener("load",y)}},[]);const b=c.useMemo(()=>{const y=i.toLocaleLowerCase();return g.map(C=>{var N,v;const w=n(C);return{asset:C,displayName:w==null?void 0:w.displayName,name:w==null?void 0:w.name,type:(w==null?void 0:w.type)||"STABLECOIN",volume24h:((v=(N=r==null?void 0:r.data)==null?void 0:N.find(A=>A.denom===C))==null?void 0:v.volume24h)??"0"}}).filter(C=>{var w,N;return((w=C.name)==null?void 0:w.toLocaleLowerCase().includes(y))||((N=C.displayName)==null?void 0:N.toLocaleLowerCase().includes(y))}).sort((C,w)=>Number(w.volume24h)-Number(C.volume24h))},[i,r,g,n]),j=({asset:y,displayName:C})=>e.jsx(U1,{className:"flex items-center",value:y.asset,"aria-label":y.asset,children:e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"w-4 h-4",displayName:C,coin:y.asset}),e.jsx("p",{className:"text-neutral-500 text-xs font-semibold ml-2",children:C})]})},y.asset);return e.jsxs("div",{ref:d,className:"h-full max-h-[505px] flex flex-col gap-4 overflow-hidden",children:[e.jsx(ne,{onBack:()=>t(Ce.closeModal()),children:"Select Asset"}),e.jsx(Pe.Search,{placeholder:"Search assets",value:i,onChange:y=>l(y.target.value),onClear:()=>l("")}),e.jsx("div",{className:k(o?"overflow-auto scrollbar-thin":""),children:b.length===0?e.jsxs("div",{className:"h-40 bg-figma-dark flex flex-col gap-2 items-center justify-center",children:[e.jsx(ka,{}),e.jsx("span",{className:"text-figma-neutral text-sm",children:"No results"})]}):e.jsxs(ho,{className:k("w-full flex flex-col gap-2",o?"pr-5":""),onChange:y=>h(y),"aria-label":"Select which token you want to deposit",children:[b.filter(y=>y.type==="STABLECOIN").length>0&&e.jsx("span",{className:"text-xs font-bold",children:"Cash Equivalents"}),b.filter(y=>y.type==="STABLECOIN").sort((y,C)=>y.asset.localeCompare(C.asset)).map(y=>{const C=y.displayName===y.name?y.displayName:`${y.displayName} (${y.name})`;return e.jsx(j,{asset:y,displayName:C},y.name)}),b.filter(y=>y.type==="CRYPTO").length>0&&e.jsx("span",{className:"text-xs font-bold",children:"Crypto"}),b.filter(y=>y.type==="CRYPTO").sort((y,C)=>{const w=y.asset==="BTC"||y.asset==="ETH"||y.asset==="SOL"?-1:0,N=C.asset==="BTC"||C.asset==="ETH"||C.asset==="SOL"?-1:0;return w-N}).map(y=>{const C=y.displayName===y.name?y.displayName:`${y.displayName} (${y.name})`;return e.jsx(j,{asset:y,displayName:C},y.name)})," "]})})]})},Y7=()=>{const{openedWithAsset:t}=ae(Zt),s=X(),{mutateAsync:a,isLoading:n}=bn(),r=async()=>{const l=await a({requestBody:{expirationDays:30}}),o=new Date().toISOString();s(te.setAuthZGrantResponse(l)),l.existingAuthExpiration&&l.existingAuthExpiration>o?s(te.goToTimingNotice()):s(te.goToGrant())},i=()=>{s(t?Ce.closeModal():te.reset())};return n?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:i,children:"Deposit Terms"}),e.jsxs(e.Fragment,{children:[e.jsx(m4,{className:"w-[300px] h-[150px] mx-auto"}),e.jsx("p",{className:"text-neutral-800 text-xs leading-[1.125rem]",children:"To enable fast trading, Figure Exchange will lock, secure, and perfect your assets once deposited. Your assets can be withdrawn at anytime."}),e.jsx(T.Primary,{onPress:r,className:"w-full",children:"Agree and Continue"}),e.jsxs("p",{className:"text-neutral-800 text-xxs font-medium leading-4 text-center",children:["By clicking “Continue”, you agree to Figure Payment Corporation's"," ",e.jsx("u",{children:e.jsx("a",{href:`${ri}/disclosures/exchange-terms/`,children:"Terms and Conditions"})}),", specifically the Digital Asset Provision in Section 3(b)."]})]})]})},Q7=()=>{const t=X(),s=ae(Zt),{walletBridgeService:a}=Nt(),n=Be(),{mutateAsync:r,isLoading:i}=bn(),l=c.useCallback(async()=>{try{const d=s.authZGrantResponse;if(!d)return;const x="Approve the permission request to enable fast trading on exchange.",m=bt();if(d){const f=await a.broadcast(d.authzTx.messages.base64,{description:x,feeGranter:d.authzTx.feeGranter,customId:m,memo:d.authzTx.txBody.memo,timeoutHeight:d.authzTx.txBody.timeoutHeight});if(f.success&&t(te.goToTimingNotice()),!f.success)throw new Error("There was an error signing the permission request. Please try again.")}}catch(d){ys.error(d),n.notifyGenericError({title:"There was an error signing the permission request. Please try again."})}},[s.authZGrantResponse,t,a,n]),o=async()=>{try{const d=await r({requestBody:{expirationDays:30}});t(te.setAuthZGrantResponse(d)),l()}catch(d){ys.error(d),n.notifyGenericError({title:"There was an error signing the permission request. Please try again."})}},u=c.useRef(!0);return c.useEffect(()=>{u.current&&(u.current=!1,l())},[l,u]),i?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{children:"Trading Permission Required"}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-6",children:e.jsx(Gt,{className:"mx-auto"})}),e.jsx(G,{variant:"info",symbol:"wallet",children:"Approve the permission request in the Figure Wallet app to enable fast trading on exchange."}),e.jsx("p",{className:"text-neutral-800 text-[0.625rem] font-medium leading-[0.875rem] text-center",children:"This permission expires in 30 days."}),e.jsx(T.Nav,{onPress:o,className:"w-full font-medium text-xxs text-p-light underline disabled:opacity-50",children:"Didn't Receive an Approval Request?"})]})]})},J7="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_1125_29581)'%3e%3cpath%20d='M4%203.74952H0.5V11.5L7.25016%2011.4727V8.24448'%20stroke='%23DDDDDD'%20stroke-width='1.5'/%3e%3cpath%20d='M4.75%200.75H11.25V8.25H4.75V0.75Z'%20stroke='%23DDDDDD'%20stroke-width='1.5'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1125_29581'%3e%3crect%20width='12'%20height='12'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",X7=t=>e.jsx(Y,{className:`${t.narrowPadding?"p-2":"p-4"} text-xs rounded-md font-bold transition-all border border-solid border-neutral-200 w-full outline-none hover:border-neutral-300`,...t}),ex="bg-neutral-100 py-2 px-2.5 font-bold leading-[0.875rem] text-[0.625rem] text-neutral-500",tx=()=>{var m,f;const{getAsset:t}=Te(),s=X(),{depositAddressResponse:a,selectedAsset:n}=ae(Zt),r=()=>{s(te.goToDepositConfirmation())},{notifyWalletAddressCopied:i}=Be();if(!a||!n)return null;const l=t(n),o=new Date,u=new Date(o.setDate(o.getDate()+7)),d=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(u),x=l!=null&&l.network?`${l==null?void 0:l.displayName} (${l.network})`:l==null?void 0:l.displayName;return l?e.jsxs(e.Fragment,{children:[e.jsxs(ne,{onBack:()=>s(Ce.closeModal()),children:[e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("p",{children:"Deposit:"}),e.jsx(ue,{coin:n,displayName:n,className:"w-4 h-4"}),e.jsx("p",{children:n})]})," "]}),e.jsxs("div",{className:`${ex} rounded-md tabular-nums text-xs font-bold`,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{children:"Deposit minimum"}),e.jsxs("p",{children:[(m=l.depositConfig)==null?void 0:m.minimumQuantity," ",n]})]}),e.jsxs("div",{className:"flex justify-between mt-1.5 text-xs font-bold",children:[e.jsx("p",{children:"Typical processing time"}),e.jsx("p",{children:(f=l.depositConfig)==null?void 0:f.processingTime})]})]}),e.jsxs("p",{className:"text-center font-bold text-xs",children:["Scan with your Crypto Wallet to Deposit ",x]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("img",{src:`data:image/png;base64,${a.b64PngDepositAddressQrCode}`,alt:"Deposit Address QR Code",className:"w-[260px] h-[260px] mx-auto"}),e.jsxs("div",{className:"w-[260px] h-[32px] gap-x-1 bg-white text-xs text-center text-neutral-100 underline underline-offset-2 flex flex-start justify-center",children:["Expires ",d,e.jsx(Me,{className:"max-w-[257px]",icon:e.jsx(d4,{}),iconClassname:"flex flex-start mt-1",heading:"Deposit Address Expiration",description:"Reusing this address for future deposits after the expiration date can result in asset loss. Always request a new deposit address for future deposits to ensure assets are transferred successfully from your external wallet to your Figure Markets account."})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"mt-3 font-bold text-xs mb-1",children:["Or Send ",x," to this Address Manually"]}),e.jsx(X7,{narrowPadding:!0,onPress:async()=>{await navigator.clipboard.writeText(a.depositAddress),i()},children:e.jsxs("div",{className:"flex justify-between items-center break-all text-left",children:[e.jsx("p",{className:"text-sm font-normal",children:a.depositAddress}),e.jsx("img",{className:"w-3 h-3 ml-1",src:J7,alt:"copy-to-clipboard"})]})})]}),e.jsxs("div",{children:[e.jsxs(G,{children:[`Sending ${l.name} under the minimum deposit amount or other assets may result in your asset loss.`,n==="USDC"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-1"})," You must send your USDC on the Ethereum network. Using the wrong network will result in a loss of funds."]})]}),e.jsx(T.Primary,{onPress:r,className:"mt-4 w-full",children:"Done"})]})]}):null},sx=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:126,height:95,viewBox:"0 0 126 95",fill:"none",...t},c.createElement("path",{d:"M87.6941 37.2135C109.133 40.7972 124.29 49.9765 124.753 61.3264C125.386 76.8671 98.2278 90.5924 64.094 91.9827C29.9602 93.373 1.77613 81.9018 1.14314 66.3611C0.683603 55.0787 14.8716 44.7532 35.7425 39.4097",stroke:"#5A56EC",strokeWidth:.7,strokeDasharray:"4 4"}),c.createElement("path",{d:"M42.6226 1.20081L29.3858 76.1584L36.0042 77.5436L38.4668 71.6948L62.7857 76.1584L63.8631 82.9307L70.9433 84.316L80.4861 5.20266L42.6226 1.20081Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:.371}),c.createElement("path",{d:"M94.1819 62.919L80.4836 5.20129L74.4809 56.6085L84.947 57.8398L87.4097 61.9955L94.1819 62.919Z",fill:"#5A56EC"}),c.createElement("path",{d:"M50.3071 11.4374L50.7939 6.77979L69.6328 8.65673L69.0767 13.5229L50.3071 11.4374Z",stroke:"#5A56EC",strokeWidth:.7}),c.createElement("path",{d:"M55.452 9.48894L54.9652 7.2644L50.812 6.89819L50.4467 11.3659L68.8686 13.5209L69.4247 10.9488L55.452 9.48894Z",fill:"#5A56EC"}),c.createElement("path",{d:"M72.5163 83.7336L71.1072 84.5388L80.4548 5.12824L81.8031 4.64294L72.5163 83.7336Z",fill:"#5A56EC"}),c.createElement("path",{d:"M43.8188 0.49996L42.4527 0.995014L80.5653 5.3747L81.8159 4.63361L43.8188 0.49996Z",fill:"#5A56EC"}),c.createElement("path",{d:"M75.7429 57.9065L82.0112 4.65552",stroke:"#080E18",strokeWidth:.7}),c.createElement("path",{d:"M38.1754 77.051L36.116 77.7638L38.4527 71.8231L39.6144 72.0369L38.1754 77.051Z",fill:"#5A56EC"}),c.createElement("path",{d:"M76.0556 23.1731L41.8898 19.0465L35.926 54.2011L71.2815 60.1026L76.0556 23.1731Z",stroke:"#5A56EC",strokeWidth:.7}),c.createElement("path",{d:"M43.7505 44.4664L56.2772 29.8176C57.2458 28.6848 59.0686 28.9715 59.6428 30.3469L67.0695 48.1357C67.6722 49.5795 66.4585 51.1251 64.9129 50.8819L44.9596 47.7419C43.4143 47.4987 42.7338 45.6553 43.7505 44.4664Z",fill:"#FFC82A"}),c.createElement("path",{d:"M57.6693 36.3818L56.6884 43.7671L55.5631 43.6428L56.2183 36.2215L57.6693 36.3818ZM55.8529 46.7172C55.5962 46.6889 55.3889 46.576 55.2308 46.3787C55.0728 46.1814 55.008 45.9544 55.0363 45.6978C55.0647 45.4411 55.1775 45.2338 55.3748 45.0757C55.5721 44.9177 55.7991 44.8529 56.0558 44.8812C56.3025 44.9085 56.5 45.0202 56.6482 45.2164C56.8062 45.4138 56.8711 45.6407 56.8427 45.8974C56.8144 46.154 56.7015 46.3614 56.5042 46.5194C56.3168 46.6786 56.0997 46.7445 55.8529 46.7172Z",fill:"#1C2434"})),ax="text-neutral-500 text-xs font-semibold",nx=()=>{const t=X(),s=ae(Zt),[a,n]=c.useState(!1),{mutateAsync:r,isLoading:i,error:l}=zu(),o=async()=>{if(!s.selectedAsset)return;const u=await r({requestBody:{denom:s.selectedAsset}});t(te.setDepositAddressResponse(u)),t(te.goToDestination())};return i?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):l?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:`${ax} text-center mt-4`,children:"Generating 7-day deposit address"}),e.jsxs(G,{variant:"error",children:[ct(l),e.jsx("br",{}),e.jsx("br",{}),"There was an error generating your deposit address. Please try again."]}),e.jsx(T.Primary,{onPress:o,className:"mt-4 w-full",children:"Try Again"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(te.reset()),children:"Important: Deposit Addresses May Change After 7 Days"}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(sx,{className:"h-[117px]"})}),e.jsxs(G,{children:["Generated deposit addresses may change after 7 days. Return here to request a new deposit address for future deposits to prevent asset loss."," ",e.jsx("a",{className:"underline underline-offset-2",target:"_blank",rel:"noreferrer",href:"https://www.figuremarkets.com/faqs/trade/deposits-&-withdrawals/-crypto-deposit-address/",children:"Learn More"})]}),e.jsx(Os,{className:"text-xs font-bold",isSelected:a,onChange:n,children:"I will use this deposit address within 7 days"}),e.jsx(T.Primary,{isDisabled:!a,onPress:o,className:"w-full",children:"Generate Deposit Address"})]})]})},B1=({isWithdraw:t,plaidACHAccounts:s,wireAccounts:a=[],selectedAmount:n,selectedDestination:r,amountInputLabel:i,destinationInputLabel:l,initialMaximumAmount:o,maximumAmount:u,maximumAmountErrorMessage:d,isSubmitDisabled:x,handleSelectDestination:m,handleAddAnotherOption:f,handleWire:p,handleContinue:g,handleReconnect:h})=>{var v,A;const b=c.useRef(null),[j,y]=c.useState(!1),C=s.find(E=>E.id===r)||a.find(E=>E.id===r),w=Xe({defaultValues:{amount:{value:n??0,display:String(n??"")},selectedDestination:r||((v=s[0])==null?void 0:v.id)||((A=a[0])==null?void 0:A.id)},resolver:et(tt({selectedDestination:mt().required(),amount:qe().required("An amount is required").test("minimum-amount","Amount must be greater than the minimum amount",(E,P)=>Number(E.value)>=1?!0:P.createError({path:P.path,message:"Amount is less than the minimum amount of 1"})).test("maximum-amount",d,(E,P)=>{if((C==null?void 0:C.type)==="WIRE_ACCOUNT")return!0;const L=Number(E.value);return u!==void 0&&L<=u?!0:P.createError({path:P.path,message:d})})}))}),N="text-xs font-[700] antialiased text-[text-rendering:optimizeLegibility]";return e.jsx(st,{...w,children:e.jsxs("form",{onSubmit:E=>{var P;C&&fc(C)&&((P=C.connectionStatus)!=null&&P.loginRequired)?w.handleSubmit(h)(E):w.handleSubmit(g)(E)},children:[e.jsx(Pe.Number,{name:"amount",displayName:"USD",label:i,precision:2,increment:"0.01"}),C?e.jsx(Ws,{children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-neutral-500 mt-2 mb-1",children:l}),e.jsxs(Y,{className:"flex justify-between items-center bg-neutral-100 hover:bg-p-500 outline-none outline-offset-0 px-2.5 py-2.5 rounded w-full hover:cursor-pointer",ref:b,onPress:()=>y(!0),children:[e.jsxs("div",{className:"flex justify-start items-center gap-2",children:[C.type==="ACH_ACCOUNT"?e.jsx(zn,{}):e.jsx(Vn,{className:"h-[16px] w-[16px]"}),e.jsx("p",{className:"text-xs text-left font-bold truncate w-[160px]",children:za(C)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-bold mx-2 hidden md:block","data-testid":"market-selector-dropdown",children:`****${C.accountNumberMask}`}),e.jsx(ds,{className:`w-3 h-3 ${j&&"rotate-180"} transition ease-in-out duration-500`})]})]}),e.jsx(xa,{isOpen:j,triggerRef:b,onOpenChange:Lt()?void 0:E=>y(E),offset:-25,crossOffset:0,className:"entering:animate-in entering:fade-in exiting:animate-out exiting:fade-out max-h-50 overflow-auto",isNonModal:!0,children:e.jsx(is,{className:"outline-none outline-offset-0 rounded w-[304px]",children:e.jsxs("div",{className:"rounded-sm",children:[e.jsx("div",{"aria-hidden":"true",onKeyDown:Lt()?void 0:()=>y(!1),onClick:Lt()?void 0:()=>y(!1),className:"h-[25px] cursor-pointer"}),s.map(E=>{const P=C.id===E.id;return e.jsxs(Y,{id:E.id,className:"group bg-neutral-100 text-neutral-800 font-bold cursor-pointer px-2.5 py-2.5  flex justify-between items-center gap-2 hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white group w-full","aria-label":E.id,onPress:()=>{y(!1),w.setValue("selectedDestination",E.id),m(E.id)},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zn,{}),e.jsx("p",{className:"text-xs text-left font-bold truncate w-[160px]",children:za(E)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-figma-neutral-light",children:`****${E.accountNumberMask}`}),E.bankAccountType&&e.jsx("p",{className:`text-xs font-bold ${P?"":"text-figma-neutral"}`,children:V5(E.bankAccountType)})]}),e.jsx(Bs,{className:P?"":"invisible"})]})]},E.id)}),a.map(E=>{const P=C.id===E.id;return e.jsxs(Y,{id:E.id,className:"group bg-neutral-100 text-neutral-800 font-bold cursor-pointer px-2.5 py-2.5  flex justify-between items-center gap-2 hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white group w-full","aria-label":E.id,onPress:()=>{y(!1),w.setValue("selectedDestination",E.id),m(E.id)},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vn,{className:"h-[16px] w-[16px]"}),e.jsx("p",{className:"text-xs text-left font-bold truncate w-[160px]",children:za(E)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-right text-xs font-bold text-figma-neutral-light",children:`****${E.accountNumberMask}`}),e.jsx("p",{className:`text-right w-[80px] text-xs font-bold ${P?"":"text-figma-neutral"}`,children:"Wire Transfer"})]}),e.jsx(Bs,{className:P?"":"invisible"})]})]},E.id)}),e.jsxs(Y,{className:"group bg-neutral-100 text-neutral-800 font-bold cursor-pointer px-2.5 py-2.5 w-full flex justify-between items-center gap-2 hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white group","aria-label":"Add another option",onPress:p,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vn,{className:"h-[16px] w-[16px]"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-left",children:"Wire Transfer"}),e.jsxs("p",{className:"text-xs font-bold text-figma-neutral text-left",children:[t?"Withdraw":"Deposit"," large amounts"]})]})]}),e.jsx(el,{className:"rotate-180 h-[12px] w-[12px]"})]}),e.jsx(Y,{className:"group bg-neutral-100 text-neutral-800 font-bold cursor-pointer px-2.5 py-2.5 w-full flex justify-between items-center gap-2 hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white group","aria-label":"Add another option",onPress:()=>{y(!1),f()},children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("p",{className:"text-xs font-bold",children:"Add another option"})})})]})})})]})}):e.jsx(Y,{className:"flex justify-between items-center bg-neutral-100 hover:bg-p-500 outline-none outline-offset-0 px-2.5 py-2.5 rounded w-full hover:cursor-pointer mt-2",ref:b,onPress:f,children:e.jsx("div",{className:"flex justify-start items-center gap-2",children:e.jsx("p",{className:"text-xs font-bold",children:"Add a bank"})})}),e.jsx(T.Primary,{className:"w-full flex justify-center mt-4",type:"submit",isDisabled:x,children:e.jsx("div",{className:"flex gap-x-2 items-center",children:e.jsx("p",{children:"Continue"})})}),(C==null?void 0:C.type)==="ACH_ACCOUNT"&&e.jsxs("div",{className:"flex flex-col gap-y-1.5 mt-6 px-2.5 py-2 bg-figma-neutral-dark rounded-[4px]",children:[!t&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:N,children:"Available time"}),e.jsx("p",{className:N,children:"Immediately"})]}),o!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:N,children:"Daily ACH limit"}),e.jsxs("p",{className:N,children:["$",he(o,t?0:2,!0)]})]}),t&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:N,children:"Processing time"}),e.jsx("p",{className:N,children:"3-5 business days"})]})]})]})})},W1=({plaidAccountId:t})=>{const s=X(),a=ns(_a);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded bg-figma-neutral-dark p-4",children:e.jsx("p",{className:"text-figma-neutral-light font-bold text-sm",children:"To complete your transaction, your bank requires you to log in again. Please click the button below to proceed."})}),e.jsx(T.Primary,{className:"w-full flex justify-center",onPress:()=>{s(Ce.setPlaid({...a.plaid,isIframeOpen:!0,flow:a.activeModal,plaidAccountId:t}))},children:"Reconnect"})]})},rx=()=>{const[t,s]=c.useState(),a=X(),{amountToCommit:n,selectedDestination:r}=ae(Zt),{data:i,isFetching:l}=I6({path:{plaidAccountId:r??""},queryOptions:{enabled:!!r}}),{data:o,isFetching:u,error:d}=h1(),{depositMaximum:x,depositMaximumErrorMessage:m,initialDepositMaximum:f}=c.useMemo(()=>{const P=(()=>{var B;if(((B=o==null?void 0:o.deposit)==null?void 0:B.limitMinorUnits)!==void 0)return o.deposit.limitMinorUnits/100})(),L=(()=>{var B;if(((B=o==null?void 0:o.deposit)==null?void 0:B.remainingLimitMinorUnits)!==void 0)return o.deposit.remainingLimitMinorUnits/100})(),O=i!=null&&i.balance?Number(i.balance):void 0,W=`$${he(P,2,!0)}`,$=`$${he(L,2,!0)}`,R=`$${he(O,2,!0)}`,D=O!==void 0&&L!==void 0&&O<L;return{depositMaximum:D?O:L,depositMaximumErrorMessage:D?`The amount you’ve entered exceeds the available balance in your external account. Please try again with an amount lower than ${R}.`:`There is a ${W} daily limit for deposits.${L!==void 0&&P!==void 0&&L!==P?` You currently have ${$} remaining in your daily deposit limit.`:""}`,initialDepositMaximum:P}},[o,i]),{data:p,isLoading:g,error:h}=Lr({query:{includeConnectionStatus:!0}}),b=!r&&!h||l||u||g,j=ns(_a),y=d||h||j.plaid.error,C=c.useCallback(P=>{a(te.setSelectedDestination(P))},[a]),w=P=>{a(te.setAmountToCommit(P.amount.value)),C(P.selectedDestination),a(te.goToConfirmUSDDeposit())},N=P=>{s(P.selectedDestination),(i==null?void 0:i.balance)!==void 0&&P.amount.value<=i.balance&&a(te.setAmountToCommit(P.amount.value)),C(P.selectedDestination)},v=c.useCallback(()=>{a(te.goToAddAnotherPlaidOption())},[a]),A=()=>{a(te.goToSelect())},E=()=>{a(te.goToWireUSDTransactionApproval("transfer-usd"))};return c.useEffect(()=>{var P;!g&&!h&&(p&&(((P=p.data)==null?void 0:P.length)||0)>0||v())},[v,g,p,h]),c.useEffect(()=>{var P;!r&&!g&&(((P=p==null?void 0:p.data)==null?void 0:P.length)??0)>0&&C(p.data[0].id)},[C,g,p,r]),e.jsxs(e.Fragment,{children:[e.jsxs(ne,{onBack:A,children:["Deposit: ",e.jsx(ue,{coin:"USD",displayName:"USD",className:"w-4 h-4"})," USD"]}),b?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"m-6 w-12 h-12",children:e.jsx(ve,{})})}):e.jsx(e.Fragment,{children:t?e.jsx(W1,{plaidAccountId:t}):e.jsxs(e.Fragment,{children:[e.jsx(B1,{plaidACHAccounts:(p==null?void 0:p.data)??[],selectedAmount:n,selectedDestination:r,amountInputLabel:"How much USD do you want to deposit?",destinationInputLabel:"Transfer from:",initialMaximumAmount:f,maximumAmount:x,maximumAmountErrorMessage:m,isSubmitDisabled:!!d,handleSelectDestination:C,handleAddAnotherOption:v,handleWire:E,handleContinue:w,handleReconnect:N}),y&&e.jsx(G,{variant:"error",children:ct(y)})]})})]})},ix=()=>{var f;const t=X(),s=ae(Zt),a=ft(),n=9,r=s.amountToCommit??0,i=I(10).pow(-n),l=s.selectedAsset,o=(f=a.positions)==null?void 0:f.uncommittedAssets.find(p=>p.denom.toLowerCase()===(l==null?void 0:l.toLowerCase())),u=(o==null?void 0:o.quantity)??0,d=Xe({defaultValues:{quantity:{value:I(r??0).toNumber(),display:String(r)??""}},resolver:et(tt({quantity:qe().required("A quantity is required").test("minimum-quantity","Amount must be greater than the minimum commit amount",(p,g)=>Number(p.value)>=Number(i)?!0:g.createError({path:g.path,message:`Amount is less than the minimum commit amount of ${i}`})).test("maximum-quantity","Amount must be less than or equal to the available amount",(p,g)=>Number(p.value)<=Number(u)?!0:g.createError({path:g.path,message:`Amount is greater than the available amount of ${u}`}))}))}),x=p=>{t(te.setAmountToCommit(p.quantity.value)),t(te.goToCommitCryptoReview())},m=()=>{s.openedWithAsset?t(Ce.closeModal()):t(te.reset())};return l?e.jsxs(e.Fragment,{children:[e.jsxs(ne,{onBack:m,children:["Commit ",s.selectedAsset]}),e.jsx(st,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(x),className:"flex flex-col gap-y-[6px]",children:[e.jsx(Pe.Number,{name:"quantity",displayName:l,label:`How much ${l} would you like to commit?`,precision:n,increment:String(i)}),e.jsx("div",{children:e.jsxs("p",{className:"text-xs tabular-nums",children:["Available to Commit: ",u," ",l]})}),e.jsx(T.Primary,{className:"w-full mt-4",type:"submit",children:"Continue"})]})})]}):null},q1=t=>{const s=oe.shared.getLatestMarketUpdate(t),[a,n]=c.useState(s),r=c.useCallback(({data:i})=>{n(i)},[n]);return c.useEffect(()=>(n(s),oe.shared.subscribeToMarketUpdates(t,r),()=>{oe.shared.unsubscribeFromMarketUpdates(t,r)}),[t,r]),{marketSummary:a}},lx=()=>{const t=X(),{amountToCommit:s,selectedAsset:a}=ae(Zt),[n,r]=c.useState(!1),i=9,{marketSummary:l}=q1(a?`${a}-USD`:""),{mutateAsync:o}=Cr(),{walletBridgeService:u}=Nt(),d=Be(),x=(l==null?void 0:l.lastTradedPrice)??0,m=I(x).mul(s??0),f=()=>{p()},p=async()=>{if(!a||!s)return;const g=bt();try{const h=await o({requestBody:{assets:[{denom:a,amount:Number(s)}]}});if(r(!0),!(await u.broadcast(h.messages.base64,{description:`Commit ${s} ${a} to exchange`,feeGranter:h.feeGranter,customId:g})).success){d.notifyGenericError({title:"Commitment Error",description:"There was an error committing your asset. Please try again."}),t(te.goToCommitCrypto());return}d.notifyCommitmentRequested(a,s.toString(),a),t(Ce.closeModal())}catch{d.notifyGenericError({title:"Commitment Error",description:"There was an error committing your asset. Please try again."}),t(te.goToCommitCrypto())}};return!s||!a||!l?null:n?e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(te.goToCommitCrypto()),children:e.jsx("div",{className:"flex justify-start gap-1 items-center",children:e.jsx("p",{children:"Commitment Approval Required"})})}),e.jsx("div",{className:"my-6",children:e.jsx(Gt,{className:"mx-auto"})}),e.jsx(G,{variant:"info",symbol:"wallet",children:"Approve the transaction in the Figure Wallet app to complete your commitment"}),e.jsx(T.Nav,{onPress:p,className:"w-full font-medium text-xxs text-p-light underline disabled:opacity-50",children:"Didn't Receive an Approval Request?"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(te.goToCommitCrypto()),children:"Review and Confirm"}),e.jsxs("div",{className:"bg-neutral-100 p-4 rounded-[4px]",children:[e.jsxs("p",{className:"text-neutral-500 text-base font-bold mb-1",children:[St(s,i,{minDigits:!0})," ",a]}),e.jsxs("div",{className:"flex items-center mb-4 gap-1",children:[e.jsxs("p",{className:"text-neutral-500 text-xxs font-bold",children:["≈",xe(m.toNumber(),!0)]}),e.jsx(Me,{heading:"USD Value",description:`Based on last traded price of ${x} per ${a}`})]}),e.jsx(G,{children:"This amount will be committed to the exchange for fast trading"})]}),e.jsx(T.Primary,{className:"w-full",onPress:f,children:"Confirm"})]})},$1=({selectedAmount:t,handleConfirm:s,account:a,error:n})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded bg-figma-neutral-dark p-4",children:[e.jsx("p",{className:"text-figma-neutral-light font-bold",children:xe(t,!0)}),e.jsx("p",{className:"text-figma-neutral-light text-[10px] mt-1 font-bold",children:"Bank Transfer Amount"}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(zn,{}),e.jsx("p",{className:"text-neutral-light font-bold text-xs ml-2",children:za(a)})]}),e.jsx("p",{className:"text-neutral-light font-bold text-xs ",children:`****${a.accountNumberMask}`})]})]}),e.jsx(T.Primary,{className:"w-full flex justify-center",onPress:s,children:"Confirm"}),n&&e.jsx(G,{variant:"error",className:"mt-1",children:ct(n)})]}),ox=t=>{const{onResendApprovalRequest:s,error:a,onBack:n}=t;return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:n,children:"Transfer Approval Required"}),e.jsx("div",{className:"flex justify-center mb-4 w-full",children:e.jsx(Gt,{})}),e.jsx(G,{variant:"info",symbol:"wallet",children:e.jsx("span",{children:"Approve your connection to Figure Exchange with your wallet"})}),a&&e.jsx(G,{variant:"error",className:"my-4",children:a||"There was an error with your trade. Please try again."}),e.jsx(T.Nav,{onPress:s,className:"w-full font-medium text-xxs text-p-light underline disabled:opacity-50",children:"Didn't Receive an Approval Request?"})]})},cx=()=>{var L;const[t,s]=c.useState(!1),[a,n]=c.useState(),[r,i]=c.useState(!1),l=c.useMemo(()=>!!(a||t),[a,t]),{amountToCommit:o,selectedDestination:u}=ae(Zt),d=X(),[x,m]=c.useState(void 0),{walletBridgeService:f}=Nt(),{data:p}=Lr(),g=Be(),{mutateAsync:h,error:b,isLoading:j}=bn(),{mutateAsync:y,error:C,isLoading:w}=A3(),N=(L=p==null?void 0:p.data)==null?void 0:L.find(O=>O.id===u);if(!o||!N)return null;const v=async()=>{var B;n(void 0),s(!1);const O={requestBody:{expirationDays:30}};let W=await h(O),$=Ya(W.existingAuthExpiration);if($)try{s(!0),x&&await f.reject(x);const _=bt();m(_);const F=await f.broadcast(W.authzTx.messages.base64,{description:`Deposit ${o} USD to ${N.routingNumber}`,feeGranter:W.authzTx.feeGranter,memo:W.authzTx.txBody.memo,timeoutHeight:W.authzTx.txBody.timeoutHeight,customId:_});if(!F.success)throw F.code===jr&&m(void 0),new Error("There was an error signing the permission request. Please try again.")}catch(_){s(!1),ys.error(_),n(((B=_==null?void 0:_.data)==null?void 0:B.message)??"There was an error with your transfer. Please try again.");return}s(!1),i(!0);const R=5e3,D=3e4,M=Date.now();for(;Date.now()-M<D&&$;)try{if(W=await h(O),$=Ya(W.existingAuthExpiration),!$)break}finally{$&&await new Promise(_=>setTimeout(_,R))}i(!1),$&&n("Wallet signing failed after thirty seconds."),await y({requestBody:{amount:o,sourcePlaidAccountId:u,currency:"USD",paymentRail:"ACH"}}),g.notifyDepositRequestReceived("USD",ps(o),"USD",`${N.institutionName} ****${N.accountNumberMask}`),d(Ce.closeModal())},A=()=>{d(te.goToTransferUSD())},E=b||C,P=j||w||r;return e.jsxs(e.Fragment,{children:[P&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:A,children:"Review and Confirm"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"m-6 w-12 h-12",children:e.jsx(ve,{})})})]}),l&&e.jsx(ox,{onBack:()=>{s(!1),n(void 0),i(!1)},onResendApprovalRequest:v,error:a||ct(E)}),!P&&!l&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:A,children:"Review and Confirm"}),e.jsx($1,{selectedAmount:o,handleConfirm:v,account:N,error:E})]})]})},dx=()=>{const t=c.useRef(!0),[s,a]=c.useState(!1),[n,r]=c.useState(),{mutateAsync:i}=bn(),[l,o]=c.useState(void 0),{walletBridgeService:u}=Nt(),d="Approve the transaction in the Figure Markets app to view wire transfer instructions",x=X(),m=ae(Zt),f=c.useMemo(()=>!!(n||s),[n,s]),p=c.useCallback(async()=>{var b,j;try{r(void 0);const y={requestBody:{expirationDays:30}};let C=await i(y),w=Ya(C.existingAuthExpiration);if(w)try{a(!0);const E=bt();o(E);const P=await u.broadcast(C.authzTx.messages.base64,{description:d,feeGranter:C.authzTx.feeGranter,memo:C.authzTx.txBody.memo,timeoutHeight:C.authzTx.txBody.timeoutHeight,customId:E});if(!P.success)throw P.code===jr&&o(void 0),new Error("There was an error signing the permission request. Please try again.")}catch(E){a(!1),ys.error(E),r(((b=E==null?void 0:E.data)==null?void 0:b.message)??"There was an error with your transfer. Please try again.");return}a(!1);const N=5e3,v=3e4,A=Date.now();for(;Date.now()-A<v&&w;)try{if(C=await i(y),w=Ya(C.existingAuthExpiration),!w)break}finally{w&&await new Promise(E=>setTimeout(E,N))}w?r("Wallet signing failed after thirty seconds."):x(te.goToWireInstructions())}catch(y){r(((j=y==null?void 0:y.data)==null?void 0:j.message)??"There was an error with your transfer. Please try again.")}},[x,i,u]);c.useEffect(()=>{t.current&&(t.current=!1,p())},[p,t]);const g=()=>{switch(m.backStep){case"add-another-plaid-option":x(te.goToAddAnotherPlaidOption());break;case"transfer-usd":x(te.goToTransferUSD());break}},h=async()=>{l&&await u.reject(l),await p()};return f?e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:g,children:"Transfer Approval Required"}),e.jsx("div",{className:"flex justify-center mb-4 w-full",children:e.jsx(Gt,{})}),e.jsx(G,{variant:"info",symbol:"wallet",children:e.jsx("span",{children:d})}),n&&e.jsx(G,{variant:"error",children:n}),e.jsx(T.Nav,{onPress:h,className:"w-full font-medium text-xxs text-p-light underline disabled:opacity-50",children:"Didn't Receive an Approval Request?"})]}):e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})})},ux=()=>e.jsx("div",{className:"p-4 w-[400px]",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-2 py-4",children:[e.jsx("img",{src:"https://www.datocms-assets.com/119559/1721144988-figure-markets-png.png",alt:"figure-markets-logo",className:"h-[50px] mb-4"}),e.jsx("span",{className:"font-extralight text-[30px] text-center",children:"Look out for confirmation"}),e.jsx("span",{className:"text-sm font-normal text-center leading-relaxed",children:"Once we receive your deposit, we will notify you so you can start trading."})]})}),mx=()=>{const t=ns(Zt),s=X();if(!(t!=null&&t.step))return null;const{step:a}=t;return e.jsx($e,{isOpen:!0,onClose:()=>s(Ce.closeModal()),ariaLabel:"Deposit Flow",useChildrenWidth:a==="deposit-confirmation",children:e.jsx(xx,{step:a})})},xx=({step:t})=>{const s=X();switch(t){case"select":return e.jsx(K7,{});case"terms":return e.jsx(Y7,{});case"grant":return e.jsx(Q7,{});case"destination":return e.jsx(tx,{});case"timing-notice":return e.jsx(nx,{});case"transfer-usd":return e.jsx(rx,{});case"commit-crypto":return e.jsx(ix,{});case"commit-crypto-review":return e.jsx(lx,{});case"add-another-plaid-option":return e.jsx(F1,{handleWire:()=>s(te.goToWireUSDTransactionApproval("add-another-plaid-option")),handleBack:()=>s(te.goToSelect())});case"wire-usd-transaction-approval":return e.jsx(dx,{});case"wire-instructions":return e.jsx(G7,{handleBack:()=>s(te.goToTransferUSD())});case"confirm-usd-deposit":return e.jsx(cx,{});case"deposit-confirmation":return e.jsx(ux,{});default:return e.jsx("div",{children:"Unknown step"})}},hx=t=>{const{onResendApprovalRequest:s,error:a,onBack:n}=t;return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:n,children:"Transfer Approval Required"}),e.jsx("div",{className:"flex justify-center mb-4 w-full",children:e.jsx(Gt,{})}),e.jsx(G,{variant:"info",symbol:"wallet",children:e.jsx("span",{children:"Approve your connection to Figure Exchange with your wallet"})}),a&&e.jsx(G,{variant:"error",className:"my-4",children:a||"There was an error with your trade. Please try again."}),e.jsx(T.Nav,{onPress:s,className:"w-full font-medium text-xxs text-p-light underline disabled:opacity-50",children:"Didn't Receive an Approval Request?"})]})},fx=()=>{var O,W;const[t,s]=c.useState(!1),[a,n]=c.useState(),[r,i]=c.useState(!1),l=c.useMemo(()=>!!(a||t),[a,t]),{selectedAmount:o,selectedDestination:u}=ae(Mt),d=X(),[x,m]=c.useState(void 0),{walletBridgeService:f}=Nt(),{data:p}=Lr(),{data:g}=x1(),h=Be(),{mutateAsync:b,error:j,isLoading:y}=Qu(),{mutateAsync:C,error:w,isLoading:N}=Ku(),v=((O=p==null?void 0:p.data)==null?void 0:O.find($=>$.id===u))||((W=g==null?void 0:g.data)==null?void 0:W.find($=>$.id===u));if(!o||!v)return null;const A=async()=>{var F,U,z;n(void 0),s(!1);const $={requestBody:{amount:o,destinationPlaidAccountId:u,currency:"USD",paymentRail:v.type==="WIRE_ACCOUNT"?"WIRE":"ACH"}};let R=await b($),D=!((F=R==null?void 0:R.txResponse)!=null&&F.messages);if(!D&&(R!=null&&R.txResponse))try{s(!0),x&&await f.reject(x);const se=bt();m(se);const Ee=await f.broadcast(R.txResponse.messages.base64,{description:`Withdraw ${o} USD to ${v.routingNumber}`,feeGranter:R.txResponse.feeGranter,memo:R.txResponse.txBody.memo,timeoutHeight:R.txResponse.txBody.timeoutHeight,customId:se});if(!Ee.success)throw Ee.code===jr&&m(void 0),new Error("There was an error signing the permission request. Please try again.")}catch(se){s(!1),ys.error(se),n(((U=se==null?void 0:se.data)==null?void 0:U.message)??"There was an error with your transfer. Please try again.");return}s(!1),i(!0);const M=5e3,B=3e4,_=Date.now();for(;Date.now()-_<B&&!D;)try{if(R=await b($),D=!((z=R==null?void 0:R.txResponse)!=null&&z.messages),D)break}finally{D||await new Promise(se=>setTimeout(se,M))}i(!1),D||n("Wallet signing failed after thirty seconds."),await C($),h.notifyWithdrawRequestReceived("USD",ps(o),"USD",`${za(v)} ****${v.accountNumberMask}`),d(Ce.closeModal())},E=()=>{d(J.goToUSDWithdraw())},P=j||w,L=y||N||r;return e.jsxs(e.Fragment,{children:[L&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:E,children:"Review and Confirm"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"m-6 w-12 h-12",children:e.jsx(ve,{})})})]}),l&&e.jsx(hx,{onBack:()=>{s(!1),n(void 0),i(!1)},onResendApprovalRequest:A,error:a||ct(P)}),!L&&!l&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:E,children:"Review and Confirm"}),e.jsx($1,{selectedAmount:o,handleConfirm:A,account:v,error:P})]})]})},px=()=>{const t=X(),{data:s,usdEnabled:a,getAsset:n}=Te(),{positions:r}=ft(),[i,l]=c.useState(""),[o,u]=c.useState(!1),d=c.useRef(null),x=c.useMemo(()=>(s==null?void 0:s.crypto.map(({name:h})=>h))||[],[s]),m=c.useMemo(()=>a?[...x,"USD"]:x,[a,x]),f=c.useMemo(()=>{const h=[];return m.forEach(b=>{const j=[...(r==null?void 0:r.assetPositions)||[],...(r==null?void 0:r.cashEquivalentPositions)||[]].find(y=>y.denom===b);j&&h.push(j)}),h},[r==null?void 0:r.assetPositions,r==null?void 0:r.cashEquivalentPositions,m]),p=h=>{switch(t(J.setSelectedAsset(h)),h){case"HASH":t(J.goToUncommitCryptoAmount());break;case"USD":t(J.goToUSDWithdraw());break;default:t(J.goToSelectCryptoAmount());break}};c.useEffect(()=>{const h=()=>{if(d.current){const b=d.current,{height:j}=b.getBoundingClientRect();u(j>=500)}};return h(),window.addEventListener("load",h),()=>{window.addEventListener("load",h)}},[]);const g=c.useMemo(()=>{const h=i.toLocaleLowerCase();return m.map(b=>{const j=n(b),y=f.find(C=>C.denom===b);return{asset:b,displayName:j==null?void 0:j.displayName,name:j==null?void 0:j.name,tradingPower:y==null?void 0:y.tradingPower}}).filter(b=>(b.tradingPower??0)>0).filter(b=>{var j,y;return((j=b.name)==null?void 0:j.toLocaleLowerCase().includes(h))||((y=b.displayName)==null?void 0:y.toLocaleLowerCase().includes(h))})},[i,f,m,n]);return e.jsxs("div",{ref:d,className:"h-full max-h-[500px] flex flex-col gap-4 overflow-hidden",children:[e.jsx(ne,{onBack:()=>t(Ce.closeModal()),children:"Select asset"}),e.jsx(Pe.Search,{placeholder:"Search assets",value:i,onChange:h=>l(h.target.value),onClear:()=>l("")}),e.jsx("div",{className:k(o?"overflow-y-scroll scrollbar":""),children:g.length===0?e.jsxs("div",{className:"h-40 bg-figma-dark flex flex-col gap-2 items-center justify-center",children:[e.jsx(ka,{}),e.jsx("span",{className:"text-figma-neutral text-sm",children:"No results"})]}):e.jsx(ho,{className:k("w-full flex flex-col gap-2",o?"pr-5":""),onChange:h=>p(h),"aria-label":"Select which token you want to withdraw",children:g.map(h=>e.jsxs(U1,{isDisabled:((h==null?void 0:h.tradingPower)??0)===0,className:k("flex justify-between items-center",o?"pr-5":""),value:h.name,"aria-label":h.name,children:[e.jsxs("div",{className:"flex gap-[6px] items-center",children:[e.jsx(ue,{coin:h.name,className:"w-6 h-6 mr-2"}),e.jsx("p",{className:"text-xs font-semibold",children:h.displayName!==h.name?`${h.displayName} (${h.name})`:h.name})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-1 items-center justify-end",children:[e.jsx("p",{className:"text-xs font-semibold",children:(h==null?void 0:h.tradingPower)??0}),e.jsx(Z,{size:"xxs",children:h.name})]}),e.jsx("p",{className:"text-xs font-semibold text-neutral-300",children:"Available to withdraw"})]})]},h.name))})})]})},vn=t=>{const{positions:s}=ft();if(t)return(s==null?void 0:s.assetPositions.find(a=>a.denom===t))??(s==null?void 0:s.cashEquivalentPositions.find(a=>a.denom===t))},gx=()=>{var h,b;const t=X(),{getAsset:s}=Te(),{selectedAsset:a,selectedAmount:n,openedWithAsset:r}=ae(Mt),i=s(a),l=vn(a),{data:o}=Et(),u=((h=o==null?void 0:o.data.find(j=>j.denom===a))==null?void 0:h.quantityPrecision)??4,d=(l==null?void 0:l.tradingPower)??0,x=Math.max(Gi((l==null?void 0:l.tradingPower)??0),u),m=I(10).pow(-x).toNumber(),f=Xe({defaultValues:{amount:{value:n??0,display:String(n??"")}},resolver:et(tt({amount:qe().required("An amount is required").test("minimum-withdrawal","Amount must be greater than the minimum withdrawal amount",(j,y)=>Number(j.value)>=m?!0:y.createError({path:y.path,message:`Amount is less than the minimum withdrawal amount of ${m}`})).test("not-enough-balance","Withdrawal amount larger than current balance",(j,y)=>Number(j.value)<=d?!0:y.createError({path:y.path,message:`Amount is greater than the withdrawable balance of ${d}`}))}))}),p=()=>{r?t(Ce.closeModal()):(t(J.reset()),t(J.goToSelectAsset()))},g=j=>{t(J.setSelectedAmount(j.amount.value)),t(J.goToSelectCryptoDestination())};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:p,children:e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsxs("div",{className:"flex justify-start gap-1 items-center",children:[e.jsx("p",{children:"Withdraw:"}),e.jsx(ue,{coin:a,className:"w-[18px]"}),e.jsx("p",{children:a})]}),(i==null?void 0:i.network)&&e.jsxs("div",{className:"flex gap-2 justify-center text-xxs items-center py-[4px] px-[8px] bg-figma-neutral-dark rounded font-bold",children:[e.jsx(ue,{network:i.network,className:"w-4"}),e.jsxs("div",{children:["Network: ",i.network]})]})]})}),e.jsx(st,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(g),children:[e.jsx(Pe.Number,{name:"amount",displayName:a,label:e.jsxs("span",{className:"font-bolder",children:["How much ",a," do you want to withdraw?"]}),precision:x}),e.jsxs("div",{className:"border-solid border-neutral-200 rounded-md border-[1px] p-4 my-4",children:[e.jsxs("p",{className:"text-base font-bold mb-1",children:[d," ",a]}),e.jsxs("div",{className:"flex justify-start items-center mb-4",children:[e.jsx("div",{children:e.jsx("p",{className:"text-xs font-bold",children:"Withdrawable Amount"})}),(i==null?void 0:i.network)&&e.jsx(Me,{heading:"Withdrawable Amount",className:"bg-figma-neutral-dark",iconClassname:"ml-1",placement:"top",style:{maxWidth:"260px"},description:a==="BTC"||a==="ETH"||a==="SOL"?"Withdrawals incur network fees, which are your responsibility. The withdrawal minimum allows us to pay these fees on your behalf to successfully process the transaction.":`We will convert your ${i.name} to the ${i.network} gas token to pay gas fees on the ${i.network} network. Withdrawals incur network fees, which are your responsibility. The withdrawal minimum allows us to pay these fees on your behalf to successfully process the transaction.`})]}),e.jsxs("p",{className:"text-xs font-bold",children:["Total ",a," Balance: ",(l==null?void 0:l.tradingPower)??0]})]}),e.jsx(T.Primary,{className:"w-full",type:"submit",children:"Continue"}),e.jsx("div",{className:"py-2 rounded-[4px] mt-4 text-xs font-bold flex flex-col gap-[6px]",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-xs font-bold text-figma-neutral",children:"Typical processing time"}),e.jsx("p",{className:"text-xs font-bold",children:(b=i==null?void 0:i.withdrawConfig)==null?void 0:b.processingTime})]})})]})})]})},jx=(t,s)=>{const{data:a,isError:n}=P1(),{marketBaseCurrency:r}=me();if(!n&&a&&s&&t){const i=a.data.find(({denom:l,quoteDenom:o})=>l===t&&o===r);if(i){const l=gr(i.bestAsk,i.bestBid,i.pricePrecision),o=Number(s)*l;return`≈ ${xe(o,!0,!0,2,r)}`}}return"n/a"},bx=()=>{const t=X(),{selectedAsset:s,selectedAmount:a,selectedDestination:n}=ae(Mt),{walletAddress:r}=ee(),i=vn(s),{mutateAsync:l}=Ju(),{mutateAsync:o}=Sc(),{walletBridgeService:u}=Nt(),[d,x]=c.useState("form"),m=Be(),{getAsset:f}=Te(),{data:p,isFetching:g}=v3({query:{denom:s||""},queryOptions:{staleTime:0,cacheTime:0,enabled:!!s},walletAddress:r}),h=Jt(Number(p==null?void 0:p.amount),6),b=jx(s,p==null?void 0:p.amount),j=f(s),y=Xe({mode:"onTouched",defaultValues:{destinationAddress:n??""},resolver:et(tt({destinationAddress:mt().required("A destination wallet address is required").test("not-own-address","This crypto address is used for deposits to your Figure Markets account. Enter another withdrawal address.",function(A){return A!==r})}))}),C=async(A,E)=>{var P;if(!(!i||!a||!A)){x("signing");try{const L=f(i.denom),O=await l({requestBody:{amount:a.toString(),currency:(L==null?void 0:L.name)||"",recipientAddress:A,feeId:E}});if(O.txResponse){const $=bt();if((await u.broadcast((P=O.txResponse)==null?void 0:P.messages.base64,{description:`Withdraw ${a} ${L==null?void 0:L.name}`,feeGranter:O.txResponse.feeGranter,memo:O.txResponse.txBody.memo,timeoutHeight:O.txResponse.txBody.timeoutHeight,customId:$})).success)x("submitting");else{x("form");return}let D=0,M=!0;for(;M;)(!(await l({requestBody:{amount:a.toString(),currency:(L==null?void 0:L.name)||"",recipientAddress:A,feeId:E}})).txResponse||D>=4)&&(M=!1),await new Promise(_=>setTimeout(_,1500)),D++}(await o({requestBody:{amount:a.toString(),currency:(L==null?void 0:L.name)||"",recipientAddress:A,feeId:E}})).status==="ERROR"?m.notifyGenericError({title:"Withdrawal error",description:"Something went wrong requesting the withdrawal. Please try again."}):m.notifyWithdrawRequestReceived((L==null?void 0:L.name)||"",a.toString(),(L==null?void 0:L.name)||"",jc(A)),t(Ce.closeModal())}catch(L){ys.error(L),m.notifyGenericError({title:"Withdrawal error",description:ct(L)}),t(Ce.closeModal())}}},w=A=>{p&&(t(J.setSelectedDestination(A.destinationAddress)),C(A.destinationAddress,p==null?void 0:p.uuid))},N=(A="0",E)=>I(E).sub(I(A)).toNumber(),v=p!=null&&p.amount?Number(p.amount)>=(a??0):!1;return e.jsxs(e.Fragment,{children:[d==="form"&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(J.goToSelectCryptoAmount()),children:e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsxs("div",{className:"flex justify-start gap-1 items-center",children:[e.jsx("p",{children:"Withdraw:"}),e.jsx(ue,{coin:s,className:"w-[18px]"}),e.jsx("p",{children:s})]}),(j==null?void 0:j.network)&&e.jsxs("div",{className:"flex gap-2 justify-center text-xxs items-center py-[4px] px-[8px] bg-figma-neutral-dark rounded font-bold",children:[e.jsx(ue,{network:j.network,className:"w-4"}),e.jsxs("div",{children:["Network: ",j.network]})]})]})}),e.jsx(st,{...y,children:e.jsxs("form",{onSubmit:y.handleSubmit(w),children:[e.jsx(Pe.Text,{name:"destinationAddress",label:"Enter Destination Wallet Address"}),e.jsxs("div",{className:"border-solid border-neutral-200 rounded-md border-[1px] p-4 my-4",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[e.jsx("p",{children:"Requested Amount"}),e.jsxs("p",{children:[(a??0).toString()," ",s]})]}),e.jsxs("div",{className:"flex justify-between text-xs font-bold mt-3",children:[e.jsx("p",{children:"Estimated Fee"}),e.jsx("div",{children:g?e.jsx("div",{className:"flex justify-center [&>*]:w-3 [&>*]:h-3",children:e.jsx(ve,{white:!0})}):`-${h} ${s}`})]}),e.jsx("div",{className:"flex justify-end text-xs font-bold",children:g?e.jsx("div",{className:"flex justify-center [&>*]:w-3 [&>*]:h-3",children:e.jsx(ve,{white:!0})}):e.jsx("p",{className:"text-figma-neutral",children:b})}),e.jsx("div",{className:"pt-3 mt-2 border-solid border-neutral-200 border-t-[1px]",children:e.jsxs("div",{className:"flex flex-wrap gap-x-1 break-all justify-between items-center text-xs font-bold tabular-nums",children:[e.jsx("p",{children:"Estimated Total"}),e.jsx("div",{className:"text-base font-bolder",children:g?e.jsx("div",{className:"flex justify-center [&>*]:w-3 [&>*]:h-3",children:e.jsx(ve,{white:!0})}):e.jsxs(e.Fragment,{children:["~",Jt(N(p==null?void 0:p.amount,a??0),6)," ",s]})})]})})]}),v?e.jsx(G,{variant:"error",className:"mt-4",children:"Requested withdrawal amount is less than the estimated fee. Unable to make a withdrawal."}):e.jsxs(G,{children:["Please make sure the wallet address above is able to receive ",s,", otherwise your assets may be lost."]}),e.jsx(T.Primary,{isDisabled:v||g||!y.formState.isValid,className:"w-full mt-6",type:"submit",children:"Confirm Withdrawal"})]})})]}),d==="signing"&&e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>x("form"),children:e.jsx("div",{className:"flex justify-start gap-1 items-center",children:e.jsx("p",{children:"Withdrawal Approval Required"})})}),e.jsx("div",{className:"my-6",children:e.jsx(Gt,{className:"mx-auto"})}),e.jsx(G,{variant:"info",symbol:"wallet",children:"Approve the transaction in the Figure Wallet app to complete your withdraw"}),e.jsx(T.Nav,{onPress:()=>C(n,p==null?void 0:p.uuid),className:"w-full font-medium text-xxs text-p-light underline disabled:opacity-50",children:"Didn't Receive an Approval Request?"})]}),d==="submitting"&&e.jsx("div",{className:"min-w-full flex justify-center items-center",children:e.jsx("div",{className:"w-12 h-12",children:e.jsx(ve,{})})})]})},yx=()=>{var g;const t=X(),{selectedAsset:s,selectedAmount:a,withdrawError:n,openedWithAsset:r}=ae(Mt),i=vn(s),{data:l}=Et(),o=((g=l==null?void 0:l.data.find(h=>h.denom===s))==null?void 0:g.quantityPrecision)??4,u=(i==null?void 0:i.tradingPower)??0,d=Math.max(Gi((i==null?void 0:i.tradingPower)??0),o),x=I(10).pow(-d).toNumber(),m=Xe({defaultValues:{quantity:{value:I(a??0).toNumber(),display:a?String(a):""}},resolver:et(tt({quantity:qe().required("An amount is required").test("minimum-quantity","Quantity must be greater than the minimum",(h,b)=>Number(h.value)>=Number(x)?!0:b.createError({path:b.path,message:`Amount is less than the minimum amount of ${x}`})).test("maximum-quantity","Quantity must be less than or equal to available quantity",(h,b)=>Number(h.value)<=Number(u)?!0:b.createError({path:b.path,message:`Quantity is greater than available quantity of ${u}`}))}))}),f=h=>{t(J.setSelectedAmount(h.quantity.value)),t(J.goToUncommitCryptoReview())},p=()=>{t(r?Ce.closeModal():J.reset())};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:p,children:e.jsx("div",{className:"flex justify-start gap-1 items-center",children:e.jsxs("p",{children:["Uncommit ",s]})})}),e.jsx(st,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(f),className:"flex flex-col gap-y-[6px]",children:[e.jsx(Pe.Number,{name:"quantity",displayName:s,label:`How much ${s} would you like to uncommit?`,precision:o,increment:String(x)}),e.jsx("div",{children:e.jsxs("p",{className:"text-xs tabular-nums",children:["Available to Uncommit: ",u," ",s]})}),n&&e.jsx(G,{className:"my-2",variant:"error",children:n}),e.jsx(T.Primary,{className:"w-full mt-4",type:"submit",children:"Continue"})]})})]})},Cx=()=>{var p,g;const t=X(),{selectedAsset:s,selectedAmount:a}=ae(Mt),n=vn(s),{data:r}=Et(),i=((p=r==null?void 0:r.data.find(h=>h.denom===s))==null?void 0:p.quantityPrecision)??4,{mutateAsync:l,isLoading:o}=Sc(),{notifyUncommitmentRequested:u}=Be(),d=Math.max(Gi((n==null?void 0:n.tradingPower)??0),i),x=async()=>{if(s!=="HASH"){t(J.setWithdrawError(`Unable to Uncommit ${s}. There was an error uncommitting your asset. Please try again.`)),t(J.goToUncommitCryptoAmount());return}try{await l({requestBody:{amount:String(a),currency:s}},{onError:h=>{const b=ct(h,"There was an error uncommitting your asset. Please try again.");t(J.setWithdrawError(b))}}),u(s,a??0,s),t(Ce.closeModal())}catch{t(J.goToUncommitCryptoAmount())}},m=((g=r==null?void 0:r.data.find(h=>h.denom===s))==null?void 0:g.lastTradedPrice)??0,f=I(m).mul(a??0);return o?e.jsxs(e.Fragment,{children:[e.jsxs(ne,{children:["Uncommit ",s]}),e.jsx("div",{className:"flex justify-center items-center h-40",children:e.jsx("div",{className:"w-12 h-12",children:e.jsx(ve,{})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(J.goToUncommitCryptoAmount()),children:e.jsx("div",{className:"flex justify-start gap-1 items-center",children:e.jsx("p",{children:"Review and Confirm"})})}),e.jsxs("div",{className:"bg-neutral-100 p-4 rounded-[4px]",children:[e.jsxs("p",{className:"text-neutral-500 text-base font-bold mb-1",children:[St(a,d,{minDigits:!0})," ",s]}),f.gt(0)&&e.jsxs("div",{className:"flex items-center mb-4 gap-1",children:[e.jsxs("p",{className:"text-neutral-500 text-xxs font-bold",children:["≈",xe(f.toNumber(),!0)]}),e.jsx(Me,{heading:"USD Value",description:`Based on last traded price of ${m} per ${s}`})]}),e.jsx(G,{className:"mt-2",children:"This amount will be uncommitted from the exchange and available for other uses, such as peer-to-peer transfers"})]}),e.jsx(T.Primary,{className:"w-full",onPress:x,children:"Confirm"})]})},Nx=()=>{const[t,s]=c.useState(),a=X(),{selectedAsset:n,selectedAmount:r,selectedDestination:i}=ae(Mt),l=vn(n),{isLoading:o,error:u}=ft(),{data:d,isLoading:x,error:m}=h1(),{withdrawalMaximum:f,withdrawalMaximumErrorMessage:p,initialWithdrawalMaximum:g}=c.useMemo(()=>{const R=(()=>{var se;if(((se=d==null?void 0:d.withdrawal)==null?void 0:se.limitMinorUnits)!==void 0)return d.withdrawal.limitMinorUnits/100})(),D=(()=>{var se;if(((se=d==null?void 0:d.withdrawal)==null?void 0:se.remainingLimitMinorUnits)!==void 0)return d.withdrawal.remainingLimitMinorUnits/100})(),M=l==null?void 0:l.tradingPower,B=`$${he(R,2,!0)}`,_=`$${he(D,2,!0)}`,F=`$${he(M,2,!0)}`,U=M!==void 0&&D!==void 0&&M<D;return{withdrawalMaximum:U?M:D,withdrawalMaximumErrorMessage:U?`The amount you’ve entered exceeds the available balance in your account. Please try again with an amount lower than ${F}.`:`There is a ${B} daily limit for withdrawals.${D!==void 0&&R!==void 0&&D!==R?` You currently have ${_} remaining in your daily withdrawal limit.`:""}`,initialWithdrawalMaximum:R}},[d,l]),{data:h,isLoading:b,error:j}=Lr({query:{includeConnectionStatus:!0}}),{data:y,isLoading:C,error:w}=x1(),N=!n||!i&&!j||o||x||b||C,v=ns(_a),A=u||m||j||w||v.plaid.error,E=c.useCallback(R=>{a(J.setSelectedDestination(R))},[a]),P=R=>{a(J.setSelectedAmount(R.amount.value)),E(R.selectedDestination),a(J.goToConfirmUSDWithdraw())},L=R=>{s(R.selectedDestination),a(J.setSelectedAmount(R.amount.value)),E(R.selectedDestination)},O=c.useCallback(()=>{a(J.goToAddAnotherPlaidOption())},[a]),W=()=>{a(J.goToWireBankDetails())},$=()=>{a(J.goToSelectAsset())};return c.useEffect(()=>{var R,D;!b&&!j&&!C&&!w&&(h&&(((R=h.data)==null?void 0:R.length)||0)>0||y&&(((D=y.data)==null?void 0:D.length)||0)>0||O())},[O,b,C,h,j,y,w]),c.useEffect(()=>{var R,D;!i&&!b&&!C&&((((R=h==null?void 0:h.data)==null?void 0:R.length)??0)>0?E(h.data[0].id):(((D=y==null?void 0:y.data)==null?void 0:D.length)??0)>0&&E(y.data[0].id))},[E,b,C,h,i,y]),e.jsxs(e.Fragment,{children:[e.jsxs(ne,{onBack:$,children:["Withdraw: ",e.jsx(ue,{coin:"USD",displayName:"USD"})," USD"]}),N?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"m-6 w-12 h-12",children:e.jsx(ve,{})})}):e.jsx(e.Fragment,{children:t?e.jsx(W1,{plaidAccountId:t}):e.jsxs(e.Fragment,{children:[e.jsx(B1,{isWithdraw:!0,plaidACHAccounts:(h==null?void 0:h.data)??[],wireAccounts:(y==null?void 0:y.data)??[],selectedAmount:r,selectedDestination:i,amountInputLabel:"How much USD do you want to withdraw?",destinationInputLabel:"Transfer to:",initialMaximumAmount:g,maximumAmount:f,maximumAmountErrorMessage:p,isSubmitDisabled:!!u||!!m,handleSelectDestination:E,handleAddAnotherOption:O,handleWire:W,handleContinue:P,handleReconnect:L}),A&&e.jsx(G,{variant:"error",children:ct(A)})]})})]})},qr=P5.map((t,s)=>({key:s,value:t})),H1=({address:t,handleSubmit:s,label:a})=>{var r;const n=Xe({defaultValues:{street1:(t==null?void 0:t.street1)??"",street2:(t==null?void 0:t.street2)??"",stateOrProvinceKey:((r=qr.find(i=>i.value===(t==null?void 0:t.stateOrProvince)))==null?void 0:r.key)??0,city:(t==null?void 0:t.city)??"",postalCode:(t==null?void 0:t.postalCode)??""},resolver:et(tt({street1:mt().required("Address line one is required."),street2:mt(),stateOrProvinceKey:Vd().required("State is required."),city:mt().required("City is required."),postalCode:mt().required("ZIP or postal code is required.").test("invalid-zip","Invalid ZIP code",i=>i.length>4)}))});return e.jsx(st,{...n,children:e.jsx("form",{onSubmit:n.handleSubmit(i=>{var u;const{stateOrProvinceKey:l,...o}=i;s({...o,country:"USA",stateOrProvince:((u=qr.find((d,x)=>l===x))==null?void 0:u.value)??""})}),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(Pe.Text,{name:"street1",label:`${a?`${a} `:""}Street Address`}),e.jsx(Pe.Text,{name:"street2",label:`${a?`${a} `:""}Suite/Unit/Other (Optional)`}),e.jsx(Pe.Text,{name:"city",label:"City"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-figma-neutral-light font-bold",children:"State"}),e.jsx(Zd,{render:({field:i})=>e.jsx(a1,{selectedItem:i.value,dropdownOptions:qr,onSelect:l=>i.onChange(l),width:"w-[75px]",className:"min-h-[44px] mt-2"}),name:"stateOrProvinceKey"})]}),e.jsx(Pe.Text,{name:"postalCode",label:"Zip",maxLength:10})]}),e.jsx(T.Primary,{className:"w-full mt-2",type:"submit",children:"Continue"})]})})})},wx=()=>{const t=X(),{wireAccountRequest:s}=ae(Mt),a=n=>{t(J.setWireBankAddressState(n)),t(J.goToWireBeneficiaryDetails())};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(J.goToWireBankDetails()),children:"Withdraw: Wire Receiving Bank Details"}),e.jsx("p",{className:"text-xs text-figma-neutral-light font-medium",children:"Input your bank account address for outbound wire transfers."}),e.jsx(H1,{handleSubmit:a,address:s==null?void 0:s.bankAddress,label:"Bank"})]})},vx=()=>{const t=X(),{wireAccountRequest:s}=ae(Mt),a=Xe({defaultValues:{bankName:(s==null?void 0:s.bankName)??"",routingNumber:(s==null?void 0:s.routingNumber)??"",accountNumber:(s==null?void 0:s.accountNumber)??"",transferInstructions:(s==null?void 0:s.transferInstructions)??""},resolver:et(tt({bankName:mt().required(),routingNumber:mt().required().test("invalid-routing-number","Routing number must be numeric",r=>!!parseInt(r)).test("invalid-routing-number-length","Routing number must be nine digits",r=>!!r&&r.length===9),accountNumber:mt().required().test("invalid-account-number","Account number must be numeric",r=>!!parseInt(r)),transferInstructions:mt()}))}),n=r=>{t(J.setWireBankDetailsState(r)),t(J.goToWireBankAddress())};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(J.goToUSDWithdraw()),children:"Withdraw: Wire Receiving Bank Details"}),e.jsx("p",{className:"text-xs text-figma-neutral-light font-medium",children:"Input your bank account details for outbound wire transfers."}),e.jsx(st,{...a,children:e.jsx("form",{onSubmit:a.handleSubmit(n),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(Pe.Text,{name:"bankName",label:"Bank Name"}),e.jsx(Pe.Text,{name:"routingNumber",label:"Routing Number (ABA)",maxLength:9}),e.jsx(Pe.Text,{name:"accountNumber",label:"Account Number",maxLength:16}),e.jsx(Pe.Text,{name:"transferInstructions",label:"Wire Instructions / Reference Code"}),e.jsx(T.Primary,{className:"w-full mt-2",type:"submit",children:"Continue"})]})})})]})},Lx=()=>{var r,i;const t=X(),{wireAccountRequest:s}=ae(Mt),a=Xe({defaultValues:{beneficiaryFirstName:((r=s==null?void 0:s.beneficiary)==null?void 0:r.beneficiaryFirstName)??"",beneficiaryLastName:((i=s==null?void 0:s.beneficiary)==null?void 0:i.beneficiaryLastName)??""},resolver:et(tt({beneficiaryFirstName:mt().required("First name is required."),beneficiaryLastName:mt().required("Last name is required.")}))}),n=l=>{t(J.setWireBankBeneficiaryDetails(l)),t(J.goToWireBeneficiaryAddress())};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(J.goToWireBankAddress()),children:"Withdraw: Wire Beneficiary Details"}),e.jsx("p",{className:"text-xs text-figma-neutral-light font-medium",children:"Input beneficiary account holder information associated with your bank account."}),e.jsx(st,{...a,children:e.jsx("form",{onSubmit:a.handleSubmit(n),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(Pe.Text,{name:"beneficiaryFirstName",label:"Beneficiary First Name"}),e.jsx(Pe.Text,{name:"beneficiaryLastName",label:"Beneficiary Last Name"}),e.jsx(T.Primary,{className:"w-full",type:"submit",children:"Continue"})]})})})]})},Js="text-figma-neutral-light font-bold text-[10px] mt-4",fs="text-figma-neutral-light font-bold text-xs text-wrap break-words",Kl=({address:t,label:s})=>e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:Js,children:[s&&`${s} `,"Address"]}),(t==null?void 0:t.street1)&&e.jsx("p",{className:fs,children:t.street1}),(t==null?void 0:t.street2)&&e.jsx("p",{className:fs,children:t.street2}),(t==null?void 0:t.city)&&(t==null?void 0:t.stateOrProvince)&&(t==null?void 0:t.postalCode)&&e.jsxs("p",{className:fs,children:[t.city," ",t.stateOrProvince,", ",t.postalCode]})]}),Ex=()=>{const t=X(),{wireAccountRequest:s}=ae(Mt),{mutateAsync:a,isLoading:n,error:r}=T6(),i=async()=>{const{beneficiary:l,...o}=s||{},u=await a({requestBody:{...o,beneficiaryName:`${l==null?void 0:l.beneficiaryFirstName} ${l==null?void 0:l.beneficiaryLastName}`}});t(J.setSelectedDestination(u.id)),t(J.goToUSDWithdraw())};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(J.goToWireBeneficiaryAddress()),children:"Review and Confirm"}),n?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"m-6 w-12 h-12",children:e.jsx(ve,{})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded bg-figma-neutral-dark p-4 pt-2",children:[(s==null?void 0:s.bankName)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:Js,children:"Bank Name"}),e.jsx("p",{className:fs,children:s.bankName})]}),(s==null?void 0:s.routingNumber)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:Js,children:"Routing Number (ABA)"}),e.jsx("p",{className:fs,children:s.routingNumber})]}),(s==null?void 0:s.accountNumber)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:Js,children:"Account Number"}),e.jsx("p",{className:fs,children:s.accountNumber})]}),(s==null?void 0:s.transferInstructions)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:Js,children:"Wire Instructions / Reference Code"}),e.jsx("p",{className:fs,children:s.transferInstructions})]}),(s==null?void 0:s.bankAddress)&&e.jsx(Kl,{address:s.bankAddress,label:"Bank"}),(s==null?void 0:s.beneficiary)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:Js,children:"Beneficiary First Name"}),e.jsx("p",{className:fs,children:s.beneficiary.beneficiaryFirstName})]}),(s==null?void 0:s.beneficiary)&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:Js,children:"Beneficiary Last Name"}),e.jsx("p",{className:fs,children:s.beneficiary.beneficiaryLastName})]}),(s==null?void 0:s.beneficiaryAddress)&&e.jsx(Kl,{address:s.beneficiaryAddress,label:"Beneficiary"})]}),e.jsx(T.Primary,{className:"w-full",onPress:i,children:"Confirm"}),r&&e.jsx(G,{variant:"error",className:"mt-1",children:ct(r)})]})]})},Sx=()=>{const t=X(),{wireAccountRequest:s}=ae(Mt),a=n=>{t(J.setWireBankBeneficiaryAddressState(n)),t(J.goToWireReview())};return e.jsxs(e.Fragment,{children:[e.jsx(ne,{onBack:()=>t(J.goToWireBeneficiaryDetails()),children:"Withdraw: Beneficiary Address"}),e.jsx(H1,{handleSubmit:a,address:s==null?void 0:s.beneficiaryAddress,label:"Beneficiary"})]})},Ax=()=>{const t=ae(Mt),s=X();if(!(t!=null&&t.step))return null;const{step:a}=t;return e.jsx($e,{isOpen:!0,onClose:()=>s(Ce.closeModal()),ariaLabel:"Withdraw Flow",children:e.jsx(Dx,{step:a})})},Dx=({step:t})=>{const s=X();switch(t){case"select-asset":return e.jsx(px,{});case"select-crypto-amount":return e.jsx(gx,{});case"select-crypto-destination":return e.jsx(bx,{});case"uncommit-crypto-amount":return e.jsx(yx,{});case"uncommit-crypto-review":return e.jsx(Cx,{});case"usd-withdraw":return e.jsx(Nx,{});case"add-another-plaid-option":return e.jsx(F1,{handleBack:()=>s(J.goToSelectAsset()),handleWire:()=>s(J.goToWireBankDetails())});case"confirm-usd-withdraw":return e.jsx(fx,{});case"wire-bank-address":return e.jsx(wx,{});case"wire-bank-details":return e.jsx(vx,{});case"wire-beneficiary-address":return e.jsx(Sx,{});case"wire-beneficiary-details":return e.jsx(Lx,{});case"wire-review":return e.jsx(Ex,{});default:return e.jsx("div",{children:"Unknown step"})}},Tx=t=>c.createElement("svg",{width:53,height:53,viewBox:"0 0 53 53",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.5728 7.5783C46.7537 8.32585 47.1049 9.88915 46.3574 11.07L31.6067 34.371C30.2059 36.5837 27.0381 36.7467 25.4176 34.6894L18.2616 25.6046L10.637 38.0198L6.32422 35.3712L14.8982 21.4099C16.2802 19.1596 19.4807 18.9731 21.1147 21.0476L28.2869 30.1529L42.0811 8.3629C42.8286 7.18202 44.3919 6.83074 45.5728 7.5783Z",fill:"white"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.5728 7.5783C46.7537 8.32585 47.1049 9.88915 46.3574 11.07L31.6067 34.371C30.2059 36.5837 27.0381 36.7467 25.4176 34.6894L18.2616 25.6046L10.637 38.0198L6.32422 35.3712L14.8982 21.4099C16.2802 19.1596 19.4807 18.9731 21.1147 21.0476L28.2869 30.1529L42.0811 8.3629C42.8286 7.18202 44.3919 6.83074 45.5728 7.5783Z",fill:"url(#paint0_linear_9343_71398)",fillOpacity:.9}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.6585 6.25488H8.78059C7.38298 6.25488 6.25 7.38787 6.25 8.78547V44.2137C6.25 45.6113 7.38298 46.7443 8.78059 46.7443H44.2088C45.6064 46.7443 46.7394 45.6113 46.7394 44.2137V10.1541L41.6782 18.2628V41.6831H11.3112V11.3161H35.8017L38.6585 6.25488Z",fill:"white"}),c.createElement("defs",null,c.createElement("linearGradient",{id:"paint0_linear_9343_71398",x1:-4.2616,y1:45.6212,x2:70.9153,y2:20.2125,gradientUnits:"userSpaceOnUse"},c.createElement("stop",{offset:.145,stopColor:"#5D57F8"}),c.createElement("stop",{offset:.475,stopColor:"#4DE0B5"}),c.createElement("stop",{offset:.807292,stopColor:"#9BE839"})))),Px=()=>{const{isExitModalOpen:t,destinationFeature:s,currentLicensingJurisdiction:a}=ae(pt),n=X(),{mutateAsync:r,isLoading:i}=Qi(),[l,o]=c.useState(),u=()=>{n(ss.cancelExitToDestinationFeature()),n(Ce.closeModal())},d=async()=>{o(void 0);try{x==="CAYMAN"&&await r({requestBody:{type:"CAYMAN_EXEMPTION_CONSENT"}}),n(ss.acceptTerms({licensingJurisdiction:x})),s==null||s.onContinue()}catch{o("There was an error processing your request. Please try again.")}n(Ce.closeModal()),s&&(n(ss.continueToDestinationFeature()),s==null||s.onContinue())};if(!s)return e.jsx(ks,{to:re.home()});const x=s.licensingJurisdiction,m=x?tn[x]:"",f=tn[a];return e.jsx($e,{isOpen:t,onClose:u,useChildrenWidth:!0,children:e.jsxs("div",{className:"w-[400px] p-4 flex flex-col gap-6",children:[e.jsxs("div",{className:"text-3xl font-thin gap-1 text-pretty leading-relaxed text-center",children:[e.jsx("p",{children:"Warning: You are leaving"}),e.jsx("p",{children:f})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{children:e.jsx(Tx,{title:"Figure Markets Logo",className:"w-10 h-10"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:["You will be redirected from Figure Markets Ireland to ",(s==null?void 0:s.name)??"the selected feature"," ","which is not regulated by the Central Bank of Ireland."," "]}),e.jsxs("p",{className:"text-sm mt-2",children:["By continuing, you agree to the"," ",e.jsx("a",{className:"underline",href:`${ke}/disclosures/terms-of-service/`,target:"blank",children:"Terms and Conditions"})," ","for ",m," and allow Figure Markers Ireland to share your onboarding information."]})]})]}),l&&e.jsx(G,{variant:"error",children:l}),e.jsx(T.Primary,{isDisabled:i,onPress:d,className:"w-full",children:"Agree and Continue"}),e.jsx("p",{className:"text-xxs text-figma-neutral",children:"Certain products may not be available in your region. Please follow local laws."})]})})},kx=()=>{var l;const{isAuthenticatedWithCookie:t,walletAddress:s}=ee(),{data:a}=yn({queryOptions:{enabled:t},walletAddress:s}),n=Number(((l=a==null?void 0:a.uncommittedAssets.find(o=>o.denom==="usd.trading"))==null?void 0:l.quantity)??0),{mutateAsync:r}=bn(),i=X();return c.useEffect(()=>{(async()=>{if(t){const o=await r({requestBody:{expirationDays:30}}),u=Ya(o.existingAuthExpiration);n>0&&u&&(i(ua.open()),i(ua.setUncommittedUSDAmount(n)))}})()},[i,t,r,n]),null},Ix=["WITHDRAW","DEPOSIT"];function Ox(t){return Ix.includes(t)}const Mx=()=>{const t=new URLSearchParams(new URL(window.location.href).search).get("launchFiatModal");if(t&&Ox(t))return t},_x=()=>{const t=X(),{isAuthenticatedWithCookie:s,handleLogin:a}=ee();return c.useEffect(()=>{const n=Mx();n&&(s||a(),n==="DEPOSIT"?(t(te.open("USD")),t(te.goToTransferUSD())):n==="WITHDRAW"&&(t(J.open("USD")),t(J.goToUSDWithdraw())))},[]),null},Rx=()=>{const{fsmStepResponse:t,getFsmCurrentStep:s}=Le(),a=c.useRef(t),n=ae($c),r=X();return c.useEffect(()=>{a.current=t},[t]),c.useEffect(()=>{(async()=>{var i,l;((l=(i=a.current)==null?void 0:i.currentStep)==null?void 0:l.currentStep)==="FIAT_ACCOUNT_CREATED"&&n.shouldPollKrang&&await new Promise(o=>{const u=setInterval(()=>{var d,x;s(),((x=(d=a.current)==null?void 0:d.currentStep)==null?void 0:x.currentStep)!=="FIAT_ACCOUNT_CREATED"&&(clearInterval(u),r(Ra.setShouldPollKrang(!1)),o())},5e3)})})()},[n]),null};function V1({itemId:t,getToken:s,onFinish:a,onClose:n}={}){const[r,i]=c.useState(null),{mutateAsync:l,error:o}=L6(),{mutateAsync:u,error:d}=E6(),x=c.useCallback(async()=>{try{const j=await(s?s():l({requestBody:{}}));i(j.linkToken),localStorage.setItem("link_token",j.linkToken)}catch{n==null||n()}},[l,s,i]),g={onSuccess:async(j,y)=>{if(t)localStorage.setItem("link_token",""),a==null||a(y);else if(y.institution&&y.accounts){const{name:C,institution_id:w}=y.institution,N=y.accounts.map(v=>v.id);try{const v=await u({requestBody:{plaidPublicToken:j,plaidInstitution:{id:w,name:C},plaidAccountIds:N}});localStorage.setItem("link_token",""),a==null||a(y,v)}catch{n==null||n()}}},onExit:async j=>{if((j==null?void 0:j.error_code)==="INVALID_LINK_TOKEN"){const y=await l({requestBody:{}});localStorage.setItem("link_token",y.linkToken)}n==null||n()},onEvent:async(j,y)=>{j==="ERROR"&&y.error_code!==null&&(n==null||n())},token:r},{open:h,ready:b}=Gd(g);return c.useEffect(()=>{b&&h()},[h,b]),{initializeLink:x,open:h,error:d||o}}function Fx({itemId:t,onSuccess:s}){const[a,n]=c.useState(!1),{mutateAsync:r,error:i,isLoading:l}=O6(),{initializeLink:o}=V1({itemId:t,onFinish:()=>{n(!1),s()},getToken:()=>r({path:{plaidAccountId:t},requestBody:{}}),onClose:()=>n(!1)});function u(){o(),n(!0)}return{initialize:u,isProcessing:a||l,error:i}}const Ux=()=>{const t=X(),s=ns(_a),a=ae(Zt),n=ae(Mt),[r,i]=c.useState(),{open:l,initializeLink:o,error:u}=V1({onFinish:(f,p)=>{switch(t(Ce.setPlaid({...s.plaid,isIframeOpen:!1})),s.plaid.flow){case"deposit":p&&((p==null?void 0:p.length)||0)>0&&t(te.setSelectedDestination(p[0].id)),t(te.open("USD"));break;case"withdraw":p&&((p==null?void 0:p.length)||0)>0&&t(J.setSelectedDestination(p[0].id)),t(J.open("USD"));break;default:break}}}),{initialize:d,error:x}=Fx({itemId:s.plaid.plaidAccountId||"",onSuccess:()=>{switch(t(Ce.setPlaid({...s.plaid,isIframeOpen:!1,plaidAccountId:void 0})),s.plaid.flow){case"deposit":{s.plaid.plaidAccountId&&t(te.setSelectedDestination(s.plaid.plaidAccountId)),t(te.open("USD"));const f=r==null?void 0:r.depositModalState.amountToCommit;f&&(t(te.setAmountToCommit(f)),t(te.goToConfirmUSDDeposit()));break}case"withdraw":{s.plaid.plaidAccountId&&t(J.setSelectedDestination(s.plaid.plaidAccountId)),t(J.open("USD"));const f=r==null?void 0:r.withdrawModalState.selectedAmount;f&&(t(J.setSelectedAmount(f)),t(J.goToConfirmUSDWithdraw()));break}}}}),m=u||x;return c.useEffect(()=>{s.plaid.isIframeOpen&&(i({depositModalState:a,withdrawModalState:n}),t(Ce.closeModal()),s.plaid.plaidAccountId?d():(l(),o()))},[t,s.plaid.isIframeOpen]),c.useEffect(()=>{if(m){switch(s.plaid.flow){case"deposit":t(te.open("USD")),t(te.goToTransferUSD());break;case"withdraw":t(J.open("USD")),t(J.goToUSDWithdraw());break}t(Ce.setPlaid({...s.plaid,isIframeOpen:!1,error:{...m,response:m.response?{...m.response}:null}}))}},[t,m]),null},Bx=()=>{const t=ns(_a);return e.jsxs(e.Fragment,{children:[(()=>{switch(t.activeModal){case"deposit":return e.jsx(mx,{});case"withdraw":return e.jsx(Ax,{});case"enable-usd":return e.jsx(R6,{});case"commit-usd":return e.jsx(b6,{});case"licensing-jurisdiction-exit":return e.jsx(Px,{});default:return null}})(),e.jsx(kx,{}),e.jsx(Rx,{}),e.jsx(_x,{}),e.jsx(Ux,{})]})},Wx=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:17,height:16,viewBox:"0 0 17 16",fill:"none",...t},c.createElement("mask",{id:"mask0_2790_70857",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:17,height:16},c.createElement("rect",{x:.954224,width:16,height:16,fill:"#D9D9D9"})),c.createElement("g",{mask:"url(#mask0_2790_70857)"},c.createElement("path",{d:"M8.95424 14.0664C8.11924 14.0664 7.33313 13.9083 6.59591 13.5921C5.85868 13.2759 5.21446 12.8421 4.66324 12.2908C4.11191 11.7396 3.67813 11.0953 3.36191 10.3581C3.04568 9.62088 2.88757 8.83477 2.88757 7.99977C2.88757 7.15788 3.04568 6.37005 3.36191 5.63627C3.67813 4.90249 4.11191 4.25999 4.66324 3.70877C5.21446 3.15744 5.85868 2.72366 6.59591 2.40744C7.33313 2.09122 8.11924 1.93311 8.95424 1.93311C9.79613 1.93311 10.584 2.09122 11.3177 2.40744C12.0515 2.72366 12.694 3.15744 13.2452 3.70877C13.7966 4.25999 14.2303 4.90249 14.5466 5.63627C14.8628 6.37005 15.0209 7.15788 15.0209 7.99977C15.0209 8.83477 14.8628 9.62088 14.5466 10.3581C14.2303 11.0953 13.7966 11.7396 13.2452 12.2908C12.694 12.8421 12.0515 13.2759 11.3177 13.5921C10.584 13.9083 9.79613 14.0664 8.95424 14.0664ZM8.95424 13.1689C9.19446 12.9288 9.41968 12.5376 9.62991 11.9953C9.84013 11.4529 10.0017 10.8484 10.1146 10.1818H7.79391C7.91535 10.8656 8.07907 11.4786 8.28507 12.0209C8.49096 12.5633 8.71402 12.9459 8.95424 13.1689ZM7.87991 13.0856C7.6688 12.7523 7.47818 12.3327 7.30807 11.8268C7.13796 11.3208 7.00763 10.7724 6.91707 10.1818H4.23891C4.59102 10.9519 5.08824 11.5919 5.73057 12.1018C6.37291 12.6115 7.08935 12.9395 7.87991 13.0856ZM10.0286 13.0856C10.8191 12.9395 11.5356 12.6115 12.1779 12.1018C12.8202 11.5919 13.3175 10.9519 13.6696 10.1818H10.9914C10.8794 10.7767 10.7384 11.3271 10.5682 11.8331C10.3982 12.3391 10.2184 12.7566 10.0286 13.0856ZM3.93624 9.31511H6.83124C6.80046 9.07844 6.78118 8.84661 6.77341 8.61961C6.76574 8.39272 6.76191 8.17499 6.76191 7.96644C6.76191 7.75788 6.76574 7.54572 6.77341 7.32994C6.78118 7.11405 6.80046 6.89888 6.83124 6.68444H3.93624C3.87213 6.89977 3.8258 7.11855 3.79724 7.34077C3.76857 7.56299 3.75424 7.78266 3.75424 7.99977C3.75424 8.21688 3.76857 8.43655 3.79724 8.65877C3.8258 8.88099 3.87213 9.09977 3.93624 9.31511ZM7.71441 9.31511H10.1941C10.2247 9.06733 10.244 8.83766 10.2517 8.62611C10.2594 8.41455 10.2632 8.20577 10.2632 7.99977C10.2632 7.79377 10.2594 7.58222 10.2517 7.36511C10.244 7.14799 10.2247 6.92111 10.1941 6.68444H7.71441C7.68374 6.92111 7.66452 7.14799 7.65674 7.36511C7.64907 7.58222 7.64524 7.79377 7.64524 7.99977C7.64524 8.20577 7.64907 8.41733 7.65674 8.63444C7.66452 8.85155 7.68374 9.07844 7.71441 9.31511ZM11.0772 9.31511H13.9722C14.0364 9.09977 14.0827 8.88099 14.1112 8.65877C14.1399 8.43655 14.1542 8.21688 14.1542 7.99977C14.1542 7.78266 14.1399 7.56022 14.1112 7.33244C14.0827 7.10466 14.0364 6.88866 13.9722 6.68444H11.0772C11.108 6.92111 11.1273 7.15294 11.1351 7.37994C11.1427 7.60683 11.1466 7.82455 11.1466 8.0331C11.1466 8.24166 11.1427 8.45383 11.1351 8.66961C11.1273 8.88549 11.108 9.10066 11.0772 9.31511ZM10.9914 5.81777H13.6696C13.3132 5.03911 12.8192 4.39911 12.1876 3.89777C11.5559 3.39655 10.8362 3.06644 10.0286 2.90744C10.2397 3.26211 10.4281 3.68927 10.5939 4.18894C10.7598 4.68849 10.8923 5.23144 10.9914 5.81777ZM7.79391 5.81777H10.1146C9.99313 5.13822 9.82624 4.52194 9.61391 3.96894C9.40146 3.41594 9.18157 3.03649 8.95424 2.83061C8.72691 3.03649 8.50702 3.41594 8.29457 3.96894C8.08224 4.52194 7.91535 5.13822 7.79391 5.81777ZM4.23891 5.81777H6.91707C7.01618 5.23144 7.14868 4.68849 7.31457 4.18894C7.48035 3.68927 7.6688 3.26211 7.87991 2.90744C7.06791 3.06644 6.34718 3.39766 5.71774 3.90111C5.08818 4.40444 4.59524 5.04333 4.23891 5.81777Z",fill:"white"}))),qx=t=>c.createElement("svg",{width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("g",{clipPath:"url(#clip0_4456_20229)"},c.createElement("mask",{id:"mask0_4456_20229",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:14,height:10},c.createElement("rect",{width:13.3333,height:10,fill:"white"})),c.createElement("g",{mask:"url(#mask0_4456_20229)"},c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H13.3333V10H0V0Z",fill:"#F7FCFF"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.11133V6.94466H13.3333V6.11133H0Z",fill:"#E31D1C"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 7.63916V8.47249H13.3333V7.63916H0Z",fill:"#E31D1C"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 3.05566V3.889H13.3333V3.05566H0Z",fill:"#E31D1C"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 9.1665V9.99984H13.3333V9.1665H0Z",fill:"#E31D1C"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 4.5835V5.41683H13.3333V4.5835H0Z",fill:"#E31D1C"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0V0.833333H13.3333V0H0Z",fill:"#E31D1C"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.52783V2.36117H13.3333V1.52783H0Z",fill:"#E31D1C"}),c.createElement("rect",{width:8.33333,height:5.41667,fill:"#2E42A5"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.717506 1.22409L0.415057 1.43613L0.517167 1.05879L0.248535 0.819664H0.599405L0.717084 0.511719L0.855072 0.819664H1.15418L0.919163 1.05879L1.01015 1.43613L0.717506 1.22409ZM2.38417 1.22409L2.08172 1.43613L2.18383 1.05879L1.9152 0.819664H2.26607L2.38374 0.511719L2.52173 0.819664H2.82084L2.58582 1.05879L2.67681 1.43613L2.38417 1.22409ZM3.74838 1.43613L4.05083 1.22409L4.34347 1.43613L4.25248 1.05879L4.4875 0.819664H4.18839L4.0504 0.511719L3.93273 0.819664H3.58186L3.85049 1.05879L3.74838 1.43613ZM5.71749 1.22409L5.41504 1.43613L5.51715 1.05879L5.24852 0.819664H5.59939L5.71706 0.511719L5.85505 0.819664H6.15416L5.91914 1.05879L6.01013 1.43613L5.71749 1.22409ZM0.415057 3.10285L0.717506 2.89081L1.01015 3.10285L0.919163 2.72551L1.15418 2.48638H0.855072L0.717084 2.17844L0.599405 2.48638H0.248535L0.517167 2.72551L0.415057 3.10285ZM2.38417 2.89081L2.08172 3.10285L2.18383 2.72551L1.9152 2.48638H2.26607L2.38374 2.17844L2.52173 2.48638H2.82084L2.58582 2.72551L2.67681 3.10285L2.38417 2.89081ZM3.74838 3.10285L4.05083 2.89081L4.34347 3.10285L4.25248 2.72551L4.4875 2.48638H4.18839L4.0504 2.17844L3.93273 2.48638H3.58186L3.85049 2.72551L3.74838 3.10285ZM5.71749 2.89081L5.41504 3.10285L5.51715 2.72551L5.24852 2.48638H5.59939L5.71706 2.17844L5.85505 2.48638H6.15416L5.91914 2.72551L6.01013 3.10285L5.71749 2.89081ZM0.415057 4.76957L0.717506 4.55753L1.01015 4.76957L0.919163 4.39223L1.15418 4.1531H0.855072L0.717084 3.84515L0.599405 4.1531H0.248535L0.517167 4.39223L0.415057 4.76957ZM2.38417 4.55753L2.08172 4.76957L2.18383 4.39223L1.9152 4.1531H2.26607L2.38374 3.84515L2.52173 4.1531H2.82084L2.58582 4.39223L2.67681 4.76957L2.38417 4.55753ZM3.74838 4.76957L4.05083 4.55753L4.34347 4.76957L4.25248 4.39223L4.4875 4.1531H4.18839L4.0504 3.84515L3.93273 4.1531H3.58186L3.85049 4.39223L3.74838 4.76957ZM5.71749 4.55753L5.41504 4.76957L5.51715 4.39223L5.24852 4.1531H5.59939L5.71706 3.84515L5.85505 4.1531H6.15416L5.91914 4.39223L6.01013 4.76957L5.71749 4.55753ZM7.0817 1.43613L7.38415 1.22409L7.67679 1.43613L7.5858 1.05879L7.82082 0.819664H7.52171L7.38373 0.511719L7.26605 0.819664H6.91518L7.18381 1.05879L7.0817 1.43613ZM7.38415 2.89081L7.0817 3.10285L7.18381 2.72551L6.91518 2.48638H7.26605L7.38373 2.17844L7.52171 2.48638H7.82082L7.5858 2.72551L7.67679 3.10285L7.38415 2.89081ZM7.0817 4.76957L7.38415 4.55753L7.67679 4.76957L7.5858 4.39223L7.82082 4.1531H7.52171L7.38373 3.84515L7.26605 4.1531H6.91518L7.18381 4.39223L7.0817 4.76957ZM1.55087 2.05745L1.24842 2.26949L1.35053 1.89215L1.08189 1.65302H1.43276L1.55044 1.34508L1.68843 1.65302H1.98754L1.75252 1.89215L1.84351 2.26949L1.55087 2.05745ZM2.91508 2.26949L3.21753 2.05745L3.51017 2.26949L3.41918 1.89215L3.6542 1.65302H3.35509L3.2171 1.34508L3.09942 1.65302H2.74855L3.01719 1.89215L2.91508 2.26949ZM4.88419 2.05745L4.58174 2.26949L4.68385 1.89215L4.41521 1.65302H4.76608L4.88376 1.34508L5.02175 1.65302H5.32086L5.08584 1.89215L5.17683 2.26949L4.88419 2.05745ZM1.24842 3.93621L1.55087 3.72417L1.84351 3.93621L1.75252 3.55887L1.98754 3.31974H1.68843L1.55044 3.0118L1.43276 3.31974H1.08189L1.35053 3.55887L1.24842 3.93621ZM3.21753 3.72417L2.91508 3.93621L3.01719 3.55887L2.74855 3.31974H3.09942L3.2171 3.0118L3.35509 3.31974H3.6542L3.41918 3.55887L3.51017 3.93621L3.21753 3.72417ZM4.58174 3.93621L4.88419 3.72417L5.17683 3.93621L5.08584 3.55887L5.32086 3.31974H5.02175L4.88376 3.0118L4.76608 3.31974H4.41521L4.68385 3.55887L4.58174 3.93621ZM6.55085 2.05745L6.2484 2.26949L6.35051 1.89215L6.08187 1.65302H6.43274L6.55042 1.34508L6.68841 1.65302H6.98752L6.7525 1.89215L6.84349 2.26949L6.55085 2.05745ZM6.2484 3.93621L6.55085 3.72417L6.84349 3.93621L6.7525 3.55887L6.98752 3.31974H6.68841L6.55042 3.0118L6.43274 3.31974H6.08187L6.35051 3.55887L6.2484 3.93621Z",fill:"#F7FCFF"}))),c.createElement("defs",null,c.createElement("clipPath",{id:"clip0_4456_20229"},c.createElement("rect",{width:13.3333,height:10,rx:.9375,fill:"white"})))),Yl={US:"United States",CAYMAN:"Global"},Ql={US:e.jsx(qx,{}),CAYMAN:e.jsx(Wx,{})},$x=["US","CAYMAN"],Z1=()=>{const t=X(),{walletAddress:s,isAuthenticatedWithCookie:a,handleLogin:n,logout:r}=ee(),{krangCtaText:i,krangCtaOnPress:l,isKrangCtaButtonHidden:o,passportName:u,hasKrangBlocker:d}=Le(),{originalLicensingJurisdiction:x,currentLicensingJurisdiction:m,licensingJurisdictionsWithAcceptedConsents:f,licensingJurisdictionsWithAcknowledgedExit:p}=ae(pt),g=Fe(),{pathname:h}=Cs(),b=c.useMemo(()=>h.includes(ye.HOME)?"HOME":h.includes(ye.LEND)?"LEND":"TRADE",[h]),j=Ye(),y=c.useMemo(()=>nl.filter(_=>_.originalLicensingJurisdiction===m&&!p.includes(_.requiredLicensingJurisdiction)&&!f.includes(_.requiredLicensingJurisdiction)),[m,p,f]),C=c.useMemo(()=>g.IS_IRELAND_RESTRICTION_ENABLED?y.map(_=>_.navigationTitleToMatch):[],[g,y]),w=c.useCallback(_=>{var U;const F=y.find(z=>z.navigationTitleToMatch===_.title);F&&g.IS_IRELAND_RESTRICTION_ENABLED?t(ss.setDestinationFeature({name:F.featureDisplayName,licensingJurisdiction:F.requiredLicensingJurisdiction,onContinue:()=>{var z;(z=_.route)==null||z.call(_)}})):(U=_.route)==null||U.call(_)},[t,y,g]),{setLocation:N,marketLocation:v}=me(),[A,E]=c.useState(!1),P=c.useRef(null),L=c.useRef(null),O=lr({isOpen:A,onOpenChange:E}),{triggerProps:W}=Di({type:"menu"},O,P),{popoverProps:$,underlayProps:R}=Ti({triggerRef:P,offset:0,popoverRef:L,placement:"bottom"},O),D=()=>{window.location.href=`${ke}/c/funding-and-transfers`},M=x==="IRELAND",B=[];return(!g.IS_LEND_ENABLED||M)&&B.push("LEND"),e.jsxs(e.Fragment,{children:[e.jsx(M0,{rootApp:b,isAuthenticatedWithCookie:a,passportName:u,walletAddress:s,hiddenTitles:B,exchangeLocationDropdown:(window.location.href.includes(ye.HOME)||window.location.href.includes(ye.TRADE)||window.location.href.includes(ye.LEND))&&!a?e.jsxs(fo,{children:[e.jsxs(Y,{...W,ref:P,"aria-label":"Menu",className:`flex relative items-center justify-between bg-neutral-100 hover:bg-p-500 text-xxs font-bold outline-none outline-offset-0 px-2.5 py-1 w-36 hover:cursor-pointer ${A?"rounded-t":"rounded"}`,children:[e.jsxs("div",{className:"flex items-center gap-x-1",children:[Ql[v],Yl[v]]}),e.jsx(ds,{className:`ml-2 w-3 h-3 ${A&&"rotate-180"} transition ease-in-out duration-500`})]}),O.isOpen&&e.jsxs(Pi,{children:[e.jsx("div",{...R,className:"fixed z-50 overflow-hidden w-full h-full top-0",id:"underlay"}),e.jsx("div",{...$,ref:L,children:e.jsx(po,{className:"rounded-b-md bg-neutral-100 outline-none drop-shadow-2xl",children:$x.filter(_=>_!==v).map(_=>e.jsxs(go,{onAction:()=>{N(_),E(!1)},className:"flex items-center gap-x-1 w-36 px-2.5 py-2.5 rounded-b-md outline-none text-xxs font-bold relative hover:bg-p-500 cursor-pointer",children:[Ql[_],Yl[_]]},_))})})]})]}):void 0,depositButton:s&&a&&!o?e.jsx(T.Deposit,{className:"py-[7px] w-full rounded-[4px] md:py-1 md:w-auto",isDisabled:g.BLOCKCHAIN_MAINTENANCE,onPress:d?l:D,children:d?i:"Fund account"}):void 0,navigate:j,routeOverride:w,externalTitles:C,login:n,logout:r,isRexNav:g.IS_REX_NAV}),e.jsx(g7,{}),e.jsx(U6,{})]})},Hx=()=>{const t=Fe(),[s,a]=c.useState(!1),n=ol();return c.useEffect(()=>{const r=i=>{a(i.detail.open)};return window.addEventListener("openToggled",r),()=>window.removeEventListener("openToggled",r)},[]),e.jsxs(e.Fragment,{children:[e.jsx(Z1,{}),e.jsx(Bx,{}),e.jsx("div",{className:k("pt-[44px] md:pt-[46px]",s&&"fixed"),children:t.EXCHANGE_MAINTENANCE?e.jsx(ji,{title:"Exchange Maintenance",description:"Hang tight—our platform’s getting a quick tune-up. We’ll be back in action soon!"}):e.jsx("div",{className:"h-full min-h-[calc(100vh-theme('spacing.nav-and-footer'))] lg:h-[calc(100vh-theme('spacing.nav-and-footer'))] overflow-y-auto scrollbar-thin flex flex-col bg-neutral-white",children:e.jsx(dr,{})})}),e.jsx(R1,{showStatusBar:!0,shouldUseSecure:n.isSecure})]})},Vx=()=>{var o;const{isAuthenticatedWithCookie:t}=ee(),[s,a]=c.useState(null),{positions:n,isLoading:r}=ft(),i=c.useMemo(()=>{var u;return(u=n==null?void 0:n.uncommittedAssets)==null?void 0:u.find(d=>d.denom===s)},[s,n]);c.useEffect(()=>{document.title="Deposit"},[]);const{data:l}=Te();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-y-[22px] mb-7",children:t&&e.jsx("div",{className:"flex flex-col md:flex-row items-center md:items-stretch divide-x divide-neutral-200 border-b border-b-neutral-200",children:e.jsx("div",{className:"flex flex-col divide-neutral-200 divide-y min-w-full md:min-w-fit",children:e.jsx("div",{className:"md:min-w-[480px]",children:e.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-xs font-bold text-neutral-300",children:"Uncommitted Assets"}),e.jsx("div",{className:"block bg-s-400 rounded-full w-[6px] h-[6px]"})]}),r?e.jsx("div",{className:"flex w-full items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):(o=n==null?void 0:n.uncommittedAssets)==null?void 0:o.map(u=>{var x;const d=(x=l==null?void 0:l.allAssets.find(({provenanceMarkerName:m})=>(m==null?void 0:m.substring(1))===u.denom))==null?void 0:x.name;return u.quantity>0&&d?e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex",children:[e.jsx(ue,{coin:d,className:"w-4 h-4"}),e.jsx("p",{className:"text-sm font-bold",children:d})]}),e.jsx("p",{className:"text-[30px] font-extralight leading-snug",children:u.quantity})]}),e.jsx(T.Secondary,{className:"w-36",onPress:()=>{a(u.denom)},children:"Commit"})]},u.denom):null})]})})})})}),e.jsx(h6,{isOpen:s!==null,onClose:()=>{a(null)},assetDenom:s,assetLastTradedPrice:"0",assetPrecision:9,onCommitted:()=>{a(null)},availableQuantity:(i==null?void 0:i.quantity)??0})]})},Zx=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:120,viewBox:"0 0 120 120",fill:"none",...t},c.createElement("path",{d:"M43.8304 92.325L41.2965 90.8731L41.4916 90.5326L40.422 89.9198V88.7365H40.0295V85.9149H40.422V83.0934H40.0295V80.2719H40.422V77.4503H40.0295V74.6288H40.422V73.5126L41.4061 73.2265L41.2965 72.8497L43.8304 72.1129L43.94 72.4897L46.4739 71.753L46.3644 71.3762L48.8983 70.6394L49.0079 71.0163L51.5418 70.2795L51.4322 69.9027L53.9662 69.166L54.0757 69.5428L55.2331 69.2063L56.3905 69.5428L56.5001 69.166L59.034 69.9027L58.9244 70.2795L61.4584 71.0163L61.5679 70.6394L64.1018 71.3762L63.9923 71.753L66.5262 72.4897L66.6357 72.1129L69.1696 72.8497L69.0601 73.2265L70.0442 73.5126V74.6288H70.4366V77.4503H70.0442V80.2719H70.4366V83.0934H70.0442V85.9149H70.4366V88.7365H70.0442V89.9198L68.9746 90.5326L69.1697 90.8731L66.6357 92.325L66.4406 91.9845L63.9067 93.4363L64.1018 93.7768L61.5679 95.2286L61.3728 94.8881L58.8389 96.3399L59.034 96.6804L56.5001 98.1323L56.305 97.7918L55.2331 98.4059L54.1613 97.7918L53.9662 98.1323L51.4322 96.6804L51.6273 96.3399L49.0934 94.8881L48.8983 95.2286L46.3644 93.7768L46.5595 93.4363L44.0255 91.9845L43.8304 92.325Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:.784855,strokeDasharray:"2.67 2.67"}),c.createElement("path",{d:"M87.238 52.4879L87.2428 55.1745L86.8503 55.1752L86.8523 56.2914L86.0411 56.7598L86.2373 57.0996L84.2216 58.2634L84.0254 57.9235L82.0097 59.0873L82.2059 59.4272L80.1902 60.5909L79.9939 60.2511L77.9782 61.4149L78.1744 61.7547L76.1587 62.9185L75.9625 62.5786L75.3095 62.9557L74.9543 62.2743L74.6063 62.4557L73.5171 60.3662L73.8651 60.1848L72.7759 58.0954L72.4279 58.2768L71.3387 56.1874L71.6867 56.006L70.5976 53.9166L70.2496 54.098L69.1604 52.0086L69.5084 51.8272L68.4192 49.7378L68.0712 49.9192L66.982 47.8298L67.33 47.6484L66.8095 46.6499L66.5017 45.2493L66.1184 45.3335L65.4804 42.4304L65.8637 42.3462L65.2256 39.4431L64.8423 39.5274L64.2043 36.6243L64.5876 36.5401L63.9495 33.637L63.5662 33.7212L62.9282 30.8182L63.3115 30.7339L63.0541 29.5629L63.8132 29.1246L63.617 28.7847L65.6327 27.621L65.829 27.9608L67.8447 26.797L67.6485 26.4572L69.6642 25.2934L69.8604 25.6333L71.8761 24.4695L71.6799 24.1296L73.6956 22.9659L73.8918 23.3057L74.7027 22.8376L75.5473 23.3289L75.7446 22.9897L77.8269 24.2011L77.6296 24.5403L79.7119 25.7517L79.9093 25.4125L81.9916 26.6239L81.7942 26.9631L83.8766 28.1745L84.0739 27.8353L86.1562 29.0467L85.9589 29.386L86.8054 29.8784L86.8073 30.9964L87.1998 30.9957L87.2046 33.6822L86.8121 33.6829L86.8169 36.3695L87.2093 36.3688L87.2141 39.0553L86.8217 39.056L86.8265 41.7425L87.2189 41.7418L87.2237 44.4284L86.8312 44.4291L86.836 47.1156L87.2284 47.1149L87.2332 49.8014L86.8408 49.8021L86.8456 52.4886L87.238 52.4879Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:.784855,strokeDasharray:"2.67 2.67"}),c.createElement("path",{d:"M55.2265 60.0455L55.2265 63.0216L54.8341 63.0216L54.8341 64.2827L53.7682 64.8955L53.9638 65.2357L51.4385 66.6876L51.2429 66.3474L48.7176 67.7993L48.9132 68.1395L46.3879 69.5915L46.1923 69.2513L43.667 70.7032L43.8626 71.0434L41.3373 72.4953L41.1417 72.1551L40.132 72.7356L39.4533 72.0943L39.1838 72.3795L37.4022 70.696L37.6717 70.4108L35.8901 68.7272L35.6206 69.0125L33.839 67.3289L34.1085 67.0437L32.3269 65.3602L32.0573 65.6454L30.2757 63.9619L30.5452 63.6766L29.7323 62.9084L29.3574 61.6095L28.9804 61.7183L28.1714 58.9147L28.5484 58.8059L27.7394 56.0023L27.3623 56.1111L26.5533 53.3075L26.9303 53.1987L26.1213 50.3951L25.7443 50.5039L24.9352 47.7003L25.3123 47.5915L24.9929 46.4848L25.9761 45.9172L25.7798 45.5773L28.2781 44.135L28.4743 44.4748L30.9725 43.0325L30.7763 42.6926L33.2745 41.2503L33.4707 41.5901L35.969 40.1478L35.7728 39.8079L38.271 38.3656L38.4672 38.7054L39.5207 38.0971L40.6337 38.7355L40.829 38.3951L43.4467 39.8965L43.2515 40.2369L45.8692 41.7383L46.0644 41.3979L48.6822 42.8993L48.4869 43.2397L51.1047 44.7411L51.2999 44.4007L53.9176 45.9021L53.7224 46.2425L54.8341 46.8801L54.8341 48.1408L55.2265 48.1408L55.2265 51.117L54.8341 51.117L54.8341 54.0932L55.2265 54.0932L55.2265 57.0693L54.8341 57.0693L54.8341 60.0455L55.2265 60.0455Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:.784855,strokeDasharray:"2.67 2.67"}),c.createElement("path",{d:"M40.0295 73.2255L55.233 64.4948L70.4396 73.2239L55.2335 82.0205L40.0295 73.2255Z",fill:"#5A56EC"}),c.createElement("path",{d:"M75.1509 63.5004L62.6429 56.2401L62.6068 29.3651L75.1631 36.6002L75.1509 63.5004Z",fill:"#5A56EC"}),c.createElement("path",{d:"M40.0786 73.222L24.5765 64.2238L24.5318 46.2974L40.0937 55.2643L40.0786 73.222Z",fill:"#5A56EC"}),c.createElement("line",{x1:55.2391,y1:80.184,x2:55.2391,y2:98.1668,stroke:"#5A56EC",strokeWidth:.784855,strokeDasharray:"2.67 2.67"}),c.createElement("line",{x1:73.8153,y1:37.2948,x2:86.6622,y2:29.8776,stroke:"#5A56EC",strokeWidth:.784855,strokeDasharray:"2.67 2.67"}),c.createElement("line",{x1:38.4703,y1:56.2052,x2:54.3925,y2:47.0125,stroke:"#5A56EC",strokeWidth:.784855,strokeDasharray:"2.67 2.67"}),c.createElement("path",{d:"M74.9451 80.536L79.3865 84.9778L88.9743 75.3906",stroke:"#080E18",strokeWidth:.784855}),c.createElement("ellipse",{cx:81.9598,cy:80.1844,rx:13.0809,ry:13.0809,fill:"#F7343B"}),c.createElement("path",{d:"M76.397 85.7226L87.5219 74.5973",stroke:"#080E18",strokeWidth:.784855}),c.createElement("path",{d:"M87.5229 85.7224L76.398 74.597",stroke:"#080E18",strokeWidth:.784855})),Gx=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:12,viewBox:"0 0 13 12",fill:"none",...t},c.createElement("g",{clipPath:"url(#clip0_4098_6016)"},c.createElement("path",{d:"M1.0222 11.9893V10.5612H2.59947L2.55684 10.4973C1.95293 9.92181 1.45915 9.25208 1.07549 8.4881C0.691829 7.72413 0.5 6.89287 0.5 5.99431C0.5 4.60554 0.919183 3.38185 1.75755 2.32323C2.59591 1.26462 3.65808 0.564794 4.94405 0.223764V1.71577C4.05595 2.04259 3.33126 2.58782 2.76998 3.35146C2.2087 4.1151 1.92806 4.99471 1.92806 5.99031C1.92806 6.6646 2.06483 7.29304 2.33837 7.87563C2.6119 8.45822 2.98313 8.95556 3.45204 9.36764L3.51599 9.43158V8.06746H4.94405V11.9893H1.0222ZM8.05595 11.7762V10.2842C8.94405 9.95733 9.66874 9.41211 10.23 8.64847C10.7913 7.88483 11.0719 7.00521 11.0719 6.00962C11.0719 5.33533 10.9352 4.70689 10.6616 4.1243C10.3881 3.5417 10.0169 3.04437 9.54796 2.63229L9.48401 2.56835V3.93247H8.05595V0.0106201H11.9778V1.43868H10.4005L10.4432 1.50263C11.0715 2.05828 11.5714 2.72295 11.9428 3.49663C12.3143 4.27031 12.5 5.10831 12.5 6.01062C12.5 7.39606 12.0808 8.61808 11.2425 9.67669C10.4041 10.7353 9.34192 11.4351 8.05595 11.7762Z",fill:"white"})),c.createElement("defs",null,c.createElement("clipPath",{id:"clip0_4098_6016"},c.createElement("rect",{width:12,height:12,fill:"white",transform:"translate(0.5)"})))),zx=()=>{const t=zd();return ys.error(`RouterError: ${t}`),console.error(t),e.jsxs(e.Fragment,{children:[e.jsx(Z1,{}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col justify-center items-center flex-wrap w-full py-16 gap-3.5",children:[e.jsx(Zx,{className:"w-[120px] h-[120px]"}),e.jsxs("div",{className:"text-center text-xs",children:[e.jsx("p",{children:"There was a problem displaying the information."}),e.jsx("p",{children:"Please try refreshing the page."})]}),e.jsxs(T.Primary,{className:"w-[194px] flex items-center justify-center gap-2",onPress:()=>window.location.reload(),children:["Refresh",e.jsx(Gx,{})]})]})})]})},$r=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center items-center w-full h-[calc(100vh-theme(space.14))] flex-col",children:e.jsxs("div",{className:"mt-8 text-center",children:[e.jsx(Z0,{as:"h2",children:"404"}),e.jsx(z0,{children:"Page Not Found"})]})})}),G1=({referralDestination:t})=>{const{walletAddress:s}=ee(),[a]=Oa(),n=a.get("referral"),{mutateAsync:r}=E3();c.useEffect(()=>{n&&R5(n)&&localStorage.setItem("referralID",n)},[n]),c.useEffect(()=>{localStorage.getItem("referralID")&&s&&r({requestBody:{referrerId:localStorage.getItem("referralID"),referralDestination:t}}).then(()=>{localStorage.removeItem("referralID")})},[n,s,r,t])},z1=()=>{c.useEffect(()=>{window.scrollTo({top:0})},[])},Kx=({symbol:t,enabled:s=!0})=>{const{marketLocation:a}=me(),{originalLicensingJurisdiction:n}=ae(pt),{isAuthenticatedWithCookie:r}=ee(),{IS_IRELAND_RESTRICTION_ENABLED:i}=Fe();let l=r&&i&&n!=="UNKNOWN_LICENSING_JURISDICTION"&&n!=="UNRECOGNIZED"?j1[n]:a;(l==="UNKNOWN_MARKET_LOCATION"||l==="UNRECOGNIZED")&&(l="US");const{data:o,...u}=E7({path:{symbol:t},queryOptions:{enabled:s}}),[d,x]=c.useState(),m=c.useMemo(()=>{var f;if(o)return{...o,...oe.shared.getLatestMarketUpdate(o.symbol),percentageChange24h:Number(((f=oe.shared.getLatestMarketUpdate(o.symbol))==null?void 0:f.percentageChange24h)??o.percentageChange24h)}},[o,d]);return c.useEffect(()=>{if(m){const f=()=>{x(Date.now())};return oe.shared.subscribeToMarketUpdates(m.symbol,f),()=>{oe.shared.unsubscribeFromMarketUpdates(m.symbol,f)}}},[m,l]),{data:m,...u}},Yx=t=>{const{isAuthenticatedWithCookie:s,walletAddress:a}=ee(),{isMarginEnabled:n}=at(),[r,i]=c.useState(t),[l,o]=c.useState({});c.useEffect(()=>{t&&(i(t),o({}))},[t]);const u=p=>{o({quantity:p.amount,cashQuantity:p.cashAmount,price:p.limitPrice,direction:p.side?ra(p.side)?"ASK":"BID":void 0,orderType:p.orderType?lc(p.orderType):void 0})},d=()=>{o({...l,quantity:void 0,cashQuantity:void 0,price:void 0})},x=()=>{if(l.orderType==="MARKET"&&l.direction==="BID"&&l.cashQuantity&&l.cashQuantity>0)return{cashQuantity:l.cashQuantity,direction:l.direction,orderType:l.orderType};if(l.quantity&&l.quantity>0&&l.price&&l.price>0)return{quantity:l.quantity,price:l.price,direction:l.direction,orderType:l.orderType}},{data:m,refetch:f}=c3({queryOptions:{enabled:!!(s&&n&&r&&t===r),refetchInterval:3e4},query:{symbol:r,...x()},walletAddress:a});return{marginDetails:m,queryValues:l,handleMarginTradingValues:u,resetMarginSimulation:d,refetchMarginDetails:f}},Qx=(t,s)=>{const a=oe.shared.getLatestOrderBookUpdate(t,s)??{asks:[],bids:[]},[n,r]=c.useState(a),i=c.useCallback(({data:l})=>{r(l)},[r]);return c.useEffect(()=>(r(a),oe.shared.subscribeToOrderBookUpdates(t,s,i),()=>{oe.shared.unsubscribeFromOrderBookUpdates(t,s,i)}),[t,s,i]),{orderbook:n}},Jx=25,Xx=t=>{var u;const s=oe.shared.getRecentTrades(t),[a,n]=c.useState(s),r=D7({path:{symbol:t},query:{size:25},queryOptions:{enabled:!!t}}),i=c.useMemo(()=>{var d;return((d=r.data)==null?void 0:d.matches)??[]},[(u=r.data)==null?void 0:u.matches,t]),l=c.useCallback(({recentTrades:d})=>{n(d)},[n]);return c.useEffect(()=>(n(s),oe.shared.subscribeToTradeUpdates(t,l),()=>{oe.shared.unsubscribeFromTradeUpdates(t,l)}),[t,l]),{trades:[...a,...i].slice(0,Jx)}},e8=(t,s)=>{const[a,n]=c.useState([]),{CANDLE_TYPE_CONFIG:r}=Fe(),{marketLocation:i}=me(),l=r[i]??"TRADE",o=c.useCallback(({data:u})=>{a.some(d=>d.date===u.date)||n([...a,u])},[a,n]);return c.useEffect(()=>(oe.shared.subscribeToCandleUpdates(t,s,l,o),()=>{oe.shared.unsubscribeFromCandleUpdates(t,s,l,o)}),[t,s,l,o]),{candles:a}},t8=()=>{const{walletAddress:t}=ee(),s=Be(),a=c.useCallback(({data:n})=>{switch(n.state){case"NEW":case"PENDING_NEW":s.notifyOrderPlaced(n);break;case"PARTIALLY_FILLED":s.notifyOrderPartiallyFilled(n);break;case"FILLED":s.notifyOrderFilled(n);break;case"UNKNOWN_ORDER_STATE":s.notifyOrderFailed(n);break}},[s]);c.useEffect(()=>t?(oe.shared.subscribeToOrderUpdates(a),()=>{oe.shared.unsubscribeFromOrderUpdates(a)}):()=>{},[t,a])},Kn=Kd({selectId:t=>t.orderId,sortComparer:(t,s)=>s.created.localeCompare(t.created)}),s8=Kn.getInitialState({hasMoreData:!1,newOrderIdsByMarketId:{},totalCountByMarketId:{},cancelInProgressOrderIds:[]}),K1=rs({name:"orders",initialState:s8,reducers:{fetchMore(t){t.shouldFetchMore=!0},handleOrderUpdate(t,{payload:s}){if(s.state==="NEW"){const a=t.newOrderIdsByMarketId[s.marketId]??[];a.includes(s.orderId)||(t.totalCountByMarketId[s.marketId]=t.totalCountByMarketId[s.marketId]+1),t.newOrderIdsByMarketId[s.marketId]=[...a.filter(n=>n!==s.orderId),s.orderId]}s.state==="CANCELED"&&(t.cancelInProgressOrderIds=t.cancelInProgressOrderIds.filter(a=>a!==s.orderId)),Kn.upsertOne(t,s)},handleCancelOrder(t,s){t.cancelInProgressOrderIds=[...t.cancelInProgressOrderIds,s.payload]}},extraReducers:t=>{t.addMatcher(Wu.matchFulfilled,(s,a)=>{const n=a.meta.arg.originalArgs.query;n!=null&&n.marketId&&!n.baseAsset&&(s.shouldFetchMore=!1,s.nextToken=a.payload.nextPageToken,s.hasMoreData=!!a.payload.nextPageToken,s.newOrderIdsByMarketId[n.marketId]=[],s.totalCountByMarketId[n.marketId]=a.payload.totalCount),a.payload.data.forEach(r=>{r.state==="CANCELED"&&s.cancelInProgressOrderIds.includes(r.orderId)&&(s.cancelInProgressOrderIds=s.cancelInProgressOrderIds.filter(i=>i!==r.orderId))}),Kn.upsertMany(s,a.payload.data)})}}),nn=K1.actions,Y1=t=>t.orders,a8=Kn.getSelectors(t=>t.orders),n8=K1.reducer;function Q1(){const[t,s]=Yd("use-dark-mode",!0);return c.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),{isDarkMode:t,toggle:()=>s(a=>!a),enable:()=>s(!0),disable:()=>s(!1)}}const bi=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",fill:"none",...t},c.createElement("path",{d:"M7 3L12.1962 9H1.80385L7 3Z",fill:"#4ADFA7"})),yi=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",fill:"none",...t},c.createElement("path",{d:"M7 11L1.80385 5L12.1962 5L7 11Z",fill:"#F7343B"})),r8=["SOL","UNI","LINK","PEPE","DAI"],i8=["NEW","TOP_GAIN","TOP_LOSE","USD","USDC","USDT"],l8=["NEW","TOP_GAIN","TOP_LOSE","USDC","USDT"],o8={NEW:"New",TOP_GAIN:"Top Gainers",TOP_LOSE:"Top Losers",USD:"USD",USDC:"USDC",USDT:"USDT"},Jl={NEW:!1,TOP_GAIN:!1,TOP_LOSE:!1,USD:!1,USDC:!1,USDT:!1},c8=t=>{var P;const{markets:s,currentMarket:a}=t,{getAsset:n,usdEnabled:r}=Te(),[i,l]=c.useState(!1),[o,u]=c.useState(0),[d,x]=c.useState(!0),[m,f]=c.useState(""),[p,g]=c.useState(Jl),h=c.useRef(null),b=c.useRef(null),j=L=>{l(L),g(Jl),f("")},y=lr({isOpen:i,onOpenChange:j}),{triggerProps:C}=Di({type:"menu"},y,h),{popoverProps:w,underlayProps:N}=Ti({triggerRef:h,offset:0,popoverRef:b,placement:"bottom"},y);c.useEffect(()=>{const L=()=>{if(h.current){const O=h.current,{width:W}=O.getBoundingClientRect();u(W+15)}};return L(),window.addEventListener("resize",L),window.addEventListener("load",L),()=>{window.removeEventListener("resize",L),window.addEventListener("load",L)}},[]);const v=L=>L>0?"text-s-400":"text-negative-300",A=L=>{p[L]?g({...p,[L]:!1}):g({...p,[L]:!0})},E=c.useMemo(()=>{const L=s.sort((M,B)=>Number(B.percentageChange24h)-Number(M.percentageChange24h)).filter((M,B)=>B<5&&M.percentageChange24h!==0),O=s.sort((M,B)=>Number(M.percentageChange24h)-Number(B.percentageChange24h)).filter((M,B)=>B<5&&M.percentageChange24h!==0),W=[p.TOP_GAIN?[...L]:[],p.TOP_LOSE?[...O]:[],!p.TOP_LOSE&&!p.TOP_GAIN?s:[]].flat(),$=m.toLocaleLowerCase(),R=[p.USD?["USD"]:[],p.USDC?["USDC"]:[],p.USDT?["USDT"]:[]].flat();return[...new Set(W)].filter(M=>p.NEW?r8.includes(M.denom):!0).filter(M=>{const B=n(M.denom);return M.denom.toLocaleLowerCase().includes($)||(B==null?void 0:B.displayName.toLocaleLowerCase().includes($))}).filter(M=>R.length>0?R.includes(M.quoteDenom):!0).sort((M,B)=>d?Number(B.volume24h)-Number(M.volume24h):Number(M.volume24h)-Number(B.volume24h))},[m,p,s,n,d]);return e.jsxs(Ws,{children:[e.jsx("div",{className:"gap-4",children:e.jsxs(Y,{className:"flex justify-between items-center bg-neutral-100 hover:bg-p-500 outline-none outline-offset-0 px-2.5 py-1 rounded w-full min-w-40 lg:w-72 max-w-72 hover:cursor-pointer",ref:h,...C,children:[e.jsxs("div",{className:"flex justify-start items-center gap-2",children:[(a==null?void 0:a.denom)&&e.jsx(ue,{coin:a.denom,displayName:a.denom,className:"h-4 w-4"}),e.jsx("p",{className:"text-xs font-bold truncate","data-testid":"selected-current-market",children:((P=a==null?void 0:a.displayName)==null?void 0:P.toUpperCase())??"-"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-bold mx-2 hidden md:block","data-testid":"market-selector-dropdown",children:i?"Close":"All Markets"}),e.jsx(ds,{className:`w-3 h-3 ${i&&"rotate-180"} transition ease-in-out duration-500`})]})]})}),y.isOpen&&e.jsxs(Pi,{children:[e.jsx("div",{...N,className:Lt()?"":"fixed backdrop-blur-[2px] z-50 overflow-hidden top-0 w-full h-[50px]",id:"underlay-main-nav"}),e.jsx("div",{...N,className:Lt()?"":"fixed backdrop-blur-[2px] z-50 overflow-hidden top-[50px] w-full h-[100vh]",style:{left:`${o}px`},id:"underlay-header-bar"}),e.jsx("div",{...N,className:k("backdrop-blur-[2px] z-50 overflow-hidden fixed top-[92px] w-full flex justify-center items-center",Lt()?"h-full":"h-[100vh]"),id:"underlay"}),e.jsx("div",{...w,ref:b,className:"entering:animate-in entering:fade-in exiting:animate-out exiting:fade-out overflow-y-auto scrollbar-none",children:e.jsx(is,{className:"outline-none rounded",children:e.jsxs("div",{className:"rounded-lg w-[calc(100vw-20px)] h-[calc(100vh-100px)] mobile:max-w-[509px] mobile:h-full mobile:p-4 border-[1px] border-figma-neutral-dark bg-figma-dark overflow-y-auto scrollbar-none",children:[e.jsx(Pe.Search,{placeholder:"Search Pairs",value:m,onChange:L=>f(L.target.value),onClear:()=>f(""),className:"p-4 mobile:p-0"}),e.jsx("div",{className:"mobile:mt-4 overflow-x-auto scrollbar-thin",children:e.jsxs("div",{className:"w-[475px] px-4 pb-4 mobile:p-0",children:[e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsx("div",{className:"flex flex-row flex-shrink-0 gap-3",children:(r?i8:l8).map(L=>e.jsx(T.Highlighted,{className:"w-fit",active:p[L],onPress:()=>A(L),children:o8[L]},L))})}),e.jsxs("div",{className:"mt-4 rounded-lg border-[1px] border-figma-neutral-dark bg-figma-neutral-dark divide-y divide-figma-neutral-dark",children:[e.jsxs("div",{className:"grid grid-cols-3 items-center gap-2 px-4 py-2",children:[e.jsx("div",{className:"text-figma-neutral-light text-xs font-bolder",children:"Pair"}),e.jsx("div",{className:"text-figma-neutral-light text-xs font-bolder text-right",children:"Exchange Price"}),e.jsxs("button",{onClick:()=>x(!d),className:"text-figma-neutral-light text-xs font-bolder flex flex-row items-center gap-x-1 justify-end",children:["24hr Volume ",e.jsx(xi,{className:k(d&&"rotate-180")})]})]}),E.length===0?e.jsxs("div",{className:"h-60 bg-figma-dark flex flex-col gap-2 items-center justify-center",children:[e.jsx(ka,{}),e.jsx("span",{className:"text-figma-neutral text-sm",children:"No results"})]}):E.map((L,O)=>{const W=n(L.denom);return W?e.jsxs(ki,{tabIndex:0,id:L.id,"data-testid":`market-dropdown-item-${O}`,className:"bg-figma-dark text-neutral-800 cursor-pointer px-4 w-full grid grid-cols-3 items-center gap-2 hover:bg-figma-neutral-dark transition-colors last:rounded-b-lg h-14",to:(a==null?void 0:a.id)===L.id?"":re.trade(L.id.toLowerCase()),"aria-label":L.displayName,onClick:()=>j(!1),children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative flex justify-center items-center",children:[e.jsx(ue,{coin:L.denom,displayName:L.denom,className:"w-5 h-5 mr-2"}),e.jsxs("div",{className:"flex-col text-xs",children:[e.jsx("p",{children:L.displayName}),e.jsx("p",{className:"text-figma-neutral",children:W.displayName})]})]})}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{children:e.jsxs("span",{className:"text-xs tabular-nums",children:[ps(L.midMarketPrice??L.lastTradedPrice,L.pricePrecision)," ",L.quoteDenom]})}),L.percentageChange24h!==0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:`${v(L.percentageChange24h)} text-xs`,children:[L.percentageChange24h>0&&e.jsx(Gc,{}),L.percentageChange24h<0&&e.jsx(Zc,{})]}),e.jsx("p",{className:`${v(L.percentageChange24h)} tabular-nums text-xs`,children:`(${Oe(L.percentageChange24h)})`})]})]}),e.jsxs("div",{className:"text-xs tabular-nums text-right",children:[ps(L.volume24h,L.pricePrecision)," ",L.quoteDenom]})]},`${L.id}_${O}`):null})]})]})})]})})})]})]})},d8=t=>{const{currentMarket:s,markets:a,marketData:n}=t,r=(s==null?void 0:s.pricePrecision)??2,{isDarkMode:i}=Q1(),l=(s==null?void 0:s.percentageChange24h)??0;let o=i?"text-white":"text-neutral-800";l>0?o="text-s-400":l<0&&(o="text-negative-300");const u=(n==null?void 0:n.lastTradedPrice)??(s==null?void 0:s.lastTradedPrice),d=(n==null?void 0:n.midMarketPrice)??(s==null?void 0:s.midMarketPrice),x=I(d??u).toNumber(),m=I((n==null?void 0:n.percentageChange24h)??(s==null?void 0:s.percentageChange24h)).mul(100).toNumber(),f=I((n==null?void 0:n.indexPrice)??(s==null?void 0:s.indexPrice)).toNumber(),p=I((n==null?void 0:n.high24h)??(s==null?void 0:s.high24h)).toNumber(),g=I((n==null?void 0:n.low24h)??(s==null?void 0:s.low24h)).toNumber(),h=I((n==null?void 0:n.volume24h)??(s==null?void 0:s.volume24h)).toNumber();return e.jsxs("div",{className:"grid grid-cols-2 lg:flex px-3 py-2.5 lg:justify-start lg:items-center gap-x-4 gap-y-2 text-neutral-500 h-full text-xs tabular-nums font-semibold overflow-x-auto scrollbar-none",children:[e.jsx(c8,{markets:a,currentMarket:s}),e.jsxs("div",{className:"flex justify-start items-center flex-nowrap text-nowrap	gap-2",children:[e.jsx("p",{className:"text-neutral-400",children:"Exchange Price"}),e.jsx("p",{children:s?e.jsx(V,{value:x,decimalPlaces:r,currencySymbol:s.quoteDenom}):"-"}),l!==0&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:`${o}`,children:[l>0&&e.jsx(bi,{}),l<0&&e.jsx(yi,{})]}),e.jsxs("p",{className:`${o}`,children:["(",Xa(m),")"]})]})]}),(s==null?void 0:s.denom)!=="HASH"&&e.jsxs("div",{className:"flex justify-start items-center flex-nowrap text-nowrap gap-2",children:[e.jsx("p",{className:"text-neutral-400 ",children:"Index Price"}),e.jsx("p",{className:"",children:s?e.jsx(V,{value:f,decimalPlaces:r,currencySymbol:s.quoteDenom}):"-"})]}),e.jsxs("div",{className:"flex justify-start items-center flex-nowrap text-nowrap gap-2",children:[e.jsx("p",{className:"text-neutral-400 ",children:"24h High"}),e.jsx("p",{className:"",children:s?e.jsx(V,{value:p,decimalPlaces:r,currencySymbol:s.quoteDenom}):"-"})]}),e.jsxs("div",{className:"flex justify-start items-center flex-nowrap text-nowrap gap-2",children:[e.jsx("p",{className:"text-neutral-400 ",children:"24h Low"}),e.jsx("p",{className:"",children:s?e.jsx(V,{value:g,decimalPlaces:r,currencySymbol:s.quoteDenom}):"-"})]}),e.jsxs("div",{className:"flex justify-start items-center flex-nowrap text-nowrap gap-2",children:[e.jsx("p",{className:"text-neutral-400",children:"24h Volume"}),e.jsx("p",{className:"",children:s?e.jsx(V,{value:h,currencySymbol:s.quoteDenom}):"-"})]})]})},u8=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12",fill:"none",...t},c.createElement("path",{d:"M2.3999 4.80005L5.9999 7.80005L9.5999 4.80005",stroke:"#DDDDDD",strokeWidth:1.5})),m8=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:13,viewBox:"0 0 12 13",fill:"none",...t},c.createElement("g",{clipPath:"url(#clip0_12879_18922)"},c.createElement("path",{d:"M6.00002 13.0958V-0.480608",stroke:"white",strokeWidth:1.5}),c.createElement("path",{d:"M12.7882 6.30763H-0.788225",stroke:"white",strokeWidth:1.5})),c.createElement("defs",null,c.createElement("clipPath",{id:"clip0_12879_18922"},c.createElement("rect",{width:12,height:12,fill:"white",transform:"translate(0 0.307617)"})))),x8=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:13,viewBox:"0 0 12 13",fill:"none",...t},c.createElement("g",{clipPath:"url(#clip0_12879_18912)"},c.createElement("path",{d:"M12.7882 6.30763H-0.788225",stroke:"white",strokeWidth:1.5})),c.createElement("defs",null,c.createElement("clipPath",{id:"clip0_12879_18912"},c.createElement("rect",{width:12,height:12,fill:"white",transform:"translate(0 0.307617)"})))),h8=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:13,viewBox:"0 0 12 13",fill:"none",...t},c.createElement("g",{clipPath:"url(#clip0_12879_19033)"},c.createElement("path",{d:"M1.19995 11.1076L10.8 1.50757",stroke:"#F7343B",strokeWidth:1.5}),c.createElement("path",{d:"M10.8 11.1076L1.20005 1.50757",stroke:"#F7343B",strokeWidth:1.5})),c.createElement("defs",null,c.createElement("clipPath",{id:"clip0_12879_19033"},c.createElement("rect",{width:12,height:12,fill:"white",transform:"translate(0 0.307617)"})))),f8=({fullValue:t,truncatedValue:s,openOnPress:a=!0,placement:n="top",className:r,...i})=>{const[l,o]=c.useState(!1);return e.jsxs(Ei,{delay:0,closeDelay:0,isOpen:l,onOpenChange:o,children:[e.jsx(Y,{onPress:a?()=>o(!l):void 0,className:r,children:s}),e.jsx(Si,{placement:n,className:"shadow-close rounded-[10px] border-neutral-100 border-[1px] bg-dark text-neutral-500 py-2 px-2",...i,children:e.jsx("div",{className:"flex flex-col gap-y-2",children:e.jsx("p",{className:"text-xs tabular-nums",children:t})})})]})},ja=({value:t,wholePrecision:s,decimalPrecision:a,className:n})=>{var o,u;const r=t==null?void 0:t.split(".");if(t==="-"||!t.length)return e.jsx("span",{className:n,children:t});if(r.length===1)return e.jsx("span",{className:n,children:t});const i=t.replaceAll(",",""),l=r.length>0?ps(r[0],0)+"."+r[1]:ps(t,0);if(i.length>s+a-1&&(((o=r[0].replaceAll(",",""))==null?void 0:o.length)>s||((u=r[1])==null?void 0:u.length)>a)){const d=r[0].length>s?ps(r[0].substring(0,9),0)+"...":ps(r[0],0)+"."+r[1].substring(0,1)+"...";return e.jsx(f8,{className:n,truncatedValue:d,fullValue:l})}else return e.jsx("span",{className:n,children:l})},Xl=({myOrders:t,cancelOrder:s,isAuthenticated:a})=>{const n=(t==null?void 0:t.filter(r=>["NEW","PENDING_NEW","PARTIALLY_FILLED"].includes(r.state)))||[];return n.length===0||!a?e.jsx("span",{className:"w-[34px] hidden sm:block"}):e.jsxs("button",{onClick:()=>s(n),className:"group pl-1 w-[34px] hidden sm:block",children:[e.jsx(h8,{className:"ml-0.5 group-hover:block hidden h-[16px] w-[16px]"}),e.jsx(qt,{variant:n[0].state,className:"block group-hover:hidden"})]})},p8=({tickSizes:t,selectedSize:s,onSelect:a})=>{const[n,r]=c.useState(!1),i=c.useRef(null);return e.jsxs(Ws,{children:[e.jsx("div",{className:"",children:e.jsxs(Y,{className:"flex justify-between font-bold items-center bg-neutral-100 hover:bg-p-500 outline-none outline-offset-0 px-2.5 py-1 rounded h-6 w-[82px] hover:cursor-pointer tabular-nums",ref:i,onPress:()=>r(!0),children:[s,e.jsx(u8,{className:`w-3 h-3 ${n&&"rotate-180"} transition ease-in-out duration-500`})]})}),e.jsx(xa,{isOpen:n,triggerRef:i,onOpenChange:r,offset:0,crossOffset:0,className:"entering:animate-in entering:fade-in exiting:animate-out exiting:fade-out",isNonModal:!0,children:e.jsx(is,{className:"outline-none outline-offset-0 rounded",children:e.jsx("div",{className:"rounded-sm w-[82px] drop-shadow-2xl",children:t.map(l=>e.jsxs(Y,{id:String(l),className:"bg-neutral-100 outline-none text-neutral-800 text-xs font-bold tabular-nums cursor-pointer px-2.5 py-1 w-full flex justify-between items-center hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white last:rounded-b","aria-label":l,onPress:()=>{a(l),r(!1)},children:[l,s===l&&e.jsx(Bs,{})]},l))})})})]})},J1=({orderBookData:t,setPrice:s,setQuantity:a,currentMarket:n,onCancelOrder:r,tickSize:i,onTickSizeChange:l})=>{var D,M,B,_;const{isAuthenticatedWithCookie:o}=ee(),[u,d]=c.useState([]),[x,m]=c.useState(!1),[f,p]=c.useState(window.innerWidth),{asks:g,bids:h}=t??{asks:[],bids:[]};let b="",j="";const y=(D=g[0])==null?void 0:D.price,C=(M=h[0])==null?void 0:M.price,w=g.reduce((F,U)=>F.plus(U.quantity),I(0)),N=h.reduce((F,U)=>F.plus(U.quantity),I(0)),v=gr((B=g[0])==null?void 0:B.price,(_=h[0])==null?void 0:_.price);c.useEffect(()=>{const F=()=>{const U=window.innerWidth;p(U)};return window.addEventListener("resize",F),window.addEventListener("load",F),()=>{window.removeEventListener("resize",F),window.removeEventListener("load",F)}},[]);const A=f>1920,E=(n==null?void 0:n.percentageChange24h)??0;let P="text-white";E>0?P="text-s-400":E<0&&(P="text-negative-300"),y&&C&&v&&n&&(b=I(y).minus(I(C)).toString(),j=I(b).div(I(v)).toString());const L=(F,U)=>I(F).mul(U).toString(),O=n?[n.priceIncrement,L(n.priceIncrement,10),L(n.priceIncrement,100),...n.denom==="ETH"||n.denom==="BTC"?[L(n.priceIncrement,1e3)]:[],...n.denom==="BTC"?[L(n.priceIncrement,1e4)]:[]]:[],W=F=>{d(F),m(!0)},$=(F,U)=>{m(!1),d([]),F.forEach(async z=>await r(z,U))},R=F=>{const U=O.length,z=i?O.findIndex(se=>se===i):0;F&&z<U-1?l(O[z+1]):!F&&z>-1&&l(O[z-1])};return g.length===0&&h.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sticky top-0 z-50 overflow-auto",children:[e.jsx("div",{className:"flex border-b-[1px] border-b-neutral-200 bg-neutral-white text-xs font-bold justify-center items-center px-[12px] py-[7px] h-[36px]",children:"Order Book"}),e.jsxs("div",{className:"border-b-[1px] border-b-neutral-200 bg-neutral-white text-xs flex items-center justify-center px-[12px] py-[7px] min-h-[40px] max-h-[60px]",children:[e.jsx("div",{className:"flex items-center justify-end mr-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`${P}`,children:[E>0&&e.jsx(bi,{}),E<0&&e.jsx(yi,{})]}),e.jsx("p",{className:`${P} tabular-nums`,children:"-"})]})}),e.jsx(ui,{vertical:!0,className:"border-neutral-100 h-[8px] mx-2"}),e.jsxs("div",{className:"flex items-center justify-start ml-2",children:[e.jsx("span",{className:"text-neutral-300 font-medium",children:"Bid/Ask Spread: "}),e.jsx("span",{className:"pl-1 tabular-nums",children:"-"})]})]}),e.jsxs("div",{className:"flex border-b-neutral-200 border-b-[1px]",children:[e.jsx("span",{className:"w-[34px] hidden sm:block"}),e.jsxs("div",{className:k("flex min-w-0 w-full text-neutral-800 py-2 bg-neutral-white [&>*]:w-1/4 gap-1 ultra:[&>*]:w-1/6"),children:[e.jsx("span",{className:"text-xs pl-6 hidden ultra:flex items-center justify-end",children:"Total"}),e.jsxs("span",{className:"text-xs flex items-center justify-end flex-wrap",children:["Bid Size",e.jsx(Z,{size:"xxs",className:"ml-1 hidden sm:block",variant:"coin",children:n==null?void 0:n.denom})]}),e.jsxs("span",{className:"text-xs flex items-center justify-end pr-1.5 ultra:pr-2 flex-wrap",children:["Bid Price"," ",e.jsx(Z,{size:"xxs",className:"ml-1 hidden sm:block",variant:"coin",children:n==null?void 0:n.quoteDenom})]}),e.jsxs("span",{className:"text-xs flex items-center justify-start pl-0.5 ultra:pl-1 flex-wrap-reverse",children:[e.jsx(Z,{size:"xxs",className:"mr-1 hidden sm:block",variant:"coin",children:n==null?void 0:n.quoteDenom}),"Ask Price"," "]}),e.jsxs("span",{className:"text-xs flex items-center justify-start flex-wrap-reverse",children:[e.jsx(Z,{size:"xxs",className:"mr-1 hidden sm:block",variant:"coin",children:n==null?void 0:n.denom}),"Ask Size"," "]}),e.jsx("span",{className:"text-xs pr-6 hidden ultra:flex items-center justify-start",children:"Total"})]}),e.jsx("span",{className:"w-[34px] hidden sm:block"})]})]}),e.jsx("div",{className:"text-center pt-3 pb-3",children:e.jsx("span",{className:"text-xs",children:"There are currently no orders"})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sticky top-0 z-50 overflow-auto",children:[e.jsx("div",{className:"flex border-b-[1px] border-b-neutral-200 bg-neutral-white text-xs font-bold justify-center items-center px-[12px] py-[7px] h-[36px]",children:"Order Book"}),e.jsxs("div",{className:"border-b-[1px] border-b-neutral-200 bg-neutral-white text-xs flex items-center gap-y-2 px-[12px] py-[7px] min-h-[40px] max-h-[60px]",children:[e.jsxs("div",{className:"flex items-center justify-between basis-1/2 gap-x-2 ",children:[i&&e.jsxs("div",{className:"items-center gap-1 flex",children:[e.jsx("div",{className:"hidden ultra:block",children:e.jsx(T.IncrementSizeOrder,{onPress:()=>R(!1),children:e.jsx(x8,{})})}),e.jsx(p8,{tickSizes:O,selectedSize:i,onSelect:l}),e.jsx("div",{className:"hidden ultra:block",children:e.jsx(T.IncrementSizeOrder,{onPress:()=>R(!0),children:e.jsx(m8,{})})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`${P}`,children:[E>0&&e.jsx(bi,{}),E<0&&e.jsx(yi,{})]}),e.jsx("p",{className:`${P} tabular-nums`,children:v?he(v,n==null?void 0:n.pricePrecision):"-"})]})]}),e.jsx(ui,{vertical:!0,className:"border-neutral-100 h-[8px] mx-2"}),e.jsxs("div",{className:"flex flex-col items-start xl:flex-row xl:items-center justify-start basis-1/2",children:[e.jsx("span",{className:"text-neutral-300 font-medium",children:"Bid/Ask Spread: "}),e.jsxs("span",{children:[e.jsx("span",{className:"pl-1 tabular-nums",children:b!==""?he(b,n==null?void 0:n.pricePrecision,!0):"-"}),j!==""&&e.jsx("span",{className:"pl-1 tabular-nums",children:`(${Oe(j,2)})`})]})]})]}),e.jsxs("div",{className:"flex border-b-neutral-200 border-b-[1px] py-2 bg-neutral-white",children:[e.jsx("span",{className:"w-[34px] hidden sm:block"}),e.jsxs("div",{className:k("flex min-w-0 w-full text-neutral-800 [&>*]:w-1/4 gap-1 ultra:[&>*]:w-1/6"),children:[e.jsx("span",{className:"text-xs hidden ultra:flex items-center justify-end",children:"Total"}),e.jsxs("span",{className:"text-xs flex items-center justify-end flex-wrap",children:["Bid Size",e.jsx(Z,{size:"xxs",className:"ml-1 hidden sm:block",variant:"coin",children:n==null?void 0:n.denom})]}),e.jsxs("span",{className:"text-xs flex items-center justify-end pr-1.5 ultra:pr-2 flex-wrap",children:["Bid Price"," ",e.jsx(Z,{size:"xxs",className:"ml-1 hidden sm:block",variant:"coin",children:n==null?void 0:n.quoteDenom})]}),e.jsxs("span",{className:"text-xs flex items-center justify-start pl-0.5 ultra:pl-1 flex-wrap-reverse",children:[e.jsx(Z,{size:"xxs",className:"mr-1 hidden sm:block",variant:"coin",children:n==null?void 0:n.quoteDenom}),"Ask Price"," "]}),e.jsxs("span",{className:"text-xs flex items-center justify-start flex-wrap-reverse",children:[e.jsx(Z,{size:"xxs",className:"mr-1 hidden sm:block",variant:"coin",children:n==null?void 0:n.denom}),"Ask Size"," "]}),e.jsx("span",{className:"text-xs hidden ultra:flex items-center justify-start",children:"Total"})]}),e.jsx("span",{className:"w-[34px] hidden sm:block"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"w-full grid grid-cols-2",children:[e.jsx("div",{className:"overflow-auto",children:h.filter((F,U)=>A?U<22:U<13).map(F=>e.jsx("div",{className:"relative z-0 pb-0 lg:pb-[2px]",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"absolute h-full w-0 bg-s-150 z-0 top-0 right-0"}),e.jsx(Xl,{isAuthenticated:o,myOrders:F.myOrders??[],cancelOrder:W}),e.jsxs("div",{className:"w-full h-5 flex relative z-20 group justify-center items-center tabular-nums hover:bg-neutral-100 [&>*]:w-1/2 gap-3 pl-1.5 ultra:[&>*]:w-1/3 ultra:gap-1",children:[e.jsx("button",{className:"hidden ultra:flex w-full h-5 justify-end items-center group-hover:bg-transparent cursor-pointer",onClick:()=>{a(Number(F.total))},children:e.jsx(ja,{value:F.total,wholePrecision:5,decimalPrecision:3,className:"text-xs text-right tabular-nums"})}),e.jsx("button",{className:"w-full h-5 flex justify-end items-center group-hover:bg-transparent cursor-pointer",onClick:()=>{a(Number(F.quantity))},children:e.jsx(ja,{value:F.quantity,wholePrecision:6,decimalPrecision:4,className:"text-xs text-right tabular-nums pr-0.5"})}),e.jsx("button",{className:"w-full h-5 flex justify-end items-center group-hover:bg-transparent cursor-pointer",onClick:()=>{s(Number(F.price))},children:e.jsx(ja,{value:F.price,wholePrecision:6,decimalPrecision:3,className:"text-xs text-s-400 text-right tabular-nums pr-2"})})]}),e.jsx("div",{className:"absolute h-5 w-8 bg-s-600 z-10 top-0 right-0 mix-blend-multiply",style:{width:`calc(${I(F.quantity).div(N).times(100)}% - 34px)`}})]})},`bid-${F.price}`))}),e.jsx("div",{className:"overflow-auto","data-testid":"order-book-list",children:g.filter((F,U)=>A?U<22:U<13).map(F=>e.jsx("div",{className:"relative z-0 pb-0 lg:pb-[2px]",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"absolute h-full w-0 bg-negative-100 z-0"}),e.jsx("div",{className:"absolute h-5 bg-negative-500 z-10 mix-blend-multiply",style:{width:`calc(${I(F.quantity).div(w).times(100)}% - 34px)`}}),e.jsxs("div",{className:"w-full h-5 flex relative z-20 group justify-center items-center tabular-nums hover:bg-neutral-100 [&>*]:w-1/2 gap-3 pl-1.5 ultra:[&>*]:w-1/3 ultra:gap-1",children:[e.jsx("button",{className:"w-full h-5 flex justify-start items-center group-hover:bg-transparent cursor-pointer",onClick:()=>{s(Number(F.price))},children:e.jsx(ja,{value:F.price,wholePrecision:6,decimalPrecision:3,className:"text-xs text-negative-100 text-left tabular-nums"})}),e.jsx("button",{className:"w-full h-5 flex justify-start items-center group-hover:bg-transparent cursor-pointer",onClick:()=>{a(Number(F.quantity))},children:e.jsx(ja,{value:F.quantity,wholePrecision:6,decimalPrecision:4,className:"text-xs text-left tabular-nums pl-0.5"})}),e.jsx("button",{className:"w-full h-5 hidden ultra:flex justify-start items-center group-hover:bg-transparent cursor-pointer",onClick:()=>{a(Number(F.total))},children:e.jsx(ja,{value:F.total,wholePrecision:5,decimalPrecision:3,className:"text-xs text-left tabular-nums"})})]}),e.jsx(Xl,{myOrders:F.myOrders??[],cancelOrder:W,isAuthenticated:o})]})},`ask-${F.price}`))})]})}),e.jsx(vr,{isOpen:x,onClose:()=>m(!1),orderDetails:u,onCancelOrder:$,currentMarket:n})]})};function eo(t,s){return s==="TOKEN"}function Yn(t){return t[0]===void 0}const Fn=100,g8=(t,s)=>{var a;if(Yn(t.tokens))return{filters:t.filters,token:(a=t.tokens)==null?void 0:a[t.currentIndex],size:Fn,pageSize:Fn};if(!Yn(t.tokens))return{filters:t.filters,pageNumber:t.currentIndex,size:Fn,pageSize:Fn};throw new Error(`Unrecognized mode ${s} and tokens ${t.tokens}`)},j8=t=>t.currentIndex-1===t.observedTotalPages,b8=(t="TOKEN",s=0)=>{const a={tokens:t==="TOKEN"?[void 0]:[0],currentIndex:s,filters:void 0,observedTotalPages:0,observedTotalCount:0,totalCount:0,observedData:[]},[n,r]=c.useState(a),i=o=>{var u,d;if(eo(o,t)&&Yn(n.tokens)){const x=!n.tokens.includes(o.nextPageToken),m=!o.nextPageToken;(x||m)&&r({...n,observedData:o.data||[],observedTotalPages:++n.observedTotalPages,observedTotalCount:n.observedTotalCount+(((u=o.data)==null?void 0:u.length)||0),totalCount:o.totalCount??0,tokens:m?n.tokens:[...n.tokens,o.nextPageToken]})}else if(!eo(o,t)&&!Yn(n.tokens))o.pagination&&r({...n,observedData:o.data||[],observedTotalPages:o.pagination.totalPages,observedTotalCount:n.observedTotalCount+(((d=o.data)==null?void 0:d.length)||0),totalCount:o.pagination.totalCount,tokens:[...n.tokens,o.pagination.page]});else throw Error(`Using PaginationMode ${t} and received incorrect response ${JSON.stringify(o)}`)},l=n.currentIndex===0;return{handleApiResponse:i,operationArguments:g8(n,t),onFiltersChange:o=>r({...n,tokens:t==="TOKEN"?[void 0]:[0],currentIndex:0,filters:o}),resetInternal:()=>r(a),paginationUx:{...n,mode:t,isPreviousDisabled:l,isNextDisabled:j8(n),totalPages:n.observedTotalPages,currentPage:n.currentIndex,tokens:n.tokens,onPageChange:o=>r({...n,currentIndex:n.currentIndex+o}),setPage:o=>r({...n,currentIndex:o})}}},cl=t=>{var p;const{walletAddress:s,isAuthenticatedWithCookie:a}=ee(),{fsmStepResponse:n,getFsmCurrentStep:r}=Le(),i=ae(Y1),l=ae(a8.selectAll).filter(g=>t.marketId?g.marketId===t.marketId:t.baseAsset?g.denom===t.baseAsset:!0),o=X(),u=!a||!t.marketId&&!t.baseAsset,d=Fu({query:{...t,token:i.shouldFetchMore?i.nextToken:void 0}},{skip:u}),x=c.useCallback(()=>{o(nn.fetchMore())},[o]),m=c.useCallback(async g=>{var h;o(nn.handleOrderUpdate(g.data)),((h=n==null?void 0:n.currentStep)==null?void 0:h.currentStep)==="ORDERS"&&r()},[o,n,r]),f=c.useMemo(()=>l==null?void 0:l.filter(g=>g.state==="NEW"||g.state==="PENDING_NEW"||g.state==="PARTIALLY_FILLED"),[l]);return c.useEffect(()=>s?(oe.shared.subscribeToOrderUpdates(m),()=>{oe.shared.unsubscribeFromOrderUpdates(m)}):()=>{}),{orders:l,openOrders:f,isFetching:d.isFetching,isLoading:d.isLoading,fetchMore:x,totalCount:i.totalCountByMarketId[t.marketId??""]??0,hasMoreData:!!((p=d.data)!=null&&p.nextPageToken)}},Ln=t=>c.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("g",{clipPath:"url(#clip0_5816_55268)"},c.createElement("path",{d:"M1.2002 10.8002L10.8002 1.2002",stroke:"#F7343B",strokeWidth:1.5}),c.createElement("path",{d:"M10.7998 10.8002L1.1998 1.2002",stroke:"#F7343B",strokeWidth:1.5})),c.createElement("defs",null,c.createElement("clipPath",{id:"clip0_5816_55268"},c.createElement("rect",{width:12,height:12,fill:"white"})))),y8=({currentMarket:t,isCanceling:s,onCancelOrder:a,onCancelAllOrders:n})=>{var h,b;const{isAuthenticatedWithCookie:r}=ee(),[i,l]=c.useState(!1),[o,u]=c.useState(!1),[d,x]=c.useState(),m=cl({marketId:t==null?void 0:t.id}),f=c.useRef(null),p=m.orders,g=m.totalCount;return c.useEffect(()=>{if(!f.current)return()=>{};const j=C=>{C.some(w=>w.isIntersecting)&&m.hasMoreData&&!m.isFetching&&m.fetchMore()},y=new IntersectionObserver(j);return y.observe(f.current),()=>{y.disconnect()}},[m,f]),e.jsxs(e.Fragment,{children:[!r&&e.jsxs("div",{className:"flex justify-center items-center flex-col h-full",children:[e.jsx("span",{className:"font-bold text-sm mb-3",children:"Connect your wallet to see your orders"}),e.jsx(Ns,{})]}),r&&g===0&&!m.isFetching&&e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("span",{className:"text-sm font-bold",children:"There are no orders"})}),r&&g>0&&e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full","aria-label":"Orders",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-neutral-200 border-solid border-b-[1px]",children:[e.jsx("th",{className:"text-xs font-bold !text-left py-2 px-6",children:"Created"}),e.jsx("th",{className:"text-xs font-bold !text-left py-2 px-6",children:"Status"}),e.jsx("th",{className:"text-xs font-bold !text-left py-2 px-6",children:"Side"}),e.jsxs("th",{className:"text-xs font-bold !text-right py-2 px-6 text-nowrap",children:["Amount / Filled (",t.denom,")"]}),e.jsx("th",{className:"text-xs font-bold !text-right py-2 px-6",children:"Price"}),e.jsx("th",{className:"text-xs font-bold !text-right py-2 px-6 text-nowrap",children:"Stop Price"}),e.jsx("th",{className:"text-xs font-bold !text-left py-2 px-6",children:"GoodTil"}),e.jsx("th",{className:"text-nowrap  px-6",children:p&&((h=p==null?void 0:p.filter(j=>["NEW","PARTIALLY_FILLED"].includes(j.state)))==null?void 0:h.length)>0&&e.jsx(Y,{className:"font-bold text-xs text-negative-300 max-sm:hidden justify-self-end outline-none",onPress:()=>u(!0),isDisabled:s,children:"Cancel All"})})]})}),e.jsx("tbody",{children:p==null?void 0:p.map((j,y)=>e.jsxs("tr",{className:"border-b-neutral-200 border-b-[1px] last:border-b-0 text-xs tabular-nums",ref:y===m.orders.length-1?f:void 0,children:[e.jsx("td",{className:"px-6 py-2 text-left",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"font-semibold text-neutral-500 text-nowrap",children:new Date(j.created).toLocaleTimeString("en-US")}),j.orderType==="MARKET"&&Number(j.remainingQuantity)>0&&e.jsx(Me,{placement:"top",description:"We've changed this order from a market to limit order to protect you from price slippage beyond 1% of your order price"})]}),e.jsx("span",{className:"font-semibold text-neutral-400",children:new Date(j.created).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]})}),e.jsx("td",{className:"px-6 py-2 text-left",children:e.jsx(qt,{variant:j.state,orderType:j.orderType})}),e.jsx("td",{className:"px-6 py-2 text-left",children:Ca(j)?e.jsx(Z,{className:"w-[40px]",variant:"negative",size:"xs",children:"Sell"}):e.jsx(Z,{className:"w-[40px]",variant:"positive",size:"xs",children:"Buy"})}),e.jsxs("td",{className:"px-6 py-2 text-right font-semibold",children:[e.jsx("p",{className:"text-neutral-800 font-bold",children:j.quantity}),e.jsx("p",{className:"text-neutral-400",children:j.filledQuantity})]}),e.jsx("td",{className:"px-6 py-2 text-right font-semibold text-nowrap",children:e.jsx(V,{value:j.price,currencySymbol:t.quoteDenom,decimalPlaces:t.pricePrecision})}),e.jsx("td",{className:"px-6 py-2 text-right font-semibold text-nowrap",children:e.jsx(V,{value:j.stopPrice,currencySymbol:t.quoteDenom,decimalPlaces:t.pricePrecision})}),e.jsx("td",{className:"px-6 py-2 text-left font-semibold",children:e.jsx("div",{className:"flex flex-col",children:j!=null&&j.expiration?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold text-neutral-500 text-nowrap",children:new Date(j==null?void 0:j.expiration).toLocaleTimeString("en-US")}),e.jsx("span",{className:"font-semibold text-neutral-400 text-nowrap",children:new Date(j==null?void 0:j.expiration).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}):"-"})}),e.jsx("td",{className:"px-6 py-2 text-right pr-6",children:["NEW","PARTIALLY_FILLED"].includes(j.state)&&e.jsx(Y,{className:"outline-none",onPress:()=>{x(j),l(!0)},isDisabled:s,children:e.jsx(Ln,{})})})]},j.orderId))})]})}),e.jsx(vr,{isOpen:i,onClose:()=>l(!1),currentMarket:t,orderDetails:[{orderId:String(d==null?void 0:d.orderId),price:String(d==null?void 0:d.price),quantity:String(d==null?void 0:d.quantity),remainingQuantity:String(d==null?void 0:d.remainingQuantity),state:d==null?void 0:d.state}],onCancelOrder:()=>a(String(d==null?void 0:d.orderId),String(d==null?void 0:d.symbol))}),e.jsx(wr,{isOpen:o,onClose:()=>u(!1),cancelOrderCount:Number((b=p==null?void 0:p.filter(j=>["NEW","PARTIALLY_FILLED"].includes(j.state)))==null?void 0:b.length),onCancelAllOrders:()=>{var j;return n(Number((j=p==null?void 0:p.filter(y=>["NEW","PARTIALLY_FILLED"].includes(y.state)))==null?void 0:j.length))}})]})};gs.extend(jo);gs.extend(Qd);gs.extend(Jd);gs.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%dm",h:"an hour",hh:"%dh",d:"a day",dd:"%dd",M:"a month",MM:"%dmo",y:"a year",yy:"%dy"}});const C8=({totalFills:t,isFetching:s,currentMarket:a,fills:n,fillsPagination:r})=>{const{isAuthenticatedWithCookie:i}=ee();return e.jsxs(e.Fragment,{children:[!i&&e.jsxs("div",{className:"flex justify-center items-center h-full flex-col",children:[e.jsx("span",{className:"font-bold text-sm mb-3",children:"Connect your wallet to see your fills"}),e.jsx(Ns,{})]}),i&&t===0&&!s&&e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("span",{className:"font-bold text-sm",children:"There are no fills"})}),i&&t>0&&e.jsxs(e.Fragment,{children:[e.jsxs("table",{className:"w-full font-semibold","aria-label":"Fills",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-neutral-200 border-solid border-b-[1px]",children:[e.jsx("th",{className:"text-xs font-bold text-left py-2 px-6",children:"Time"}),e.jsx("th",{className:"text-xs font-bold text-left py-2 px-6",children:"Type"}),e.jsx("th",{className:"text-xs font-bold text-left py-2 px-6",children:"Side"}),e.jsxs("th",{className:"text-xs font-bold text-right py-2 px-6 text-nowrap",children:["Amount (",a.denom,")"]}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6",children:"Price"}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6 text-nowrap",children:"Total / Fee"})]})}),e.jsx("tbody",{children:n==null?void 0:n.map((l,o)=>e.jsxs("tr",{className:"border-b-neutral-200 border-b-[1px] last:border-b-0 text-xs tabular-nums",children:[e.jsx("td",{className:"py-2 px-6 text-nowrap",title:gs(l.created).format("LLLL"),children:gs(l.created).fromNow(!0)}),e.jsx("td",{className:"px-6 py-2 text-left",children:e.jsx(qt,{variant:l.state,orderType:l.type})}),e.jsx("td",{className:"py-2 px-6",children:Ca(l)?e.jsx(Z,{className:"w-[40px]",variant:"negative",size:"xs",children:"Sell"}):e.jsx(Z,{className:"w-[40px]",variant:"positive",size:"xs",children:"Buy"})}),e.jsx("td",{className:"py-2 px-6 text-right",children:l.quantity}),e.jsx("td",{className:"py-2 px-6 text-right text-nowrap",children:e.jsx(V,{value:l.price,currencySymbol:a.quoteDenom,decimalPlaces:a.pricePrecision})}),e.jsxs("td",{className:"py-2 px-6 flex flex-col text-right text-nowrap",children:[e.jsx(V,{value:Number(cc(l.quantity,l.price,Ca(l)?Number(l.askFee):Number(l.bidFee),Ca(l)?as.Sell:as.Buy)),decimalPlaces:a.pricePrecision,currencySymbol:a.quoteDenom}),e.jsx("span",{className:"text-neutral-400 font-semibold text-nowrap",children:e.jsx(V,{value:Ca(l)?l.askFee:l.bidFee,decimalPlaces:a.pricePrecision,currencySymbol:a.quoteDenom})})]})]},`${l.id}-${o}`))})]}),e.jsx(hi,{pagination:r,label:`${a.symbol} filled orders history`})]})]})},N8=({isAuthenticatedWithCookie:t,currentMarket:s,position:a,onClosePosition:n,quoteBalance:r})=>{const[i,{width:l=0}]=ur(),o=a?I(a.lastTradedPrice||0).mul(a.tradingPower):I(0);return e.jsx("div",{className:"flex justify-center items-center h-full p-2",ref:i,children:e.jsxs("div",{className:"flex flex-col md:flex-row md:flex-wrap justify-center items-center gap-x-10 gap-y-5 py-3",children:[e.jsx("div",{className:"min-w-60 max-w-96",children:e.jsx("div",{className:Ke("w-full px-4 py-[10px] border-solid rounded-md flex justify-between items-center gap-1",t&&a?"border-s-400 border-[1px]":"border-neutral-100 border-[1px]"),children:a&&t?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"px-3.5 py-1",variant:"positive",size:"sm",children:"Long"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs sm:text-sm text-right font-bold tabular-nums",children:[he(Ta(a.tradingPower||0,s.quantityPrecision),s.quantityPrecision,!0)," ",a.denom]}),e.jsxs("p",{className:"text-xxs sm:text-xs text-right font-semibold mt-1 tabular-nums",children:[he(Ta(o.toNumber()||0,s.pricePrecision),s.pricePrecision,!0)," ",s.quoteDenom]})]})]}):e.jsx(e.Fragment,{children:e.jsx(Z,{className:"px-3.5 py-1",variant:"neutral",size:"sm",children:"None"})})})}),e.jsx(ui,{vertical:!0,className:Ke("border-neutral-100 h-[100px]",l<770&&"hidden")}),e.jsxs("div",{className:"w-60 flex flex-col gap-1",children:[e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("p",{className:"text-xs",children:"Average Open"}),e.jsx("p",{className:"text-xs tabular-nums",children:e.jsx(V,{value:Number(a==null?void 0:a.averageOpen),decimalPlaces:s.pricePrecision,currencySymbol:s.quoteDenom})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-xs",children:"Average Close"}),e.jsx("p",{className:"text-xs tabular-nums",children:e.jsx(V,{value:Number(a==null?void 0:a.averageClose),decimalPlaces:s.pricePrecision,currencySymbol:s.quoteDenom})})]}),e.jsxs("div",{className:"mt-3",children:[!t&&e.jsx(Ns,{className:"w-full"}),t&&a&&e.jsx(T.Alert,{className:"w-full",onPress:n,isDisabled:!r,children:"Close Position"})]})]})]})})},w8=t=>{if(!t)return"position";const s=t.substring(1);return Xo(s)?s:"position"},to=t=>{const{currentMarket:s,onCancelOrder:a,position:n,isCancelingOrder:r,onCancelAllOrders:i,isCancelingAllOrders:l,onClosePosition:o,quoteBalance:u}=t,{hash:d}=Cs(),{isAuthenticatedWithCookie:x,walletAddress:m}=ee(),[f,p]=c.useState(w8(d)),g=cl({marketId:s==null?void 0:s.id}),{operationArguments:h,paginationUx:b,handleApiResponse:j,resetInternal:y}=b8("TOKEN"),C=s3({query:{symbol:s==null?void 0:s.id,state:["NEW"],...h},queryOptions:{enabled:x&&!!(s!=null&&s.id),onSuccess:j},walletAddress:m}),w=c.useCallback(({latestTrade:E})=>{!C.isFetching&&E.isMine&&(y(),C.refetch())},[C,y]);c.useEffect(()=>m?(oe.shared.subscribeToTradeUpdates((s==null?void 0:s.id)??"",w),()=>{oe.shared.unsubscribeFromTradeUpdates((s==null?void 0:s.id)??"",w)}):()=>{},[m,s==null?void 0:s.id,w]),c.useEffect(()=>{x&&(y(),C.refetch())},[s==null?void 0:s.id,x]);const N=s!=null&&s.id?b.observedData:void 0,v=g.totalCount,A=b.totalCount;return e.jsx(e.Fragment,{children:e.jsxs(mr,{className:"flex flex-col w-full h-full",selectedKey:f,onSelectionChange:E=>{typeof E!="number"&&Xo(E)?p(E):p("position")},children:[e.jsxs(xr,{className:"flex border-b-[1px] border-figma-neutral-dark sticky top-0 bg-neutral-white","aria-label":"Orders and Fills",children:[e.jsx(Ms,{id:"position",className:"w-full sm:min-w-[120px] sm:w-fit",children:"Position"}),e.jsxs(Ms,{id:"orders",className:"w-full sm:min-w-[120px] sm:w-fit flex items-center justify-center",children:["Orders (",v,")",g.isFetching&&e.jsx("div",{className:"w-4 h-4 ml-2",children:e.jsx(ve,{})})]}),e.jsxs(Ms,{id:"fills",className:"w-full sm:min-w-[120px] sm:w-fit flex items-center justify-center",children:["Fills"," ",C.isFetching?e.jsx("div",{className:"w-4 h-4 ml-2",children:e.jsx(ve,{})}):A>0?`(${A})`:""]})]}),e.jsx(es,{id:"position",className:"w-full h-full overflow-auto flex items-center justify-center scrollbar-none",children:e.jsx(N8,{isAuthenticatedWithCookie:x,currentMarket:s,position:n,onClosePosition:o,quoteBalance:u})}),e.jsx(es,{id:"orders",className:"h-full overflow-auto scrollbar-thin",children:e.jsx(y8,{currentMarket:s,onCancelOrder:a,onCancelAllOrders:i,isCanceling:l||r})}),e.jsx(es,{id:"fills",className:"h-full overflow-auto scrollbar-thin",children:e.jsx(C8,{currentMarket:s,isFetching:C.isFetching,totalFills:A,fillsPagination:b,fills:N})})]})})},v8=t=>{try{return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(new Date(t))}catch{return"-"}},L8=t=>{try{return new Intl.DateTimeFormat("en-US",{year:"2-digit",month:"numeric",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(new Date(t))}catch{return"-"}},E8=({fullDate:t,date:s,openOnPress:a=!0,placement:n="top",className:r,...i})=>{const[l,o]=c.useState(!1);return e.jsxs(Ei,{delay:0,closeDelay:0,isOpen:l,onOpenChange:o,children:[e.jsx(Y,{onPress:a?()=>o(!l):void 0,className:r,children:s}),e.jsx(Si,{placement:n,className:"shadow-close rounded-[10px] border-neutral-100 border-[1px] bg-dark text-neutral-500 py-2 px-2",...i,children:e.jsx("div",{className:"flex flex-col gap-y-2",children:e.jsx("p",{className:"text-xs tabular-nums",children:t})})})]})},S8=({currentMarket:t,trades:s})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sticky top-0 z-50",children:[e.jsx("div",{className:"flex border-y-[1px] border-y-neutral-200 bg-neutral-white text-xs font-bold justify-center px-[12px] py-[7px] h-[36px]",children:"Market Trades"}),e.jsxs("div",{className:"px-9 ultra:px-[80px] ultra:gap-x-20 gap-x-9 text-xxs sm:text-xs min-w-0 grid grid-cols-3 text-neutral-800 border-b-neutral-200 border-b-[1px] py-2 bg-neutral-white w-full",children:[e.jsxs("span",{className:"flex items-center justify-end",children:["Price",e.jsx(Z,{size:"xxs",className:"ml-1 hidden sm:block",variant:"coin",children:t==null?void 0:t.quoteDenom})]}),e.jsxs("span",{className:"flex items-center justify-center",children:["Size",e.jsx(Z,{size:"xxs",className:"ml-1 hidden sm:block",variant:"coin",children:t==null?void 0:t.denom})]}),e.jsx("span",{className:"flex items-center justify-start",children:"Time"})]})]}),e.jsxs("div",{"data-testid":"market-trades-list",children:[s.length===0&&e.jsx("div",{className:"text-center pt-3",children:e.jsx("span",{className:"text-xxs sm:text-xs",children:"There are currently no trades"})}),s.map((a,n)=>e.jsxs("div",{"data-testid":a.id,className:"w-full px-9 ultra:px-[80px] text-xxs sm:text-xs ultra:gap-x-20 gap-x-9 min-w-0 grid grid-cols-3 relative hover:bg-neutral-100 text-neutral-500 tabular-nums pb-[1px]",children:[e.jsx("span",{className:k("text-right ",n===s.length-1||Number(a.price)>=Number(s[n+1].price)?"text-s-400":"text-negative-300"),children:e.jsx(V,{value:a.price,decimalPlaces:(t==null?void 0:t.pricePrecision)??0,currencySymbol:""})}),e.jsx("span",{className:"text-center",children:ps(a.quantity,t==null?void 0:t.quantityPrecision)}),e.jsx("span",{className:"text-left",children:e.jsx(E8,{fullDate:L8(a.created),date:v8(a.created)})})]},`${a.id}_${a.created}_${n}`))]})]}),A8=t=>e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"h-1/2",children:e.jsx("div",{className:"h-full overflow-y-auto scrollbar-thin",children:e.jsx(J1,{orderBookData:t.orderBookData,setPrice:t.setPrice,setQuantity:t.setQuantity,currentMarket:t.currentMarket,onCancelOrder:t.onCancelOrder,onTickSizeChange:t.onTickSizeChange,tickSize:t==null?void 0:t.tickSize})})}),e.jsx("div",{className:"h-1/2",children:e.jsx("div",{className:"h-full overflow-y-auto scrollbar-thin",children:e.jsx(S8,{trades:t.trades,currentMarket:t.currentMarket,setPrice:t.setPrice,setQuantity:t.setQuantity})})})]}),D8=({isDisabled:t})=>{const{setSide:s,formData:a}=os(),n=async r=>{await s(r)};return e.jsxs(s6,{fullWidth:!0,children:[e.jsx(Fl,{onClick:()=>{n(as.Buy)},isActive:Fs(a.side),isDisabled:t,locked:!a.side,state:"BUY",children:"Buy"}),e.jsx(Fl,{onClick:()=>{n(as.Sell)},isActive:ra(a.side),isDisabled:t,locked:!a.side,state:"SELL",children:"Sell"})]})},T8=()=>{const{setOrderType:t,formData:s,isLockedForm:a}=os(),n=async r=>{await t(r)};return e.jsx("div",{children:e.jsxs(wn,{fullWidth:!0,children:[e.jsx($t,{onClick:()=>{n(ot.Limit)},isActive:ic(s.orderType),isDisabled:a,className:"w-20",children:"Limit"}),e.jsx($t,{onClick:()=>{n(ot.Market)},isActive:It(s.orderType),isDisabled:a,className:"w-20",children:"Market"}),e.jsx($t,{onClick:()=>{n(ot.StopLimit)},isActive:gn(s.orderType),isDisabled:a,className:"w-20",children:"Stop Limit"})]})})},P8=({quoteDisplayName:t,errors:s,triggerErrors:a})=>{var g;const{formData:n,currentQuotes:r,setLimitPrice:i,setLimitPriceAsNumberInputType:l,isBidOrder:o,marketPrecision:u,isLockedForm:d}=os(),x=async h=>{const b=Us(h.target.value);await l(b)},m=async h=>{const b=jn(h.target.value);await i(b),a("limitPrice")},f=async h=>{const b=Us(h.target.value);await l(b)},p=async h=>{const b=(()=>{switch(h){case"MID":return r.mid;case"BEST":return xc(o,r);case"1":return vl(o,n.limitPrice,1);case"5":return vl(o,n.limitPrice,5);default:return Number(n.limitPrice)}})(),j=Jt(b,u.currencyPrecision);await i(j),a("limitPrice")};return e.jsx(Pe.LimitPrice,{name:"limitPrice",label:"Limit Price",value:n.limitPrice.display,errorMessage:(g=s.limitPrice)==null?void 0:g.message,precision:u.currencyPrecision,displayName:t,isDisabled:d,handlePriceBlur:m,handlePriceChange:f,handlePriceFocus:x,handleAdjustLimitPriceChange:p,isBid:o})},Hr=({selectedItem:t,dropdownOptions:s,onSelect:a,width:n,isDisabled:r})=>{var u;const[i,l]=c.useState(!1),o=c.useRef(null);return e.jsxs(Ws,{children:[e.jsx("div",{className:"gap-4",children:e.jsx(Y,{className:k("flex justify-between items-center bg-neutral-100 hover:bg-p-500 active:outline-none outline-none outline-offset-0 px-2.5 py-1 rounded w-full hover:cursor-pointer disabled:opacity-50",`min-${n}`),ref:o,onPress:()=>l(!0),isDisabled:r,children:e.jsxs("div",{className:"flex justify-between w-full items-center gap-2 text-xs font-bold",children:[e.jsx("span",{children:(u=s.find(d=>d.key===t))==null?void 0:u.value}),e.jsx(ds,{className:`shrink-0 w-3 h-3 ${i&&"rotate-180"} transition ease-in-out duration-500`})]})})}),e.jsx(xa,{isOpen:i,triggerRef:o,onOpenChange:l,offset:0,crossOffset:0,className:"entering:animate-in entering:fade-in exiting:animate-out exiting:fade-out",children:e.jsx(is,{className:"outline-none outline-offset-0 rounded ",children:e.jsx("div",{className:`rounded-sm w-full min-${n} drop-shadow-2xl`,children:s.map(({key:d,value:x})=>e.jsxs(Y,{id:String(d),className:"bg-neutral-100 outline-none text-neutral-800 text-xs font-bold cursor-pointer px-2.5 py-1 w-full flex justify-between items-center gap-2 hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white last:rounded-b","aria-label":x,onPress:()=>{a(d),l(!1)},children:[e.jsx("div",{className:"flex items-center gap-2",children:x}),t===d&&e.jsx(Bs,{})]},d))})})})]})},k8=()=>{const{formData:t,setTimeForce:s,setExecutionType:a,setExpiration:n,isLockedForm:r}=os();return e.jsxs("div",{className:"flex flex-col gap-2",children:[!It(t.orderType)&&e.jsxs("div",{className:"flex items-center justify-between gap-y-1 w-full",children:[e.jsx(Xt,{className:k("text-xs font-bold block text-neutral-500",r&&"opacity-50"),children:"Execution"}),e.jsx(Hr,{width:"w-32",isDisabled:r,dropdownOptions:[{key:vt.ALLOW_TAKER,value:"Allow Taker"},{key:vt.MAKER_ONLY,value:"Maker Only"}],selectedItem:t.executionType,onSelect:i=>a(i)})]}),e.jsxs("div",{className:"flex items-center justify-between w-full gap-y-1 gap-x-1",children:[e.jsx(Xt,{className:k("text-xs font-bold block text-neutral-500",r&&"opacity-50"),children:"Time in Force"}),e.jsx(Hr,{width:"w-36",isDisabled:r,dropdownOptions:[{key:Re.TIME_IN_FORCE_GOOD_TILL_CANCEL,value:"Good Til Canceled"},{key:Re.GOOD_TILL_TIME,value:"Good Til Time"},...t.executionType===vt.ALLOW_TAKER?[{key:Re.IMMEDIATE_OR_CANCEL,value:"Immediate or Cancel"},{key:Re.TIME_IN_FORCE_FILL_OR_KILL,value:"Fill Or Kill"}]:[]],selectedItem:t.timeForce,onSelect:i=>s(i)})]}),t.timeForce===Re.GOOD_TILL_TIME&&e.jsxs("div",{className:"flex items-center justify-between gap-y-1 w-full",children:[e.jsx(Xt,{className:k("text-xs font-bold block text-neutral-500",r&&"opacity-50"),children:"Cancel After"}),e.jsx(Hr,{width:"w-32",isDisabled:r,dropdownOptions:[{key:Ct.ONE_D,value:"One Day"},{key:Ct.ONE_W,value:"One Week"},{key:Ct.ONE_M,value:"One Month"}],selectedItem:t.expiration,onSelect:i=>n(i)})]})]})},I8=({quoteDisplayName:t,errors:s,triggerErrors:a})=>{var o,u,d;const{setStopPrice:n,formData:r,marketPrecision:i,isLockedForm:l}=os();return e.jsx(qs,{label:"Stop Price",isDisabled:l,isInvalid:!!((o=s.stopPrice)!=null&&o.message),errorMessage:(u=s.stopPrice)==null?void 0:u.message,contentAfter:t&&e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:t}),children:e.jsx(Nn,{onBlur:x=>{const m=jn(x.target.value);n({display:he(m,i.currencyPrecision),value:m}),a("stopPrice")},onChange:x=>{const m=Us(x.target.value);n(m)},onFocus:x=>{const m=Us(x.target.value);n(m)},value:(d=r.stopPrice)==null?void 0:d.display,precision:i.currencyPrecision,name:"stopPrice",isDisabled:l,inputId:"StopPriceInput"})})},O8=({displayName:t,positionBalance:s,isMarginEnabled:a,quoteDisplayName:n,errors:r,triggerErrors:i})=>{const{formData:l,isBidOrder:o,marketPrecision:u,setControlledAmountOnBlur:d,setControlledAmountOnFocus:x,setDualAmountFromCurrencyUpdate:m,setDualAmountFromQtyUpdate:f,isControlledAmountInputDenomType:p,setDualAmountFromQtyOnChange:g,setDualAmountFromCurrencyOnChange:h,setQtyAmountFormatted:b,setCurrencyAmountFormatted:j,setAmountType:y,isLockedForm:C}=os(),w=p,N=async _=>{w?g(_.target.value):h(_.target.value)},v=async _=>{const F=jn(_.target.value);await d(F),i("amountCurrency"),i("amountQty")},A=async _=>{await x(_.target.value)},E=async _=>{const F=wl(s.denomQuantity,_);await f(F),i("amountCurrency"),i("amountQty")},P=async _=>{const F=(()=>{switch(_){case 25:case 50:case 75:return t==="HASH"&&a?H5(s.quotePower,_):wl(s.quotePower,_);case 100:{const U=Xs(s.quotePower,l.limitPrice.value,u.denomPrecision,u.denomMinimum).value,z=Ts(U,l.limitPrice.value,u.currencyPrecision).value;return Math.min(s.quotePower,z)}default:return 0}})();await m(F),i("amountCurrency"),i("amountQty")},L=()=>{const _=l.amountQty.value<u.denomMinimum?u.denomMinimum:Jt(l.amountQty.value,u.denomPrecision),F=Ts(_,l.limitPrice.value,u.currencyPrecision,u.currencyMinimum).value;return{denomVal:_,currencyVal:F}},O=async()=>{const{denomVal:_,currencyVal:F}=L();b(_),j(F)},W=()=>{const{denomVal:_,currencyVal:F}=L();return`${he(_,u.denomPrecision)} ${t} (${he(F,u.currencyPrecision)} ${n})`},$=()=>{const _=Number(I(l.limitPrice.value).mul(2).mul(u.denomMinimum).toFixed(u.currencyPrecision));return{denomVal:Xs(_,l.limitPrice.value,u.denomPrecision,u.denomMinimum).value,currencyVal:_}},R=async()=>{const{denomVal:_,currencyVal:F}=$();b(_),j(F)},D=()=>{const{currencyVal:_}=$();return`${he(_,u.currencyPrecision)} ${n}`},M=(()=>{var _,F,U,z,se,Ee;return((_=r.amountCurrency)==null?void 0:_.type)==="market-order-min"?e.jsxs("div",{children:[e.jsxs("span",{children:[(F=r.amountCurrency)==null?void 0:F.message," ",D(),"."," "]}),e.jsx("span",{role:"button",tabIndex:0,className:"underline underline-offset-4 text-p-light",onKeyDown:R,onClick:R,children:"Increase your order size?"})," "]}):((U=r.amountQty)==null?void 0:U.type)==="wrong-precision"?e.jsxs("div",{children:[e.jsxs("span",{children:[(z=r.amountQty)==null?void 0:z.message,". "]}),e.jsxs("span",{role:"button",tabIndex:0,className:"underline underline-offset-4 text-p-light",onKeyDown:O,onClick:O,children:["Adjust your order to ",W(),"?"]})," "]}):((se=r.amountQty)==null?void 0:se.message)??((Ee=r.amountCurrency)==null?void 0:Ee.message)})(),B=w?l.amountCurrency.display:l.amountQty.display;return e.jsx(Pe.Amount,{label:"Amount",value:w?l.amountQty.display:l.amountCurrency.display,displayName:w?t:n,message:`≈ ${B||"0"} ${w?n:t}`,name:"amount",handleChange:N,handleBlur:v,handleFocus:A,precision:w?u.denomPrecision:u.currencyPrecision,errorMessage:M,isDisabled:C,handleAdjustAmountChange:_=>{o?P(a&&_===100?75:_):E(_)},switchCurrentControlledField:y})},M8=({isDisabled:t=!1,isMarginEnabled:s,denom:a,quoteDisplayName:n,positionBalance:r,errors:i,triggerErrors:l})=>{const{formData:o}=os(),u=It(o.orderType),d=gn(o.orderType),x={quoteDisplayName:n,errors:i,triggerErrors:l};return e.jsxs(e.Fragment,{children:[e.jsx(D8,{isDisabled:t}),e.jsx(T8,{}),d&&e.jsx(I8,{...x}),!u&&e.jsx(P8,{...x}),e.jsx(O8,{displayName:a,positionBalance:r,isMarginEnabled:s,...x}),e.jsx(k8,{}),pc()&&e.jsxs("div",{className:"flex flex-col gap-y-1.5",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xxs font-bold",children:"Limit Price Value"}),e.jsx("p",{className:"text-neutral-800 text-xxs font-bold text-right tabular-nums",children:o.limitPrice.value})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xxs font-bold",children:"Limit Price Display"}),e.jsx("p",{className:"text-neutral-800 text-xxs font-bold text-right tabular-nums",children:o.limitPrice.display})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xxs font-bold",children:"Denom Value"}),e.jsx("p",{className:"text-neutral-800 text-xxs font-bold text-right tabular-nums",children:o.amountQty.value})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xxs font-bold",children:"Denom Display"}),e.jsx("p",{className:"text-neutral-800 text-xxs font-bold text-right tabular-nums",children:o.amountQty.display})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xxs font-bold",children:"Quote Denom Value"}),e.jsx("p",{className:"text-neutral-800 text-xxs font-bold text-right tabular-nums",children:o.amountCurrency.value})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xxs font-bold",children:"Quote Denom Display"}),e.jsx("p",{className:"text-neutral-800 text-xxs font-bold text-right tabular-nums",children:o.amountCurrency.display})]})]})]})},_8=t=>{var O,W,$,R,D;const{onBack:s,denom:a,totals:n,quoteDenom:r,className:i,style:l,marginDetails:o,useCashOrderQty:u}=t,{isMarginEnabled:d}=at(),{formData:x,isBidOrder:m,marketPrecision:f,currentQuotes:p}=os(),g=hc(m,p),h=m?"Buy":"Sell",{orderType:b,amountQty:j,amountCurrency:y,executionType:C,expiration:w,timeForce:N,stopPrice:v,limitPrice:A}=x,{orderTotal:E,expectedPrice:P,fees:L}=n;return e.jsxs("div",{className:k("flex flex-col bg-neutral-white p-4 gap-y-6 max-w-[625px] w-full mx-auto border-t-[1px] border-t-neutral-200 border-solid max-lg:!min-h-0",i),style:l,children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(T.Back,{className:"absolute",onPress:s}),e.jsx("p",{className:"text-sm font-bolder text-white mx-auto",children:"Review Order"})]}),e.jsxs("div",{className:"border border-1 border-p-dark p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-y-2 flex-wrap mb-4",children:[e.jsxs("p",{className:"font-bolder flex items-center flex-wrap gap-x-2 gap-y-1 tabular-nums",children:[h," ",u?`${y.display} ${r} of`:j.display," ",a,e.jsx(ue,{coin:a,displayName:a,className:"h-4 w-4"})]}),d&&m&&(o==null?void 0:o.order)&&e.jsx("div",{className:"w-fit flex justify-center rounded py-[3px] px-1 bg-gradient-to-r from-gradientMargin-darker-left to-gradientMargin-darker-right",children:e.jsx("div",{className:"relative font-bold text-xxs text-neutral-light text-nowrap",children:"Margin Order"})})]}),e.jsxs("div",{className:"flex flex-col divide-y divide-p-dark",children:[e.jsxs("div",{className:"flex flex-col gap-y-1.5 pb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Order Type"}),e.jsxs("div",{className:"text-neutral-800 text-xs font-bold flex items-center gap-x-2",children:[b===ot.Limit&&"Limit",b===ot.Market&&"Market",b===ot.StopLimit&&"Stop Limit",m?e.jsx(Z,{variant:"positive",size:"xs",children:"Buy"}):e.jsx(Z,{variant:"negative",size:"xs",children:"Sell"})]})]}),gn(b)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Stop Price"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:v==null?void 0:v.value,currencySymbol:r,decimalPlaces:f.currencyPrecision,minimum:f.currencyMinimum})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Limit Price"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:It(b)?g:A.value,currencySymbol:r,decimalPlaces:f.currencyPrecision,minimum:f.currencyMinimum})})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-1.5 py-4",children:[(!u||!d)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Amount"}),e.jsxs("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:[j.display," ",a]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Execution"}),e.jsxs("p",{className:"text-neutral-800 text-xs font-bold text-right",children:[C===vt.ALLOW_TAKER&&"Allow Taker",C===vt.MAKER_ONLY&&"Maker Only"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Time in Force"}),e.jsxs("p",{className:"text-neutral-800 text-xs font-bold text-right",children:[N===Re.TIME_IN_FORCE_GOOD_TILL_CANCEL&&"Good Til Canceled",N===Re.GOOD_TILL_TIME&&"Good Til Time",N===Re.IMMEDIATE_OR_CANCEL&&"Immediate or Cancel",N===Re.TIME_IN_FORCE_FILL_OR_KILL&&"Fill Or Kill"]})]}),N===Re.GOOD_TILL_TIME&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Cancel After"}),e.jsxs("p",{className:"text-neutral-800 text-xs font-bold text-right",children:[w===Ct.ONE_D&&"One Day",w===Ct.ONE_W&&"One Week",w===Ct.ONE_M&&"One Month"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-1.5 pt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Expected Price"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:P,currencySymbol:r,decimalPlaces:f.currencyPrecision,minimum:f.currencyMinimum})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Estimated Fee"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:L,currencySymbol:r,decimalPlaces:f.currencyPrecision,minimum:f.currencyMinimum})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Total"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:E,currencySymbol:r,decimalPlaces:f.currencyPrecision,minimum:f.currencyMinimum})})]})]})]})]}),d&&m&&(o==null?void 0:o.order)&&e.jsxs("div",{className:"border border-1 border-p-dark p-4 flex flex-col divide-y divide-p-dark",children:[e.jsx("div",{className:"flex flex-col gap-y-1 pb-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Flexible APR"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:Oe(((O=o==null?void 0:o.order)==null?void 0:O.apy)||0)})]})}),e.jsxs("div",{className:"flex flex-col gap-y-1 py-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Assets Used"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:I(E).minus(I((W=o==null?void 0:o.order)==null?void 0:W.margin)).toNumber(),currencySymbol:r,decimalPlaces:f.currencyPrecision})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Margin Used"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:($=o==null?void 0:o.order)==null?void 0:$.margin,currencySymbol:r,decimalPlaces:f.currencyPrecision})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Interest Incurred"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:(R=o==null?void 0:o.order)==null?void 0:R.periodInterest,currencySymbol:r,decimalPlaces:7})})]})]}),e.jsx("div",{className:"flex flex-col gap-y-1 pt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-neutral-300 text-xs font-bold",children:"Collateral Required"}),e.jsx("p",{className:"text-neutral-800 text-xs font-bold text-right tabular-nums",children:e.jsx(V,{value:(D=o==null?void 0:o.order)==null?void 0:D.collateral,currencySymbol:r,decimalPlaces:f.currencyPrecision})})]})})]}),e.jsxs("div",{className:"text-xs text-figma-neutral-light font-medium text-center leading-normal",children:[d&&(o==null?void 0:o.order)&&"When this order is placed, a margin loan will be immediately taken out.",It(b)&&" The clearing price of your order may differ from the current mid-market price if there is limited liquidity in the order books."]})]})},R8=(t,s)=>I(t).mul(I(s)).mul(1.03).toNumber(),X1=(t,s,a)=>Fs(a)?t.cashEquivalentPositions.find(n=>n.denom===s):t.marketPositions.find(n=>n.denom===s),F8=(t,s,a,n)=>{const r=ra(a)?n.denom:n.quoteDenom,i=X1(s,r,a);return i?Number(I(i.tradingPower).minus(I(t))):0-t},U8=({activeOrder:t,placeOrder:s,onMarginTradingValues:a,isPlacingOrder:n,requestToReset:r="",currentMarket:i,currentPosition:l,errorMessage:o})=>{var Sn;const{isAuthenticatedWithCookie:u}=ee(),{hasKrangStep:d,hasKrangBlocker:x,isFigurePayStep:m,passport:f}=Le(),{isMarginEnabled:p}=at(),[g,h]=c.useState(!1),[b,j]=c.useState(!1),[y,C]=c.useState(!0),{positions:w}=ft(),{resetData:N,resetForm:v,setLimitPriceFromOrderbook:A,setDualAmountFromQtyUpdate:E,setClosePosition:P,formData:L,isLockedForm:O,marketPrecision:W,setMarketPrecision:$,marginDetails:R,setOrderType:D}=os(),M=Fe(),[B,_]=c.useState(0),F=(i==null?void 0:i.quoteDenom)!=="USD",U=(f==null?void 0:f.isForeign)??!1,z=d&&U&&(m||!x)?F:!x,se=Xe({defaultValues:L,mode:"onBlur",resolver:et(tt({side:qe().required(),orderType:qe().required(),stopPrice:qe().when("orderType",{is:ot.StopLimit,then:()=>qe().required("Amount is required").test({test:Se=>Number(Se.value)>0,message:"Amount must be greater than 0"}).test("is-greater-less-price","StopPrice is less or greater than",(Se,ge)=>{const{parent:_e}=ge;return _e.side===as.Buy?Se.value<=_e.limitPrice.value?!0:ge.createError({path:ge.path,message:"Stop Price must be less than the Limit Price",type:"is-greater-less-price"}):Se.value>=_e.limitPrice.value?!0:ge.createError({path:ge.path,message:"Stop Price must be greater than the Limit Price",type:"is-greater-less-price"})}),otherwise:()=>qe()}),executionType:qe().required(""),timeForce:qe().required(""),expiration:qe().required(""),amountQty:qe().required("Amount is required").test("limit-price-missing","Limit Price is needed for calculation",(Se,ge)=>ge.parent.limitPrice.value>0?!0:ge.createError({path:ge.path,message:"Limit Price is required for amount estimation",type:"limit-price-missing"})).test({test:Se=>Number(Se.value)>0,message:"Amount must be greater than 0"}).test("wrong-precision","Amount must be of precision",(Se,ge)=>{const _e=i==null?void 0:i.quantityPrecision;return(_e>=0?_e===0?new RegExp("^\\d*$"):new RegExp("^\\d*\\.?\\d{0,"+_e+"}$"):new RegExp("^\\d*(0{"+I(_e).mul(-1).toNumber()+"})$")).test(String(Se.value))?!0:_e<0?ge.createError({path:ge.path,message:`We only support crypto amounts in increments of ${W.denomMinimum}`,type:"wrong-precision"}):ge.createError({path:ge.path,message:`We only support crypto amounts of up to ${_e} decimal places`,type:"wrong-precision"})}),amountCurrency:qe().required("Amount is required").test("market-order-min","Amount too low for market order",(Se,ge)=>{if(!It(ge.parent.orderType)||ra(ge.parent.side))return!0;const _e=W.denomMinimum,Es=ge.parent.limitPrice,Ss=Number(I(Es.value).mul(2).mul(_e).toFixed(W.currencyPrecision));return Se.value>=Ss?!0:ge.createError({path:ge.path,message:"The minimum order value is",type:"market-order-min"})}).test("currency-minimum","Amount must be of precision",(Se,ge)=>{const _e=W.currencyMinimum;return Se.value>=_e?!0:ge.createError({path:ge.path,message:`The minimum dollar value for this market is ${_e}`,type:"currency-minimum"})}),limitPrice:qe().required("Limit Price is required").test({test:Se=>Number(Se.value||0)>0,message:"Limit Price must be greater than 0"}).test("is-size-increment-multiple",`Amount must be a multiple of ${W.currencyMinimum}`,(Se,ge)=>{const _e=W.currencyMinimum??1;return Se.value&&I(Se.value).mod(_e).eq(0)?!0:ge.createError({path:ge.path,message:`Amount must be a multiple of ${_e}`})})}))}),{reset:Ee,trigger:Ue,formState:{errors:He,isSubmitSuccessful:Qe,isValid:Ve},...Ft}=se;c.useEffect(()=>{Qe&&!o?(h(!1),j(!1),v()):Qe&&o&&(h(!0),j(!1),Ee(void 0,{keepValues:!0}))},[Ee,Qe,o]);const q=async()=>{if(!p||L.side===Nc.Locked)return;const Se=ra(L.side)&&L.amountQty.value>Zs||L.amountQty.value<W.denomMinimum?0:L.amountQty.value;await a({amount:Se,cashAmount:L.amountCurrency.value,side:L.side,orderType:L.orderType,limitPrice:L.limitPrice.value})};c.useEffect(()=>{Ee(L),setTimeout(()=>{q()},500)},[L]),c.useEffect(()=>{z||N()},[z]),c.useEffect(()=>{A(t.seenPrice)},[t.seenPrice]),c.useEffect(()=>{t.qty&&E(t.qty)},[t.qty]),c.useEffect(()=>{$({denomPrecision:(i==null?void 0:i.quantityPrecision)<0?0:(i==null?void 0:i.quantityPrecision)||1,currencyPrecision:(i==null?void 0:i.pricePrecision)||2,denomMinimum:Number(i==null?void 0:i.sizeIncrement)||1,currencyMinimum:Number(i==null?void 0:i.priceIncrement)||.01})},[i==null?void 0:i.id]),c.useEffect(()=>{r&&t.qty&&(P(t.qty),h(!1))},[r,t.qty]),c.useEffect(()=>{N()},[i.id]),c.useEffect(()=>{u||(N(),h(!1))},[u]),c.useEffect(()=>{p&&!O&&L.amountQty.value>0&&(Ue(),h(!1),q())},[p,Ue,O]);const de=ra(L.side),Ze=Fs(L.side),At=It(L.orderType)&&Ze,zt=O||!u||!z?void 0:0,Hs=(()=>{if(!O&&L.amountQty.value>0&&L.limitPrice.value>0)return Number(At?L.amountCurrency.value:oc(L.amountQty.value,L.limitPrice.value))})(),Ut=(()=>{if(!O&&L.amountQty.value>0&&L.limitPrice.value>0)return Number(At?L.amountCurrency.value:cc(L.amountQty.value,L.limitPrice.value,zt,L.side))})(),ws=Object.keys(He).length===0&&Ut&&w?F8(Ze?Ut:L.amountQty.value,w,L.side,i):0,Vs=de?i.denom:i.quoteDenom,ha=ac(w,i==null?void 0:i.quoteDenom),Zs=((Sn=w==null?void 0:w.marketPositions.find(Se=>Se.denom===i.denom))==null?void 0:Sn.tradingPower)||0,Gs=It(L.orderType)&&L.limitPrice.value===0,vs=!u||!z,Ls=async({side:Se,orderType:ge,amountQty:_e,amountCurrency:Es,limitPrice:Ss,stopPrice:fa,timeForce:An,executionType:Dn,expiration:Tn})=>{j(!1);const Pn=(()=>{var Ne;if(At){const dt=R8(_e.value,Ss.value),us=w?((Ne=X1(w,i.quoteDenom,Se))==null?void 0:Ne.tradingPower)??0:0;return dt>=us}return!1})(),kn={symbol:i.id,side:Se,type:ge,limitPrice:Number(Ss==null?void 0:Ss.value),stopPrice:Number(fa==null?void 0:fa.value),executionType:Dn,timeForce:An,expiration:Tn,qty:Number(_e.value),cashOrderQty:Pn?Number(Es.value):void 0};await s(kn)},zs=()=>{if(Ve){const Se=document.getElementById("form-div"),ge=Se==null?void 0:Se.getBoundingClientRect();_(ge==null?void 0:ge.height),setTimeout(()=>{C(!1)},250),h(!0)}else Ue()},gt=async()=>{D(ot.Limit),j(!0),h(!1)},{marketBaseCurrency:Kt}=me();return e.jsx(st,{...se,children:e.jsxs("form",{onSubmit:Ft.handleSubmit(Ls),id:"order-form",children:[e.jsx(_8,{onBack:()=>{h(!1),C(!0),o&&j(!0)},className:g?"visible":"hidden",style:{minHeight:`${B}px`},totals:{expectedPrice:Hs??0,fees:Number(li(L.amountQty.value,L.limitPrice.value,zt)),orderTotal:Ut??0},marginDetails:R,useCashOrderQty:At,denom:i.denom,quoteDenom:i.quoteDenom}),e.jsxs("div",{id:"form-div",className:k("flex flex-col bg-neutral-white gap-6 px-4 max-w-[625px] w-full mx-auto",g?"hidden":"visible"),children:[e.jsx(M8,{isDisabled:!u||!z||n,denom:i.denom,quoteDisplayName:i.quoteDenom||Kt,positionBalance:{denomQuantity:(l==null?void 0:l.tradingPower)||0,quotePower:p?Number(R==null?void 0:R.currentRisk.buyingPower):ha},errors:He,isMarginEnabled:p,triggerErrors:Ue}),M.BLOCKCHAIN_MAINTENANCE&&e.jsx(G,{variant:"warning",children:"Our system is undergoing maintenance — trading remains available but settlement, deposits, and withdrawals will be unavailable during this time"}),e.jsxs("div",{className:k(It(L.orderType)&&"pt-4"),children:[e.jsxs("div",{className:`border border-1 border-p-dark p-4 flex flex-col gap-y-0.5 mb-4 ${!u||O?"opacity-50":""} ${z?"":"hidden"}`,children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center pb-[4px]",children:[e.jsx("p",{className:"font-bold text-xs text-neutral-300",children:"Expected Price"}),e.jsx("p",{className:"font-bold text-xs tabular-nums text-right",children:Hs!==void 0?e.jsx(V,{value:Hs,currencySymbol:i.quoteDenom,decimalPlaces:W.currencyPrecision,minimum:W.currencyMinimum}):"-"})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center pb-[4px]",children:[e.jsx("p",{className:"font-bold text-xs text-neutral-300",children:"Estimated Fee"}),e.jsx("p",{className:"font-bold text-xs tabular-nums text-right",children:u&&zt!==void 0?e.jsxs(e.Fragment,{children:[e.jsx(V,{value:Number(li(L.amountQty.value,L.limitPrice.value,zt)),currencySymbol:i.quoteDenom,decimalPlaces:W.currencyPrecision,minimum:W.currencyMinimum}),` (${Xa(zt*100)})`]}):"-"})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center",children:[e.jsx("p",{className:"font-bold text-xs text-neutral-300",children:"Total"}),e.jsx("p",{className:"font-bold text-xs tabular-nums text-right",children:Ut!==void 0?e.jsx(V,{value:Ut,currencySymbol:i.quoteDenom,decimalPlaces:W.currencyPrecision,minimum:W.currencyMinimum}):"-"})]})]}),(R==null?void 0:R.error)&&e.jsx("div",{className:"mb-3",children:e.jsx(G,{variant:"error",children:R==null?void 0:R.error})}),(p&&de&&ws<0||!p&&ws<0)&&e.jsx("div",{className:"mb-3",children:e.jsxs(G,{variant:"error",children:["Please deposit more ",Vs," to complete this order"]})}),!(R!=null&&R.error)&&Gs&&e.jsx("div",{className:"mb-3",children:e.jsxs(G,{variant:"error",children:["There is no current market price for ",i.denom,"/",i.quoteDenom]})})]}),g&&!b&&o&&e.jsx(e.Fragment,{children:o==="Resting orders would match outside price protection limits"?e.jsx("div",{className:"px-4 pb-4",children:e.jsxs(G,{variant:"error",children:[e.jsx("span",{role:"button",tabIndex:0,className:"underline underline-offset-4 text-p-light",onKeyDown:gt,onClick:gt,children:"Submit a limit order?"})," ",e.jsx("span",{children:"A market order is unavailable because a price slippage of over 1% would occur."})]})}):e.jsx("div",{className:"px-4 pb-4",children:e.jsx(G,{variant:"error",children:o})})})]}),!b&&o&&e.jsx("div",{className:"px-4 pb-4",children:e.jsx(G,{variant:"error",children:o})}),e.jsxs("div",{className:"px-4 max-w-[625px] w-full mx-auto",children:[vs&&e.jsx(T.Primary,{type:"button",className:"w-full",isDisabled:!0,children:"Unavailable"})," ",!g&&!vs&&O&&e.jsx(T.Primary,{type:"button",className:"w-full",isDisabled:!0,children:"Select Buy or Sell to Begin Trading"}),!g&&!vs&&!O&&e.jsxs(T.BuySell,{state:Ze?"BUY":"SELL",type:"button",onPress:zs,isDisabled:p?!!(R!=null&&R.error)||de&&ws<0:ws<0||Gs,children:["Review ",Ze?"Buy":"Sell"," Order"]}),g&&!vs&&e.jsxs(e.Fragment,{children:[e.jsx(T.BuySell,{isDisabled:y||n,state:Ze?"BUY":"SELL",type:"submit",children:n?e.jsx("div",{className:"flex justify-center [&>*]:w-5 [&>*]:h-5",children:e.jsx(ve,{white:!0})}):`Place ${Ze?"Buy":"Sell"} Order`}),e.jsx("p",{className:"mt-4 text-xxs text-neutral-300 font-bolder text-center leading-normal",children:"By placing this order, you agree for Figure Pay to process your transaction according to the instructions above. Please contact Figure Pay to report any errors in your transaction. Cryptocurrency transactions are deemed to be made when recorded on a public ledger, which is not necessarily the time or date that you initiate this transaction There may be a delay between the time you place an order and the time it is executed."})]})]})]})})},B8=t=>{const{price:s,currentMarket:a,isPlacingOrder:n,onPlaceOrder:r,onMarginTradingValues:i,quantity:l,requestToUpdateForm:o,currentPosition:u,errorMessage:d,marginDetails:x,marketData:m}=t,{isAuthenticatedWithCookie:f}=ee(),{setCurrentQuotes:p,setMarginDetails:g}=os(),h=c.useMemo(()=>m!=null&&m.bestBid?Number(m.bestBid):0,[m,a==null?void 0:a.id]),b=c.useMemo(()=>gr(m==null?void 0:m.bestAsk,m==null?void 0:m.bestBid,a==null?void 0:a.pricePrecision),[m,a==null?void 0:a.id]),j=c.useMemo(()=>m!=null&&m.bestAsk?Number(m.bestAsk):0,[m,a==null?void 0:a.id]);return c.useEffect(()=>{p({ask:j,bid:h,mid:b})},[m,a==null?void 0:a.id]),c.useEffect(()=>{x&&g(x)},[x]),a?e.jsx("div",{className:"pt-4 mb-10",children:e.jsx(U8,{isPlacingOrder:n,placeOrder:r,onMarginTradingValues:i,requestToReset:o,activeOrder:{seenPrice:s,qty:l,symbol:a.id},currentMarket:a,currentPosition:u,errorMessage:d},a.id)}):f?e.jsx("div",{className:"flex justify-center items-center min-h-full",children:e.jsx("span",{className:"text-neutral-500 text-4xl",children:e.jsx(X5,{})})}):e.jsx(e.Fragment,{})},W8=t=>{if(t)return`Crypto.${t}/USD`},ed=()=>{const{DATAFEED_SOURCE:t}=Fe(),{marketLocation:s}=me();return{lookupDatafeedSource:c.useCallback(n=>{let r=t[s]==="pyth";return["HASH","FMREIT"].includes(n)&&(r=!1),r?"pyth":"figure-markets"},[t,s])}},q8=t=>{const{currentMarketId:s,currentSymbol:a,onIntervalChanged:n,datafeed:r,currentMarket:i,datafeedSource:l}=t,o=c.useRef(null),u=c.useRef(null),d=c.useRef(!1),x=c.useRef(r),m=Fe(),f=c.useRef(m.DEFAULT_CHART_CONFIG);c.useEffect(()=>{f.current=m.DEFAULT_CHART_CONFIG},[m]);const{lookupDatafeedSource:p}=ed(),g=Intl.DateTimeFormat().resolvedOptions(),h=Z5(g.timeZone),b=c.useMemo(()=>Lt()?["legend-widget","left_toolbar","right_toolbar","header_widget"]:[],[]),j=c.useMemo(()=>Lt()?["always_show_legend_values_on_mobile"]:[],[]),y=c.useMemo(()=>Lt()?{"scalesProperties.fontSize":6}:{},[]),C=c.useRef(m.DEFAULT_CHART_CONFIG.DEFAULT.interval),w=c.useRef(!0),N=c.useMemo(()=>l==="figure-markets"?a:W8(i==null?void 0:i.denom)??"",[a,i==null?void 0:i.denom,l]),v=c.useCallback(()=>{var P,L;const A={symbol:N,datafeed:r,interval:((L=(P=f.current)==null?void 0:P[s])==null?void 0:L.interval)||C.current,container:o.current??"tv-chart-container",library_path:`${location.origin}/exchange/charting_library/`,preset:"mobile",locale:"en",theme:"dark",debug:!1,custom_font_family:"'Public Sans', sans-serif",enabled_features:[...j],disabled_features:["volume_force_overlay","header_symbol_search","header_compare","header_undo_redo","header_saveload","timeframes_toolbar","snapshot_trading_drawings","order_panel","trading_account_manager","show_right_widgets_panel_by_default","dom_widget","header_layouttoggle","widget_logo","buy_sell_buttons","chart_crosshair_menu","chart_property_page_trading","main_series_scale_menu",...b],custom_css_url:"css/index.css",loading_screen:{backgroundColor:"#080e18",foregroundColor:"#5a56ec"},settings_overrides:{"paneProperties.background":"#080e18","paneProperties.backgroundType":"solid"},overrides:{"paneProperties.background":"#080e18","paneProperties.backgroundType":"solid","crossHairProperties.color":"#1c2434","scalesProperties.crosshairLabelBgColorDark":"#1c2434","mainSeriesProperties.bidAsk.bidLineColor":"#5a56ec","mainSeriesProperties.steplineStyle.color":"#5a56ec","mainSeriesProperties.lineStyle.color":"#5a56ec","mainSeriesProperties.lineWithMarkersStyle.color":"#5a56ec","mainSeriesProperties.hiloStyle.color":"#5a56ec","mainSeriesProperties.hiloStyle.labelColor":"#5a56ec","mainSeriesProperties.hiloStyle.borderColor":"#5a56ec","mainSeriesProperties.highLowAvgPrice.highLowPriceLinesColor":"#5a56ec","mainSeriesProperties.highLowAvgPrice.averagePriceLineColor":"#5a56ec","mainSeriesProperties.barStyle.upColor":"#21FFAC","mainSeriesProperties.barStyle.downColor":"#F7343B","mainSeriesProperties.hollowCandleStyle.upColor":"#21FFAC","mainSeriesProperties.hollowCandleStyle.downColor":"#F7343B","mainSeriesProperties.candleStyle.upColor":"#21FFAC","mainSeriesProperties.candleStyle.downColor":"#F7343B","mainSeriesProperties.candleStyle.wickUpColor":"#21FFAC","mainSeriesProperties.candleStyle.wickDownColor":"#F7343B","mainSeriesProperties.columnStyle.upColor":"#21FFAC","mainSeriesProperties.columnStyle.downColor":"#F7343B","mainSeriesProperties.hlcAreaStyle.highLineColor":"#21FFAC","mainSeriesProperties.hlcAreaStyle.lowLineColor":"#F7343B","mainSeriesProperties.kagiStyle.upColor":"#21FFAC","mainSeriesProperties.kagiStyle.downColor":"#F7343B","mainSeriesProperties.pbStyle.upColor":"#21FFAC","mainSeriesProperties.pbStyle.downColor":"#F7343B","mainSeriesProperties.renkoStyle.upColor":"#21FFAC","mainSeriesProperties.renkoStyle.downColor":"#F7343B","mainSeriesProperties.baselineStyle.topLineColor":"#21FFAC","mainSeriesProperties.baselineStyle.bottomLineColor":"#F7343B","mainSeriesProperties.haStyle.upColor":"#21FFAC","mainSeriesProperties.haStyle.downColor":"#F7343B","mainSeriesProperties.pnfStyle.upColor":"#21FFAC","mainSeriesProperties.pnfStyle.downColor":"#F7343B","mainSeriesProperties.style":f.current.DEFAULT.chartStyle,"mainSeriesProperties.areaStyle.color1":"rgba(85, 183, 160, .28)","mainSeriesProperties.areaStyle.color2":"#55B7A0","mainSeriesProperties.areaStyle.linecolor":"#55B7A0",timezone:h,...y},client_id:"figuremarkets.com",fullscreen:!1,autosize:!0,studies_overrides:{}},E=new Xd(A);return E.headerReady().then(async()=>{(await E.widgetbar()).changeWidgetBarVisibility(!1)}),E.onChartReady(()=>{var W,$,R,D;const O=(($=(W=E.chart().getPanes())==null?void 0:W[0])==null?void 0:$.getHeight())||500;(D=(R=E.chart().getPanes())==null?void 0:R[1])==null||D.setHeight(Math.floor(O*.25)),d.current=!0,E.activeChart().onIntervalChanged().subscribe(null,M=>{if(C.current=M,M.includes("1W")){n(Number(M.slice(0,-1))*7*24*60);return}if(M.includes("D")){n(Number(M.slice(0,-1))*24*60);return}M&&n(Number(M))}),E.activeChart().onDataLoaded().subscribe(null,()=>{w.current&&(w.current=!1)})}),E},[N,r,s,j,b,h,y,n]);return c.useEffect(()=>{var A;(!u.current||r!==x.current)&&((A=u.current)==null||A.remove(),d.current=!1,u.current=v(),x.current=r)},[r,v]),c.useEffect(()=>{var E,P;const A=p((i==null?void 0:i.denom)??"");u.current!==null&&d.current&&i&&A===l&&(w.current=!0,u.current.setSymbol(N,((P=(E=f.current)==null?void 0:E[i==null?void 0:i.id])==null?void 0:P.interval)||C.current,()=>{}))},[i,N,l,p]),e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:o,id:"tv-chart-container",className:"tv-chart-container h-full"}),l==="pyth"&&e.jsxs("p",{className:"text-[8px] text-figma-neutral text-right absolute bottom-[4px] right-[4px]",children:["*Chart data powered by Pyth ",i==null?void 0:i.denom,"-",i==null?void 0:i.quoteDenom," feed"]})]})},$8=({title:t,value:s})=>e.jsxs("div",{className:"flex justify-between items-center p-2 border-b-[1px] border-neutral-100 border-solid",children:[e.jsx("p",{className:"font-medium text-xs",children:t}),e.jsx("p",{className:"font-medium text-xs",children:s})]}),H8=({currentSymbol:t,currentMarket:s})=>{const{getAsset:a}=Te(),n=a(s.denom),r=[{key:"marketName",title:"Market Name",value:t==null?void 0:t.toUpperCase()},{key:"tickSize",title:"Tick Size",value:s.priceIncrement},{key:"stepSize",title:"Step Size",value:s.sizeIncrement},{key:"minOrderSize",title:"Minimum Order Size",value:s.sizeIncrement}],i="bg-dark ring-inset ring-1 ring-p-500 text-light text-xs py-2.5 px-4 font-bold rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-p-500 group hover:text-light focus:text-light focus:bg-p-500 focus:ring-offset-2 focus:ring-offset-white focus:ring-2 focus:ring-dark focus:ring-inset outline-none transition-all ";return n?e.jsxs("div",{className:"flex flex-wrap justify-center flex-col overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-x-2 pb-7",children:[e.jsx(ue,{coin:n.name,className:"h-6 w-6",displayName:t}),e.jsxs("span",{className:"font-bolder text-sm",children:[n.displayName," (",n.name,")"]})]}),e.jsxs("div",{className:"flex gap-y-10 gap-x-10 flex-col md:flex-row flex-wrap",children:[e.jsxs("div",{className:"w-full max-w-[800px]",children:[e.jsx("div",{className:"font-bolder text-xs w-full pb-2",children:n.subtitle}),e.jsx("div",{className:"text-xs leading-4 leading-relaxed w-full",children:n.description})]}),e.jsx("div",{className:"text-neutral-600 rounded border-t-[1px] border-neutral-100 border-solid w-full max-w-[800px] tabular-nums",children:r.map(l=>e.jsx($8,{title:l.title,value:l.value},l.key))})]}),e.jsxs("div",{className:"flex gap-x-3 pt-7",children:[n.whitepaperUrl&&e.jsx("a",{className:i,href:n.whitepaperUrl,target:"_blank",rel:"noreferrer",children:e.jsxs("div",{className:"flex items-center gap-x-1.5",children:["Whitepaper",e.jsx(mi,{})]})}),n.websiteUrl&&e.jsx("a",{className:i,href:n.websiteUrl,target:"_blank",rel:"noreferrer",children:e.jsxs("div",{className:"flex items-center gap-x-1.5",children:["Website",e.jsx(mi,{})]})})]})]}):e.jsx("div",{className:"text-sm font-bold",children:"There are no details"})},so={line:{stroke:"#93A0C2",strokeWidth:"1"},text:{fill:"#93A0C2",fontWeight:700,fontSize:"10px"}},ao=t=>t.length>1?I(t[t.length-1].price).minus(t[0].price).abs():null,V8=({orderBookData:t,currentMarket:s})=>{const{bids:a}=t??{bids:[]};let{asks:n}=t??{asks:[]};n=[...n].reverse();const[r,i]=c.useState(),[l,o]=c.useState(),[u,{width:d=0,height:x=0}]=ur(),m=c.useMemo(()=>[...n,...a].map(({total:N,...v})=>({...v,totalUnits:Math.log10(Number(N))})),[n,a]),f=c.useMemo(()=>[a.map(N=>({x:Number(N.price),y:Math.log10(Number(N.total)),original:N})),n.map(N=>({x:Number(N.price),y:Math.log10(Number(N.total)),original:N}))],[a,n]),p=c.useMemo(()=>[...f[0],...f[1]],[f]);let g=0,h=100,b=0,j=Math.log10(100);m.length&&(g=Number(m.reduce((N,v)=>I(v.price).lt(N)?I(v.price):N,I(m[0].price)).toFixed()),h=Number(m.reduce((N,v)=>I(v.price).gt(N)?I(v.price):N,I(m[0].price)).toFixed()),b=Number(m.reduce((N,v)=>I(v.totalUnits).lt(N)?I(v.totalUnits):N,I(m[0].totalUnits)).toFixed()),j=Number(m.reduce((N,v)=>I(v.totalUnits).gt(N)?I(v.totalUnits):N,I(m[0].totalUnits)).toFixed()));const y=[g,h],C=ao(n),w=ao(a);return C&&w&&(j=Number(m.filter(N=>{const v=I(N.price);return v.gte(y[0])&&v.lte(y[1])}).reduce((N,v)=>I(v.totalUnits).gt(N)?I(v.totalUnits):N,I(m[0].totalUnits)).toFixed())),e.jsx("div",{className:"h-full relative",ref:u,children:e.jsxs(bo,{stackBy:"y",height:x,width:d,margin:{top:50,left:50,right:50,bottom:50},xDomain:y,yDomain:[b,j],onMouseLeave:()=>{i(void 0)},dontCheckIfEmpty:!0,children:[e.jsx(yo,{style:{stroke:"#93A0C2",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"2, 5"}}),e.jsx(Co,{style:{stroke:"#93A0C2",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"2, 5"}}),e.jsx(No,{style:so,tickFormat:N=>`${St(N,s.pricePrecision,{shorthand:!0})} ${s.quoteDenom}`,tickSizeInner:0,tickSizeOuter:0,tickTotal:Lt()?2:5}),e.jsx(e0,{style:so,tickFormat:N=>{const v=Math.pow(10,Number(N));return v>1?String(v.toFixed()):String(v.toFixed(2))},tickSizeInner:0,tickSizeOuter:0,tickTotal:5}),e.jsx(Jr,{color:"#55B7A0",data:f[0],style:{strokeWidth:"1",fillOpacity:"0.25"}}),e.jsx(Jr,{color:"#e8a1a2",data:f[1],style:{strokeWidth:"1",fillOpacity:"0.25"}}),e.jsx(t0,{data:p,opacity:0,onNearestX:(N,{index:v})=>{const A=v<=a.length-1;o(A),i(N)}}),r&&e.jsx(wo,{align:{horizontal:"auto",vertical:"top"},value:r,children:e.jsxs("div",{className:`w-full z-5 rounded p-3 mt-5 ${l?"border-[#55B7A0]":"border-[#e8a1a2]"} border-2 bg-neutral-white box-border text-xs`,children:[e.jsx("span",{className:"font-bold leading-4 text-neutral-800",children:l?"Bids":"Asks"}),e.jsxs("div",{className:"flex justify-between pt-2",children:[e.jsx("span",{className:"font-semibold text-[#93A0C2] pr-3 leading-4",children:"Price"}),e.jsx("span",{className:"font-semibold text-neutral-800 leading-4 tabular-nums",children:e.jsx(V,{value:Number(r.x),decimalPlaces:s.pricePrecision,currencySymbol:s.quoteDenom})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-[#93A0C2] pr-3 leading-4",children:"Quantity"}),e.jsx("span",{className:"font-semibold text-neutral-800 leading-4 tabular-nums",children:r.original.totalUnits})]})]})})]})})};gs.extend(jo);const Z8=t=>{const{datafeed:s,datafeedSource:a,currentSymbol:n,currentMarketId:r,orderBook:i,currentMarket:l,denomOrderBook:o,positions:u,onIntervalChanged:d}=t,[x,m]=c.useState("price");return e.jsx("div",{className:"w-full h-full",children:e.jsxs(mr,{selectedKey:x,onSelectionChange:m,className:"h-full",children:[e.jsxs(xr,{className:"flex bg-neutral-white border-b-[1px] border-figma-neutral-dark sticky top-0 z-50","aria-label":"Price and Details",children:[e.jsx(Ms,{id:"price",className:"w-full sm:min-w-[120px] sm:w-fit",children:"Price"}),e.jsx(Ms,{id:"depth",className:"w-full sm:min-w-[120px] sm:w-fit",children:"Depth"}),e.jsx(Ms,{id:"details",className:"w-full sm:min-w-[120px] sm:w-fit",children:"Details"})]}),e.jsx(es,{shouldForceMount:!0,id:"price",className:`relative !h-[calc(100%-theme('spacing.tab-panel'))] ${x!=="price"&&"hidden"}`,children:e.jsx(q8,{datafeed:s,datafeedSource:a,currentSymbol:n,currentMarket:l,currentMarketId:r,denomOrderBook:o,positions:u,onIntervalChanged:d})}),e.jsx(es,{id:"depth",className:"!h-[calc(100%-theme('spacing.tab-panel'))] p-2 bg-neutral-white",children:e.jsx(V8,{orderBookData:i,currentMarket:l})}),e.jsx(es,{id:"details",className:"!h-[calc(100%-theme('spacing.tab-panel'))] bg-neutral-white overflow-y-none",children:e.jsx("div",{className:"p-4 md:p-10 2xl:p-20 flex justify-center",children:l?e.jsx(H8,{currentSymbol:n,currentMarket:l}):e.jsx("div",{className:"h-12 w-12",children:e.jsx(ve,{})})})})]})})},G8="https://benchmarks.pyth.network/v1/shims/tradingview/streaming",la=new Map;function z8(t){const{id:s,p:a,t:n}=t,r=a,i=n*1e3,l=s,o=la.get(l);if(!o)return;const u=o.lastDailyBar,d=K8(u.time);let x;i>=d?x={time:d,open:r,high:r,low:r,close:r}:x={...u,high:Math.max(u.high,r),low:Math.min(u.low,r),close:r},o.lastDailyBar=x,o.handlers.forEach(m=>m.callback(x)),la.set(l,o)}function td(t=3,s=3e3){fetch(G8).then(n=>{const r=n.body.getReader();function i(){r.read().then(({value:l,done:o})=>{if(o)return;new TextDecoder().decode(l).split(`
`).forEach(d=>{const x=d.trim();if(x)try{const m=JSON.parse(x);z8(m)}catch{}}),i()}).catch(()=>{a(t,s)})}i()}).catch(()=>{});function a(n,r){n>0&&setTimeout(()=>{td(n-1,r)},r)}}function K8(t){const s=new Date(t*1e3);return s.setDate(s.getDate()+1),s.getTime()/1e3}function Y8(t,s,a,n,r,i){const l=t.ticker,o={id:n,callback:a};let u=la.get(l);u={subscriberUID:n,resolution:s,lastDailyBar:i,handlers:[o]},la.set(l,u),td()}function Q8(t){for(const s of la.keys())if(la.get(s).handlers.findIndex(r=>r.id===t)!==-1){la.delete(s);break}}const Un="https://benchmarks.pyth.network/v1/shims/tradingview",no=new Map,J8={onReady:t=>{fetch(`${Un}/config`).then(s=>{s.json().then(a=>{setTimeout(()=>t(a))})})},searchSymbols:(t,s,a,n)=>{fetch(`${Un}/search?query=${t}`).then(r=>{r.json().then(i=>{n(i)})})},resolveSymbol:(t,s,a)=>{fetch(`${Un}/symbols?symbol=${t}`).then(n=>{n.json().then(r=>{s(r)}).catch(()=>{a("Cannot resolve symbol")})})},getBars:(t,s,a,n,r)=>{const{from:i,to:l,firstDataRequest:o}=a,u=365*24*60*60,d=[];let x=i,m;for(;x<l;){m=Math.min(l,x+u);const f=`${Un}/history?symbol=${t.ticker}&from=${x}&to=${m}&resolution=${s}`;d.push(fetch(f).then(p=>p.json())),x=m}Promise.all(d).then(f=>{const p=[];f.forEach(g=>{g.t.length>0&&g.t.forEach((h,b)=>{p.push({time:h*1e3,low:g.l[b],high:g.h[b],open:g.o[b],close:g.c[b]})})}),o&&p.length>0&&no.set(t.ticker,{...p[p.length-1]}),n(p,{noData:p.length===0})}).catch(f=>{r(f)})},subscribeBars:(t,s,a,n,r)=>{Y8(t,s,a,n,r,no.get(t.ticker))},unsubscribeBars:t=>{Q8(t)}},ro={supported_resolutions:["1","5","15","30","60","1D","2D","3D","W"]},X8={1:1,5:5,15:15,30:30,60:60,"1D":60*24,"2D":60*24,"3D":60*24,W:60*24};class eh{constructor(){je(this,"barsSubscribers",new Map);je(this,"quotesSubscribers",new Map)}updateQuotesCallbackReference(s,a){a?this.quotesSubscribers.set(s,a):a||this.quotesSubscribers.delete(s)}updateBarsCallbackReference(s,a){a?this.barsSubscribers.set(s,a):a||this.barsSubscribers.delete(s)}}var ir,sd;class th{constructor(){be(this,ir);je(this,"_datafeed");je(this,"_onReady",null);je(this,"_hasInitialized",!1);je(this,"_markets",[]);je(this,"_currentMarket");je(this,"_subscribableCallbacks",new eh);je(this,"_candleType");this._datafeed=this.buildDatafeed()}updateMarkets(s){this._markets=s,this.handleReady()}updateCurrentMarket(s){this._currentMarket=s}updateCandleType(s){this._candleType=s}updateCandles(s){const a=s.at(-1);if(this._subscribableCallbacks.barsSubscribers.size===0||!a)return;const n=Date.parse(a.date),r={close:Number(a.close),high:Number(a.high),low:Number(a.low),open:Number(a.open),time:n,volume:Number(a.volume)};this._subscribableCallbacks.barsSubscribers.forEach(i=>{i(r)})}handleReady(){!this._hasInitialized&&this._onReady&&(this._onReady(ro),this._hasInitialized=!0)}handleReload(){this._hasInitialized=!1}getDatafeed(){return this._datafeed}getMarkets(){return this._markets}buildDatafeed(){return{onReady:a=>{this._onReady=a,this._markets.length>0&&this._currentMarket&&this.handleReady()},searchSymbols:(a,n,r,i)=>{const l=this._markets.filter(o=>o.displayName.indexOf(a)>-1).map(o=>({description:"",exchange:n,full_name:o.displayName,symbol:o.id,type:"index",ticker:o.id}));i(l)},resolveSymbol:async(a,n,r)=>{const i=this._markets.find(o=>o.displayName.toLowerCase()===a.toLowerCase()||o.id.toLowerCase()===a.toLowerCase());if(!i){r(`Cannot resolve symbol: ${a}`);return}const l=I(10).pow(i.pricePrecision).toNumber();setTimeout(()=>n({description:i.displayName,exchange:"Figure Exchange",session:"24x7",has_intraday:!0,ticker:i.id,name:i.displayName,type:"crypto",timezone:"Etc/UTC",minmov:1,pricescale:l,visible_plots_set:"ohlcv",has_weekly_and_monthly:!1,supported_resolutions:ro.supported_resolutions,volume_precision:2,data_status:"streaming",full_name:i.displayName,listed_exchange:"",format:"price"}),0)},getBars:async(a,n,r,i)=>{var d;this._currentMarket||i([],{noData:!0});const l=new Date(r.from*1e3);let o=new Date(r.to*1e3);o.getTime()>new Date().getTime()&&(o=new Date);const u=await We(this,ir,sd).call(this,(d=this._currentMarket)==null?void 0:d.id,l,o,X8[n],this._candleType);u.length===0?i([],{noData:!0}):i(u)},subscribeBars:(a,n,r,i)=>{this._subscribableCallbacks.updateBarsCallbackReference(i,r)},unsubscribeBars:a=>{this._subscribableCallbacks.updateBarsCallbackReference(a)},getQuotes:()=>{},subscribeQuotes:(a,n,r,i)=>{this._subscribableCallbacks.updateQuotesCallbackReference(i,r)},unsubscribeQuotes:a=>{this._subscribableCallbacks.updateQuotesCallbackReference(a)}}}}ir=new WeakSet,sd=async function(s,a,n,r,i){var d,x;const l=`${D5}/markets/${s}/candles`,o=await vo.get(l,{params:{start_date:a.toISOString(),end_date:n.toISOString(),interval_in_minutes:r,candle_type:i}});return((x=(d=o==null?void 0:o.data)==null?void 0:d.matchHistoryData)==null?void 0:x.map(m=>({time:new Date(m.date).getTime(),close:Number(m.close),high:Number(m.high),low:Number(m.low),open:Number(m.open),volume:Number(m.volume)})))||[]};const sh=t=>{const{markets:s,currentMarket:a,candles:n}=t,{marketLocation:r}=me(),{CANDLE_TYPE_CONFIG:i}=Fe(),l=a?i[r]:void 0,o=c.useRef(new th),{lookupDatafeedSource:u}=ed(),d=u((a==null?void 0:a.denom)??"");return c.useEffect(()=>{s.length>0&&(o.current.handleReload(),o.current.updateMarkets(s))},[s]),c.useEffect(()=>{o.current.updateCurrentMarket(a),o.current.updateCandleType(l)},[a,l]),c.useEffect(()=>{o.current.updateCandles(n)},[n]),{datafeed:d==="pyth"?J8:o.current.getDatafeed(),datafeedSource:d}},Vr=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...t},c.createElement("mask",{id:"mask0_13517_72470",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},c.createElement("rect",{y:16,width:16,height:16,transform:"rotate(-90 0 16)",fill:"#D9D9D9"})),c.createElement("g",{mask:"url(#mask0_13517_72470)"},c.createElement("path",{d:"M14.3996 8L9.99961 12.4L9.14961 11.55L12.0996 8.6H7.19961V7.4L12.0996 7.4L9.14961 4.45L9.99961 3.6L14.3996 8ZM5.99961 8.6H3.99961V7.4H5.99961V8.6ZM2.79961 8.6H1.59961V7.4H2.79961V8.6Z",fill:"#78839F"}))),ah=({isMarginEnabled:t,currentMarket:s,currentPosition:a,quoteBalance:n,marginDetails:r})=>{const{onToggleMarginTrading:i,allowEnableMarginFeature:l}=at(),o=()=>{i()},u=x=>he(Ta(x||0,s.quantityPrecision),s.quantityPrecision,!0),d=x=>he(Ta(x||0,s.pricePrecision),s.pricePrecision,!0);return e.jsxs("div",{className:"px-4 pt-4 text-xs font-bold max-w-[650px] mx-auto",children:[t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between flex-wrap gap-1 mb-2.5",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("span",{children:[s.denom," Balance"]}),e.jsx(Me,{className:"w-[300px]",heading:"Balance",description:"The first value shows the asset amount that is available for sale and the second value shows the amount that is in your account including those associated with a pending order"})]}),e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsxs("span",{className:"flex tabular-nums",children:[u(a==null?void 0:a.tradingPower)," / ",u(a==null?void 0:a.balance)]}),e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:s.denom})]})]}),e.jsxs("div",{className:"flex justify-between flex-wrap gap-1 mb-2.5",children:[e.jsx("span",{children:"Buying Power"}),e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("span",{className:"flex tabular-nums",children:d(r==null?void 0:r.currentRisk.buyingPower)}),(r==null?void 0:r.futureRisk)&&e.jsxs(e.Fragment,{children:[e.jsx(Vr,{}),d(r==null?void 0:r.futureRisk.buyingPower)]}),e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:s.quoteDenom})]})]}),e.jsxs("div",{className:"flex justify-between flex-wrap gap-1 mb-2.5",children:[e.jsx("span",{children:"Free Collateral"}),e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("span",{className:"flex tabular-nums",children:d(r==null?void 0:r.currentRisk.freeCollateral)}),(r==null?void 0:r.futureRisk)&&e.jsxs(e.Fragment,{children:[e.jsx(Vr,{}),d(r==null?void 0:r.futureRisk.freeCollateral)]}),e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:s.quoteDenom})]})]}),e.jsxs("div",{className:"flex justify-between flex-wrap gap-1 mb-2.5",children:[e.jsx("span",{children:"Margin Usage"}),e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("span",{className:"flex tabular-nums",children:Xa(I(r==null?void 0:r.currentRisk.marginUse).mul(100).toNumber()||0)}),(r==null?void 0:r.futureRisk)&&e.jsxs(e.Fragment,{children:[e.jsx(Vr,{}),Xa(I(r==null?void 0:r.futureRisk.marginUse).mul(100).toNumber()||0)]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2.5 flex items-center gap-1",children:["Available to Trade",e.jsx(Me,{className:"max-w-[257px]",heading:"Available to Trade",description:"Crypto and USD that have fast trading enabled through commitments to the exchange. This allows the exchange to settle assets upon trade matches. You can uncommit assets to withdraw or use them elsewhere through “Manage Assets”."})]}),e.jsxs("div",{className:"flex justify-between mb-2.5",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{children:s.denom}),e.jsx(Me,{className:"w-[300px]",heading:"Balance",description:"The first value shows the asset amount that is available for sale and the second value shows the amount that is in your account including those associated with a pending order"})]}),e.jsxs("span",{className:"flex tabular-nums",children:[u(a==null?void 0:a.tradingPower)," / ",u(a==null?void 0:a.balance),e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:s.denom})]})]}),e.jsxs("div",{className:"flex justify-between mb-2.5",children:[e.jsx("span",{children:s.quoteDenom}),e.jsxs("span",{className:"flex tabular-nums",children:[d(n),e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:s.quoteDenom})]})]})]}),l&&e.jsx("div",{className:"mt-4",children:e.jsx(r1,{checked:t,onMarginToggle:o})})]})},nh=t=>{var fa,An,Dn,Tn,Pn,kn;const{denomFromRoute:s}=t,a=X(),{isAuthenticatedWithCookie:n,walletAddress:r}=ee(),{marketLocation:i}=me(),{isMarginEnabled:l}=at(),o=Be(),u=Et({specifiedLocation:"US"}),d=Et({specifiedLocation:"CAYMAN"}),x=Et({specifiedLocation:"US",marketType:"ATS"}),m=[...((fa=u.data)==null?void 0:fa.data)??[],...((An=d.data)==null?void 0:An.data)??[],...((Dn=x.data)==null?void 0:Dn.data)??[]],{positions:f}=ft(),{selectedMarket:p,setSelectedMarket:g}=B7(),h=m.find(Ne=>Ne.id.toLowerCase()===s),b=(Tn=f==null?void 0:f.marketPositions)==null?void 0:Tn.find(Ne=>Ne.symbol.toLowerCase()===s),j=c.useMemo(()=>(h==null?void 0:h.id)??"",[h]),{mutateAsync:y,isLoading:C}=Yi(),{mutateAsync:w,isLoading:N}=Gu(),{mutateAsync:v,isLoading:A}=Yu(),[E,P]=c.useState(),[L,O]=c.useState(),[W,$]=c.useState(""),[R,D]=c.useState(),[M,B]=c.useState(0),[_,F]=c.useState(!1),U=Fe(),[z,se]=c.useState(+((Pn=U==null?void 0:U.DEFAULT_CHART_CONFIG[j])==null?void 0:Pn.interval)||+U.DEFAULT_CHART_CONFIG.DEFAULT.interval),[Ee,Ue]=c.useState(),{marginDetails:He,handleMarginTradingValues:Qe,resetMarginSimulation:Ve,refetchMarginDetails:Ft}=Yx(j),{marketSummary:q}=q1(j),{orderbook:de}=Qx(j,Ee??(h==null?void 0:h.priceIncrement)??"0.01"),{trades:Ze}=Xx(j),{candles:At}=e8(j,z),{datafeed:zt,datafeedSource:Hs}=sh({markets:m,marketData:q,orderBook:de,currentMarket:h,candles:At}),{hasKrangBlocker:Ut,hasKrangStep:ws,isFigurePayStep:Vs}=Le(),ha=(h==null?void 0:h.quoteDenom)!=="USD",Zs=ws&&Vs?ha:!Ut,[Gs,vs]=c.useState(),{walletBridgeState:Ls}=Nt(),{mutateAsync:zs}=rl({baseUrl:ke,accountAddress:(kn=Ls.account)==null?void 0:kn.address});c.useEffect(()=>{let Ne=!0;return Ls.isFigureAuth&&(h!=null&&h.marketType)&&dt(),()=>{Ne=!1};async function dt(){const us=await zs({requestBody:{requiredSteps:(h==null?void 0:h.marketType)==="ATS"?W5:oi}});Ne&&vs(us)}},[h==null?void 0:h.marketType,zs,Ls.isFigureAuth]),t8(),c.useEffect(()=>{h&&h.id!==p&&g(h.id)},[h,p,g]);const gt=c.useCallback(()=>{n&&l&&Ft()},[n,l,Ft]);c.useEffect(()=>r?(oe.shared.subscribeToPositionsUpdates(r,gt),()=>{oe.shared.unsubscribeFromPositionsUpdates(r,gt)}):()=>{},[r,gt]);async function Kt(Ne){a(nn.handleCancelOrder(Ne)),await y({path:{orderId:Ne,symbol:j}},{onError:()=>{o.notifyGenericError({title:"There was an error canceling your order. Please try again."})},onSuccess:dt=>{o.notifyOrderCancelled(dt)}})}async function Sn(){const Ne=(h==null?void 0:h.denom)||"BTC";await w({query:{symbol:j}},{onError:()=>{o.notifyGenericError({title:"There was an error canceling your orders. Please try again."})},onSuccess:dt=>{o.notifyOrdersCancelled({orderLength:dt.length,token:Ne})}})}c.useEffect(()=>{P(void 0),O(void 0),D(""),Ue(void 0)},[s]);const Se=async Ne=>{h&&n&&(D(void 0),await v({path:{symbol:j},requestBody:{quantity:Ne.cashOrderQty?void 0:Ne.qty,cashOrderQty:Ne.cashOrderQty,direction:Fs(Ne.side)?"BID":"ASK",orderType:lc(Ne.type),price:Number(Ne.limitPrice),stopPrice:gn(Ne.type)?Number(Ne.stopPrice):void 0,executionType:O5(Ne.type,Ne.executionType),expiration:_5(Ne.timeForce,Ne.expiration),timeInForce:M5(Ne.timeForce),clientOrderId:crypto.randomUUID(),shortSell:!1}},{onSuccess:dt=>{var us;dt.state==="PENDING_NEW"&&oe.shared.triggerManualOrderUpdate({...dt,channel:"ADDRESS_ORDERS",channelUuid:((us=oe.shared.orderStore)==null?void 0:us.channelUuid)??""}),dt!=null&&dt.failureReason?D(dt.failureReason):Ve()},onError:dt=>{const us=ct(dt);D(us&&l?us:"System error: we're unable to confirm your order placement. Check your orders and make any necessary adjustments.")}}))},ge=c.useCallback(()=>{b&&(P(I((h==null?void 0:h.lastTradedPrice)??b.lastTradedPrice).toNumber()),O(I(b.tradingPower).toNumber()),$(bt()))},[h==null?void 0:h.lastTradedPrice,b]),_e=Ne=>{B(Ne),F(!0)},Es=c.useMemo(()=>ac(f,h==null?void 0:h.quoteDenom),[f,h==null?void 0:h.quoteDenom]),Ss=c.useMemo(()=>gr((q==null?void 0:q.bestAsk)??(h==null?void 0:h.bestAsk),(q==null?void 0:q.bestBid)??(h==null?void 0:h.bestBid),h==null?void 0:h.pricePrecision),[q,h]);return e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:`${he(Ss,h==null?void 0:h.pricePrecision)} ${s.toUpperCase()} - Figure Markets`})}),e.jsx("div",{className:"border-y-neutral-200 border-solid border-y-[1px] min-h-[48px]",children:e.jsx(d8,{markets:m.filter(Ne=>Ne.marketLocation===i),currentMarket:h,marketData:q})}),!(ha&&Vs)&&e.jsx(Hc,{fsmStepResponse:Gs}),e.jsxs("div",{className:"flex flex-col lg:flex-row w-full h-full lg:h-dvh overflow-hidden z-0",children:[e.jsxs("div",{className:"w-full lg:w-[42%] flex flex-col flex-grow order-1 divide-y divide-neutral-200",children:[e.jsx("div",{className:"!overflow-y-auto scrollbar-none h-[350px] sm:h-[273px] lg:h-2/3",children:h&&e.jsx(Z8,{orderBook:de,currentMarket:h,datafeed:zt,datafeedSource:Hs,currentSymbol:h.displayName,currentMarketId:j,positions:f,onIntervalChanged:se})}),e.jsx("div",{className:"w-full lg:hidden overflow-hidden scrollbar-none max-h-[245px]",children:e.jsx(J1,{orderBookData:de,setPrice:P,setQuantity:O,currentMarket:h,onCancelOrder:Kt,onTickSizeChange:Ue,tickSize:Ee??(h==null?void 0:h.priceIncrement)})}),e.jsx("div",{className:"overflow-y-auto scrollbar-none hidden lg:block h-1/3",children:h&&e.jsx(to,{position:b,currentMarket:h,onCancelOrder:Kt,isCancelingOrder:C,onCancelAllOrders:_e,isCancelingAllOrders:N,onClosePosition:ge,quoteBalance:Es})})]}),e.jsx("div",{className:"w-full lg:w-[31%] lg:max-w-[671px] hidden lg:block order-3 lg:order-2 border-x-[1px] border-x-neutral-200 border-solid",children:e.jsx(A8,{orderBookData:de,setPrice:P,setQuantity:O,trades:Ze,currentMarket:h,onCancelOrder:Kt,onTickSizeChange:Ue,tickSize:Ee??(h==null?void 0:h.priceIncrement)})}),e.jsxs("div",{className:"w-full lg:w-[27%] lg:max-w-[400px] order-2 lg:order-3 overflow-none lg:overflow-y-auto scrollbar-none border-t-[1px] border-t-neutral-200 border-solid lg:border-none",children:[e.jsxs("div",{className:"hidden sm:block ",children:[Ut&&e.jsx(n1,{}),!n&&e.jsx(l1,{text:"Sign up or log in and deposit crypto or funds to start trading",button:e.jsx(Ns,{className:"w-full max-w-[115px]"})})]}),Zs&&n&&h&&e.jsx(ah,{isMarginEnabled:l,marginDetails:He,currentMarket:h,currentPosition:b,quoteBalance:Es}),e.jsx(B8,{price:E,quantity:L,requestToUpdateForm:W,isPlacingOrder:A,onPlaceOrder:Se,currentMarket:h,marketData:q,currentPosition:b,errorMessage:R,onMarginTradingValues:Qe,marginDetails:He})]}),e.jsx("div",{className:"order-3 block lg:hidden scrollbar-none h-[290px] border-t-[1px] border-t-neutral-200 border-solid",children:h&&e.jsx(to,{position:b,currentMarket:h,onCancelOrder:Kt,isCancelingOrder:C,onCancelAllOrders:_e,isCancelingAllOrders:N,onClosePosition:ge,quoteBalance:Es})})]}),e.jsx(wr,{isOpen:_,onClose:()=>F(!1),cancelOrderCount:M,onCancelAllOrders:Sn}),e.jsx(p7,{}),e.jsx(S1,{}),e.jsx(v1,{}),e.jsx(L1,{cashEquivalence:f==null?void 0:f.cashEquivalentPositions})]})},Bn=t=>{var f;G1({referralDestination:"EXCHANGE"}),z1();const{token:s}=Ii(),{pathname:a}=Cs(),n=Fe(),r=ol(),{defaultMarketId:i,marketLocation:l,marketType:o,setType:u}=me();c.useEffect(()=>{o!==t.marketType&&u(t.marketType)},[o,t.marketType,u]);const{error:d,isFetching:x,data:m}=Kx({symbol:s??"",enabled:s!=null});return!s&&o==t.marketType?e.jsx(ks,{to:`${a}/${i}`}):s?d||!n.IS_TRADE_ENABLED?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Trade - Figure Markets"})}),((f=d==null?void 0:d.response)==null?void 0:f.status)===404?e.jsx(ji,{isSecure:r.isSecure,title:"Market Not Found.",description:`There were no active markets found for the given symbol. ${s.toUpperCase()}`}):e.jsx(ji,{isSecure:r.isSecure,title:"Trading Unavailable.",description:"We're hashing out some upgrades—don't worry, we'll be back before you can say 'decentralized!’"})]}):x?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Trade - Figure Markets"})}),e.jsx("div",{className:"flex items-center h-dvh justify-center relative [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})})]}):(m==null?void 0:m.marketLocation)!==l&&s!==i?e.jsx(ks,{to:a.replace(s,i)}):e.jsx(nh,{denomFromRoute:s}):null},rh=()=>{const[t]=Oa();return c.useEffect(()=>{const s=localStorage.getItem("jwt")??"",a=localStorage.getItem("walletconnect")??"",n=localStorage.getItem("walletconnect-js")??"",r=decodeURIComponent(t.get("redirectUrl")??""),i=JSON.stringify({identityJwt:s,walletconnect:a,walletconnectjs:n}),l=`${r}#redirectToken=${btoa(i)}`;window.location.href=l},[t]),e.jsx("div",{children:"Processing..."})},ih=()=>{const{marketLocation:t}=me(),{fsmStepResponse:s,hasLoaded:a}=Le();return c.useEffect(()=>{a&&da(s==null?void 0:s.currentStep)&&t==="US"?window.location.href=`${ke}/pay?redirectUrl=${encodeURIComponent(`${ke}/exchange`)}&product=Exchange`:window.location.href=`${ke}/exchange`},[a,s,t]),e.jsx(e.Fragment,{})},ad=t=>{const{children:s}=t;return e.jsx("div",{className:"flex justify-start items-center gap-x-8 py-3 px-8 secondary-nav text-xs",children:s})},ea=t=>{const{to:s,children:a,isActive:n}=t;return e.jsx(ki,{to:s,className:n?"font-bold gradient-text":"font-bold text-neutral-800 hover:text-neutral-250 transition-all",children:a})},lh=()=>{const{pathname:t}=Cs(),s=Fe(),{originalLicensingJurisdiction:a}=ae(pt),n=!s.IS_IRELAND_RESTRICTION_ENABLED||a!=="IRELAND",r=s.IS_LEND_ENABLED&&(!s.IS_IRELAND_RESTRICTION_ENABLED||a!=="IRELAND");return e.jsxs(ad,{children:[e.jsx(ea,{to:re.home(),isActive:t==="/home",children:"Portfolio"}),e.jsx(ea,{to:re.home("orders"),isActive:t===re.home("orders"),children:"Orders"}),e.jsx(ea,{to:re.home("transfers"),isActive:t===re.home("transfers"),children:"Transfers"}),n&&e.jsx(ea,{to:re.home("margin"),isActive:t===re.home("margin"),children:"Margin"}),r&&e.jsx(ea,{to:re.home("lending"),isActive:t===re.home("lending"),children:"Lending"})]})},oh=()=>{const{isAuthenticatedWithCookie:t}=ee();return t?null:e.jsxs("div",{className:"max-sm:p-2 w-full h-[160px] flex justify-center relative",children:[e.jsx("img",{className:"object-cover max-w-screen-portfolio w-full opacity-50 max-sm:rounded-md",src:"https://www.datocms-assets.com/119559/1725638563-coins.png",alt:"coins"}),e.jsx("div",{className:"h-[160px] hidden mobile:block absolute bg-gradient-to-r from-dark from-10% via-transparent via-50% to-dark to-90% w-full"}),e.jsxs("div",{className:"absolute px-10 flex-col gap-y-5 w-full h-[160px] flex items-center justify-center",children:[e.jsx("div",{className:"font-medium text-center text-white leading-6",children:"Sign up or log in and deposit crypto or funds to start trading"}),e.jsx(Ns,{})]})]})},dl=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:120,fill:"none",...t},c.createElement("path",{stroke:"#5A56EC",strokeDasharray:"3.53 3.53",d:"M35 101V77l20-4 20 6v22l-20 12-20-12ZM97 57l-16 9-11-22-5-23 16-9 16 9v36Z"}),c.createElement("path",{stroke:"#5A56EC",strokeDasharray:"3.53 3.53",d:"M55 67 36 77 21.15 65.666 15 43l20-11 20 12v23Z"}),c.createElement("path",{fill:"#5A56EC",d:"m33 77 22-11 20 13-20 12-22-14ZM81 66 65 56V21l16 9v36Z"}),c.createElement("path",{fill:"#5A56EC",d:"M36 79 15 67V43l21 12v24Z"}),c.createElement("path",{stroke:"#5A56EC",strokeDasharray:"3.53 3.53",d:"M55.23 88.17v23.717M80 31l17-10M33.14 56.558l21-12.124"})),nd=({columns:t,rows:s})=>e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"text-xs font-bold",children:e.jsx("tr",{className:"bg-neutral-50",children:t.map(a=>e.jsx("th",{className:"text-left pl-6 py-2",children:a},a))})}),e.jsx("tbody",{className:"divide-y divide-figma-neutral-dark",children:[...Array(s)].map((a,n)=>e.jsx("tr",{children:t.map(r=>e.jsx("td",{className:"text-left px-6 py-3",children:e.jsx("div",{className:"w-full h-4 bg-neutral-100 rounded-lg animate-pulse"})},r))},n))})]}),rd=({denom:t,handleWithdraw:s,handleDeposit:a,isDisabled:n,isWithdrawDisabled:r})=>e.jsx("div",{className:"flex flex-col gap-2",children:(()=>{switch(t){case"HASH":return e.jsxs(e.Fragment,{children:[e.jsx(T.Primary,{className:"w-40",onPress:a,isDisabled:n,children:"Commit"}),e.jsx(T.Secondary,{className:"w-40",onPress:s,isDisabled:n,children:"Uncommit"})]});default:return e.jsxs(e.Fragment,{children:[e.jsx(T.Primary,{className:"w-40",onPress:a,isDisabled:n,children:"Deposit"}),e.jsx(T.Secondary,{className:"w-40",onPress:s,isDisabled:n||r,children:"Withdraw"})]})}})()}),id=({balance:t,balanceQuantity:s,quoteDenom:a,denom:n})=>{const{getAsset:r}=Te(),i=r(n);return i?e.jsxs("div",{className:"flex flex-col md:gap-2",children:[e.jsx("h5",{className:"font-bold max-sm:text-sm",children:"My Balance"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"font-extralight max-sm:text-xl text-3xl",children:St(t,2,{minDigits:!0})}),e.jsx(Z,{className:"md:ml-2",size:"xxs",variant:"coin",children:a})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"w-5 h-5 mr-1",coin:n,displayName:n}),e.jsxs("p",{className:"text-neutral-400",children:[St(s,i.displayExponent,{minDigits:!0})," ",n]})]})]}):null},ch=({denom:t,cashEquivalentPosition:s,handleDeposit:a,handleWithdraw:n,isDisabled:r})=>e.jsx("div",{className:"py-4 mt-4 w-full rounded-[10px] border-[1px] border-neutral-100",children:e.jsxs("div",{className:"max-sm:px-2 px-4 flex justify-between items-center",children:[e.jsx(id,{balance:s.balance,balanceQuantity:s.balance,quoteDenom:t,denom:t}),e.jsx(rd,{handleDeposit:a,handleWithdraw:n,denom:t,isDisabled:r,isWithdrawDisabled:s.tradingPower===0})]})}),dh=({denom:t,assetPosition:s,uncommittedAsset:a,market:n,handleDeposit:r,handleWithdraw:i,isDisabled:l})=>{const{marketBaseCurrency:o}=me();return e.jsxs("div",{className:"py-4 mt-4 w-full rounded-[10px] border-[1px] border-neutral-100",children:[e.jsxs("div",{className:"max-sm:px-2 px-4 flex justify-between items-center",children:[e.jsx(id,{balance:I(s.balance).mul(n.lastTradedPrice).toNumber(),balanceQuantity:s.balance,quoteDenom:o,denom:t}),e.jsx(rd,{handleDeposit:r,handleWithdraw:i,denom:t,isDisabled:l,isWithdrawDisabled:s.tradingPower===0})]}),t==="HASH"&&e.jsxs("div",{className:"pt-4 max-sm:px-2 px-4 mt-4 md:flex md:justify-between md:gap-8 md:items-center border-t-[1px] border-neutral-100",children:[e.jsxs("div",{className:"md:basis-1/2",children:[e.jsx("h5",{className:"max-sm:text-xs text-sm font-bold",children:"Committed"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"font-extralight md:text-xl",children:St(s.balance,6,{minDigits:!0})}),e.jsx(Z,{className:"md:ml-2",size:"xxs",variant:"coin",children:"HASH"})]}),e.jsx("p",{className:"text-xs text-neutral-300 mt-2",children:"The amount of HASH balance that is available to trade, or use as collateral for borrowing."})]}),e.jsxs("div",{className:"md:basis-1/2 max-sm:mt-4",children:[e.jsx("h5",{className:"max-sm:text-xs text-sm font-bold",children:"Uncommitted"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"font-extralight md:text-xl",children:St((a==null?void 0:a.quantity)??0,6,{minDigits:!0})}),e.jsx(Z,{className:"md:ml-2",size:"xxs",variant:"coin",children:"HASH"})]}),e.jsx("p",{className:"text-xs text-neutral-300 mt-2",children:"The amount of HASH balance that is available to stake or P2P transfer."})]})]})]})},Zr="text-xs font-semibold text-[#DDDDDD]",Gr="text-xs text-neutral-300",uh=({currentMarket:t,denom:s,orders:a,setOrder:n,handleOpenSingleCancelOrder:r,handleOpenCancelAllOrders:i})=>{const{getAsset:l}=Te(),{cancelInProgressOrderIds:o}=ae(Y1),u=a.filter(d=>d.state!=="CANCELED"&&!o.includes(d.orderId));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mt-8",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Open Orders"}),e.jsx(ki,{to:re.trade(t==null?void 0:t.symbol.toLowerCase(),"orders"),className:"text-xs font-bold text-primary-500",children:"View All Orders"})]}),e.jsxs("div",{className:"mt-4 border-[1px] w-full rounded-[10px] border-neutral-100",children:[e.jsxs("div",{className:"grid max-sm:grid-cols-3 grid-cols-6 bg-neutral-100 p-3 rounded-tl-[10px] rounded-tr-[10px]",children:[e.jsx("p",{className:"font-bold text-xs",children:"Market"}),e.jsx("p",{className:"font-bold text-xs",children:"Created"}),e.jsx("p",{className:"font-bold text-xs",children:"Side"}),e.jsx("p",{className:"font-bold text-xs justify-self-end max-sm:hidden",children:"Price"}),e.jsx("p",{className:"font-bold text-xs justify-self-end max-sm:hidden",children:"Amount / Filled"}),u.length>0?e.jsx(Y,{className:"font-bold text-xs text-negative-300 max-sm:hidden justify-self-end outline-none",onPress:()=>i(!0),children:"Cancel All"}):e.jsx(e.Fragment,{})]}),a.map(d=>{var x;return e.jsxs("div",{className:"grid max-sm:grid-cols-3 grid-cols-6 items-center px-4 py-2 border-t-[1px] border-neutral-100",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ue,{coin:s}),e.jsxs("div",{children:[e.jsx("p",{className:Zr,children:((x=l(s))==null?void 0:x.displayName)??"Unknown"}),e.jsx("p",{className:Gr,children:d.marketDisplayName})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:Zr,children:new Date(d.created).toLocaleTimeString("en-US")}),e.jsx("p",{className:Gr,children:new Date(d.created).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}),e.jsx("div",{children:Ca(d)?e.jsx(Z,{className:"w-[40px]",variant:"negative",size:"xs",children:"Sell"}):e.jsx(Z,{className:"w-[40px]",variant:"positive",size:"xs",children:"Buy"})}),e.jsx("div",{className:"justify-self-end max-sm:hidden",children:e.jsx("p",{className:"text-xs text-[#DDDDDD]",children:e.jsx(V,{value:d.price,currencySymbol:d.priceDenom,decimalPlaces:t==null?void 0:t.pricePrecision})})}),e.jsxs("div",{className:"justify-self-end text-right max-sm:hidden",children:[e.jsx("p",{className:Zr,children:d.quantity}),e.jsx("p",{className:Gr,children:d.filledQuantity})]}),e.jsx("div",{className:"justify-self-end max-sm:hidden items-center flex",children:["NEW","PARTIALLY_FILLED"].includes(d.state)?e.jsx(Y,{className:"outline-none",onPress:()=>{n(d),r(!0)},isDisabled:o.includes(d.orderId),children:o.includes(d.orderId)?e.jsx("div",{className:"h-4 w-4",children:e.jsx(ve,{white:!0})}):e.jsx(Ln,{})}):e.jsx(e.Fragment,{})})]},d.orderId)})]})]})},zr="rounded-[10px] bg-[#161B24] grow flex flex-col items-center justify-between p-4 basis-1/3",Kr="text-center text-xs font-bold",Yr="text-neutral-300 text-center text-xs mt-2",mh=({denom:t,handleViewOrders:s,handleViewTransfers:a,handleTradeSpot:n})=>e.jsxs("div",{className:"flex max-sm:flex-col gap-4 justify-between items-stretch mt-4",children:[e.jsxs("div",{className:zr,children:[e.jsxs("div",{children:[e.jsx("p",{className:Kr,children:"Spot Trading"}),e.jsx("p",{className:Yr,children:"Advanced spot exchange including up to 5:1 leverage using margin"})]}),e.jsx(T.Primary,{className:"w-[124px] mt-4",onPress:n,children:"Trade Spot"})]}),!["USD","USDC","USDT"].includes(t)&&e.jsxs("div",{className:zr,children:[e.jsxs("div",{children:[e.jsx("p",{className:Kr,children:"Order History"}),e.jsx("p",{className:Yr,children:"Review your entire order and fills history"})]}),e.jsx(T.Secondary,{className:"w-[124px] mt-4 bg-transparent",onPress:s,children:"View All"})]}),e.jsxs("div",{className:zr,children:[e.jsxs("div",{children:[e.jsx("p",{className:Kr,children:"Transfer History"}),e.jsx("p",{className:Yr,children:"Review your entire transfer history including commit and uncommit transactions"})]}),e.jsx(T.Secondary,{className:"w-[124px] mt-4 bg-transparent",onPress:a,children:"View All"})]})]}),xh=t=>{var D;const{cashEquivalentPosition:s,assetPosition:a,market:n,uncommittedAsset:r,isOpen:i,selectedDenom:l,onClose:o}=t,u=X(),d=Ye(),x=Fe(),{data:m}=Te(),[f,p]=c.useState([]),[g,h]=c.useState(!1),[b,j]=c.useState(!1),[y,C]=c.useState(),w=!!(n!=null&&n.id)&&!!l&&(m==null?void 0:m.crypto.find(({name:M})=>M===l)),{orders:N,openOrders:v,isLoading:A}=cl({size:100,status:["NEW","PARTIALLY_FILLED"],baseAsset:l}),{mutateAsync:E}=Tc(),{mutateAsync:P}=Yi();c.useEffect(()=>{if(f.length===0)return;const M=N.filter(B=>f.includes(B.orderId)&&B.state==="CANCELED").map(({orderId:B})=>B);M.length>0&&p(B=>B.filter(_=>!M.includes(_)))},[N,f]);const L=c.useCallback(async(M,B)=>{u(nn.handleCancelOrder(M));try{await P({path:{orderId:M,symbol:B}})}catch{}},[P,u]),O=c.useCallback(async M=>{if(M)try{v.forEach(B=>{u(nn.handleCancelOrder(B.orderId))}),await E({requestBody:{baseAsset:M}})}catch{}},[E,v,u]),W=()=>{l!=="LRWA"&&u(te.open(l))},$=()=>{l!=="LRWA"&&u(J.open(l))},{getAsset:R}=Te();return e.jsxs(c1,{isOpen:i,onClose:o,ariaLabel:"Connect a Wallet",useChildrenWidth:!0,children:[e.jsxs("div",{className:"md:w-[690px]",children:[l&&e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ue,{className:"w-6 h-6 mr-3",coin:l,displayName:l}),e.jsx("h2",{className:"text-3xl font-extralight",children:((D=R(l))==null?void 0:D.displayName)??"Unknown"})]}),l&&a&&n&&e.jsx(dh,{market:n,denom:l,assetPosition:a,uncommittedAsset:r,handleDeposit:W,handleWithdraw:$,isDisabled:x.BLOCKCHAIN_MAINTENANCE}),l&&s&&e.jsx(ch,{denom:l,cashEquivalentPosition:s,handleDeposit:W,handleWithdraw:$,isDisabled:x.BLOCKCHAIN_MAINTENANCE}),w?A?e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"m-6 w-12 h-12",children:e.jsx(ve,{})})}):n&&v.length>0?e.jsx(uh,{currentMarket:n,orders:v.slice(0,4),denom:l,setOrder:C,cancelInProgressOrderIds:f,handleOpenSingleCancelOrder:h,handleOpenCancelAllOrders:j}):e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{}),l&&e.jsx(mh,{denom:l,handleTradeSpot:()=>{var M;return d(re.trade((M=n==null?void 0:n.id)==null?void 0:M.toLowerCase()))},handleViewOrders:()=>d(re.home("orders")),handleViewTransfers:()=>d(re.home("transfers"))})]}),e.jsx(vr,{isOpen:g,onClose:()=>h(!1),currentMarket:n,orderDetails:[{orderId:String(y==null?void 0:y.orderId),price:String(y==null?void 0:y.price),quantity:String(y==null?void 0:y.quantity),remainingQuantity:String(y==null?void 0:y.remainingQuantity),state:y==null?void 0:y.state}],onCancelOrder:()=>L(String(y==null?void 0:y.orderId),String(y==null?void 0:y.symbol))}),e.jsx(wr,{isOpen:b,onClose:()=>j(!1),cancelOrderCount:Number(N.length),onCancelAllOrders:()=>O(l)})]})},hh=.8,fh=.85,ph=.9,ld=t=>t<hh?"healthy":t<fh?"unhealthy":t<ph?"warning":"liquidation",ul=()=>{const{marketBaseCurrency:t}=me(),{positions:s,isLoading:a}=ft(),{data:n,isLoading:r}=Et();return{isLoading:r||a,totalAssets:!s||!n?0:[...(s==null?void 0:s.assetPositions)||[],...(s==null?void 0:s.cashEquivalentPositions)||[],...(s==null?void 0:s.uncommittedCashEquivalents)||[]].reduce((l,o)=>{const u=n==null?void 0:n.data.find(d=>d.denom==o.denom&&d.quoteDenom==t);return l+Number(I(o.balance).mul((u==null?void 0:u.midMarketPrice)??(u==null?void 0:u.lastTradedPrice)??1))},0)}},gh=t=>t>0?"text-figma-positive":t<0?"text-figma-alert":"text-figma-neutral",jh=({loan:t})=>{const{marketBaseCurrency:s}=me(),{getAsset:a}=Te(),n=a(t.currency),{positions:r}=ft(),i=ld((r==null?void 0:r.ltv)||0),l=i==null?void 0:i.toUpperCase();let o="",u="neutral";switch(i){case"healthy":o="text-s-400",u="positive";break;case"unhealthy":o="text-notice-750",u="notice";break;default:o="text-negative-300",u="negative"}return n?e.jsxs("div",{className:"md:w-[690px]",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ue,{className:"w-6 h-6 mr-3",coin:n.name}),e.jsx("h2",{className:"text-3xl font-extralight",children:`${n.name} Margin`})]}),e.jsxs("div",{className:"mt-4 w-full rounded-[10px] border-[1px] border-neutral-100",children:[e.jsxs("dl",{className:"flex flex-col border-b border-neutral-100 p-4",children:[e.jsx("dt",{className:"font-bold max-sm:text-sm",children:"My Balance"}),e.jsxs("dd",{children:[e.jsxs("div",{className:"flex items-center mb-0.5",children:[e.jsx("p",{className:"font-extralight max-sm:text-xl text-3xl",children:St(t.balance,n.displayExponent)}),e.jsx(Z,{className:"md:ml-2",size:"xxs",variant:"coin",children:s})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"w-5 h-5 mr-1",coin:n.name}),e.jsx("p",{className:"text-neutral-400",children:xe(t.balance,!0,!1,2,s)})]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 pb-4 border-b border-neutral-100",children:[e.jsxs("dl",{className:"flex flex-col gap-y-0.5",children:[e.jsx("dt",{className:"text-sm font-bold",children:"Est. Next Period APR"}),e.jsxs("dd",{className:"font-extralight text-xl flex items-center",children:[`${(t.rateRange.minRate*100).toFixed(1)}-${(t.rateRange.maxRate*100).toFixed(1)}%`," "]})]}),e.jsxs("dl",{className:"flex flex-col gap-y-0.5",children:[e.jsx("dt",{className:"text-sm font-bold",children:"LTV %"}),e.jsxs("dd",{className:`font-extralight text-xl flex items-center ${o}`,children:[`${(((r==null?void 0:r.ltv)||0)*100).toFixed(2)}%`," ",e.jsx(Z,{className:"md:ml-2",size:"xxs",variant:u,children:l})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 pt-4",children:[e.jsxs("dl",{className:"flex flex-col gap-y-0.5",children:[e.jsx("dt",{className:"text-sm font-bold",children:"Pre-Liquidation Warning"}),e.jsx("dd",{className:"font-extralight text-xl",children:"85%"})]}),e.jsxs("dl",{className:"flex flex-col gap-y-0.5",children:[e.jsx("dt",{className:"text-sm font-bold",children:"Liquidation"}),e.jsx("dd",{className:"font-extralight text-xl",children:"90%"})]})]})]})]})]}):null},bh=({loan:t,onClose:s})=>e.jsx(c1,{isOpen:!!t,ariaLabel:"Loan details",onClose:s,useChildrenWidth:!0,children:t&&e.jsx(jh,{loan:t})}),yh=()=>{var d,x;const{positions:t}=ft(),{marketBaseCurrency:s}=me(),a=Ye(),{isMarginEnabled:n,onToggleMarginTrading:r}=at(),{hasKrangBlocker:i}=Le(),[l,o]=c.useState(void 0),{getAsset:u}=Te();return e.jsxs(es,{id:"LOANS",className:"border-b border-x border-figma-neutral-dark rounded-b-lg overflow-hidden",children:[e.jsx(bh,{loan:l,onClose:()=>o(void 0)}),((d=t==null?void 0:t.loanBalances)==null?void 0:d.length)!==0?e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-neutral-50",children:[e.jsx("th",{className:"text-left px-6 py-2",children:"Currency"}),e.jsx("th",{className:"text-right px-6 py-2",children:"Est. Next Period APR"}),e.jsx("th",{className:"text-right px-6 py-2",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-figma-neutral-dark",children:(x=t==null?void 0:t.loanBalances)==null?void 0:x.map(m=>{const f=u(m.currency);return f?e.jsxs("tr",{tabIndex:0,className:"hover:cursor-pointer hover:bg-figma-neutral-dark",onClick:()=>o(m),children:[e.jsx("td",{className:"text-left px-6 py-2 w-[33%]",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{coin:f.name,className:"w-5 h-5 mr-2"}),e.jsx("p",{children:`${f.name} Margin`})]})}),e.jsx("td",{className:"text-right px-6 py-2 w-[33%]",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("p",{className:"",children:`${(m.rateRange.minRate*100).toFixed(1)}-${(m.rateRange.maxRate*100).toFixed(1)}%`})})}),e.jsx("td",{className:"text-right px-6 py-2",children:e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"",children:St(m.balance,f.displayExponent,{minDigits:!0})}),e.jsx("p",{className:"",children:xe(m.balance,!0,!1,2,s)})]})})]},m.currency):null})})]}):n?e.jsx("div",{className:"min-h-[300px] flex justify-center items-center",children:e.jsx("p",{className:"text-sm text-figma-neutral",children:"No loans currently"})}):e.jsxs("div",{className:"min-h-[300px] flex flex-col justify-center items-center",children:[e.jsx(dl,{}),e.jsx("p",{className:"text-sm text-figma-neutral my-4 px-6",children:"Leverage your trades up to 5x with our spot margin."}),e.jsx(T.Secondary,{onPress:()=>{a(re.trade()),!i&&!n&&r()},children:"Get Started"})]})]})},Ch=()=>{var m,f,p;const[t,s]=c.useState(),{onLRWAManageModalOpen:a}=Ge(),{marketBaseCurrency:n}=me(),{data:r,isLoading:i}=Et(),{isLoading:l,positions:o}=ft(),u=c.useMemo(()=>[...(o==null?void 0:o.assetPositions)||[],...(o==null?void 0:o.cashEquivalentPositions)||[]],[o]),{getAsset:d,data:x}=Te();return e.jsxs(e.Fragment,{children:[e.jsx(es,{id:"ASSETS",className:"border-b border-x border-figma-neutral-dark rounded-b-lg overflow-hidden",children:i||l?e.jsx(nd,{columns:["Asset","Market Price","Position"],rows:5}):u.length===0?e.jsxs("div",{className:"min-h-[300px] flex flex-col justify-center items-center",children:[e.jsx(dl,{}),e.jsx("p",{className:"text-sm text-figma-neutral my-4",children:"You currently have no assets. They will appear here when you do."})]}):e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-neutral-50",children:[e.jsx("th",{className:"text-left px-2 mobile:px-6 py-2",children:"Asset"}),e.jsx("th",{className:"text-right px-6 py-2",children:"Market Price"}),e.jsx("th",{className:"text-right px-2 mobile:px-6 py-2",children:"Position"})]})}),e.jsx("tbody",{className:"divide-y divide-figma-neutral-dark",children:u.sort((g,h)=>x!=null&&x.allAssetsNames?x.allAssetsNames.indexOf(g.denom)-x.allAssetsNames.indexOf(h.denom):1).map(g=>{const h=d(g.denom),b=r==null?void 0:r.data.find(j=>j.denom===g.denom&&j.quoteDenom===n);return h?e.jsxs("tr",{tabIndex:0,className:"hover:cursor-pointer hover:bg-figma-neutral-dark",onClick:()=>{h.name==="LRWA"?a():s({denom:h.name,marketId:b==null?void 0:b.id})},children:[e.jsx("td",{className:"text-left px-2 mobile:px-6 py-2 w-[33%]",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{coin:h.name,className:"w-5 h-5 mr-2"}),e.jsx("p",{className:"font-semibold",children:h.displayName})]})}),e.jsx("td",{className:"text-right px-6 py-2 w-[33%]",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:xe((b==null?void 0:b.midMarketPrice)??(b==null?void 0:b.lastTradedPrice)??1,!0,!1,(b==null?void 0:b.pricePrecision)||2,n)}),e.jsx("p",{className:gh((b==null?void 0:b.percentageChange24h)||0),children:Oe((b==null?void 0:b.percentageChange24h)||0,2)})]})}),e.jsx("td",{className:"text-right px-2 mobile:px-6 py-2",children:e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{children:St(g.balance,h.displayExponent,{minDigits:!0})}),e.jsx("p",{className:"text-figma-neutral",children:xe(`${I(g.balance).mul((b==null?void 0:b.midMarketPrice)??(b==null?void 0:b.lastTradedPrice)??1)}`,!0,!1,2,n)})]})})]},g.denom):null})})]})}),t&&e.jsx(xh,{isOpen:!!t,selectedDenom:t==null?void 0:t.denom,cashEquivalentPosition:(m=o==null?void 0:o.cashEquivalentPositions)==null?void 0:m.find(g=>g.denom===t.denom),assetPosition:(f=o==null?void 0:o.assetPositions)==null?void 0:f.find(g=>g.denom===t.denom),uncommittedAsset:(p=o==null?void 0:o.uncommittedAssets)==null?void 0:p.find(g=>g.denom===t.denom.toLowerCase()),market:r==null?void 0:r.data.find(g=>g.denom===t.denom&&g.quoteDenom===n),onClose:()=>s(void 0)})]})},io=({id:t,value:s,display:a,fullWidth:n})=>{const{isLoading:r}=ul(),{marketBaseCurrency:i}=me();return e.jsxs(uo,{className:k(n?"w-full":"w-[50%]","group cursor-pointer transition-all outline-none outline-offset-0","py-2 px-2 mobile:px-6","selected:bg-gradient-to-t from-[#1C2434]","selected:shadow-[0_-2px_0_0_#5A56EC_inset]"),id:t,children:[e.jsx("span",{className:"block text-sm font-bold group-selected:text-p-500 transition-all",children:a}),e.jsx("div",{className:"flex min-h-[24px] items-center break-all my-1",children:r?e.jsx("div",{className:"w-full h-4 bg-neutral-100 rounded-lg animate-pulse"}):e.jsxs(e.Fragment,{children:[St(s,2,{minDigits:!0}),e.jsx(Z,{size:"xxs",variant:"neutral",className:"mx-1.5 group-selected:hidden",children:i}),e.jsx(Z,{size:"xxs",variant:"primary",className:"mx-1.5 hidden group-selected:block",children:i})]})})]})},Nh=()=>{const{positions:t}=ft(),{totalAssets:s}=ul(),{isMarginEnabled:a}=at(),n=a;return e.jsxs(mr,{children:[e.jsxs(xr,{className:"flex border-x border-t border-figma-neutral-dark rounded-t-lg","aria-label":"Price and Details",children:[e.jsx(io,{id:"ASSETS",value:s,display:"Assets",fullWidth:!n}),n&&e.jsx(io,{id:"LOANS",value:(t==null?void 0:t.totalLoanValue)||0,display:"Loans"})]}),n&&e.jsx(yh,{}),e.jsx(Ch,{})]})},wh=()=>{var p;const{isAuthenticatedWithCookie:t}=ee(),{hasKrangBlocker:s}=Le(),{positions:a,isLoading:n}=ft(),r=X(),i=Fe(),{totalAssets:l,isLoading:o}=ul(),{marketBaseCurrency:u}=me(),d=()=>{r(te.open())},x=()=>{r(J.open())};if(!t)return null;const m=((p=a==null?void 0:a.loanBalances)==null?void 0:p.reduce((g,h)=>g+h.balance,0))??0,f=a!=null&&a.totalOfferValue?Number(a.totalOfferValue):0;return e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx("p",{className:"text-sm font-bold",children:"Portfolio Balance"}),e.jsx(Me,{heading:"How portfolio balance is calculated",component:e.jsxs("div",{className:"text-xs flex flex-col gap-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{children:"Your assets"}),e.jsx("p",{children:xe(l,!0,!0,2,u)})]}),e.jsxs("div",{className:"pb-2",children:[e.jsx("div",{className:"rounded-full p-2 w-[18px] h-[18px] bg-figma-neutral-dark flex justify-center items-center",children:e.jsx("p",{className:"text-figma-neutral",children:"-"})}),e.jsx("hr",{className:"text-figma-neutral-dark border-dashed mt-[-9px]"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{children:"Your loans"}),e.jsx("p",{children:xe(m,!0,!0,2,u)})]}),i.IS_LEND_ENABLED?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"pb-2",children:[e.jsx("div",{className:"rounded-full p-2 w-[18px] h-[18px] bg-figma-neutral-dark flex justify-center items-center",children:e.jsx("p",{className:"text-figma-neutral",children:"+"})}),e.jsx("hr",{className:"text-figma-neutral-dark border-dashed mt-[-9px]"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{children:"Your offers"}),e.jsx("p",{children:xe(f,!0,!0,2,u)})]})]}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"pb-2",children:[e.jsx("div",{className:"rounded-full p-2 w-[18px] h-[18px] bg-figma-neutral-dark flex justify-center items-center",children:e.jsx("p",{className:"text-figma-neutral",children:"="})}),e.jsx("hr",{className:"text-figma-neutral-dark border-dashed mt-[-9px]"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{children:"Net equity"}),e.jsx("p",{children:xe(l-m+f,!0,!0,2,u)})]})]})}),e.jsx("p",{className:"text-xs text-figma-neutral",children:"Today"})]}),e.jsx("div",{className:"flex gap-x-1 items-center",children:n||o?e.jsx("div",{className:"w-full h-10 bg-neutral-100 rounded-lg animate-pulse"}):a?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-3xl font-extralight",children:he(l-m+f,2,!0)}),e.jsx(Z,{size:"xs",className:"ml-1",variant:"coin",children:u})]}):"-"})]}),!s&&e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(T.Primary,{onPress:d,isDisabled:i.BLOCKCHAIN_MAINTENANCE,children:"Deposit Assets"}),e.jsx(T.Secondary,{onPress:x,isDisabled:i.BLOCKCHAIN_MAINTENANCE,children:"Withdraw Assets"})]})]})},vh=t=>c.createElement("svg",{width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"M10.1158 2.5L6.61575 6.00007",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"square",strokeLinejoin:"round"}),c.createElement("path",{d:"M5.61578 2H2.61578V10H10.6158V7",stroke:"currentColor",strokeWidth:1.5}),c.createElement("path",{d:"M7.61578 2H10.6158V5",stroke:"currentColor",strokeWidth:1.5})),Lh=t=>e.jsxs("div",{className:"relative w-full max-h-full xl:h-48 rounded-lg border border-neutral-200 bg-neutral-50 p-6 flex flex-col md:flex-row gap-x-6 items-center justify-between",children:[e.jsx("div",{className:"absolute w-full z-50 top-8 right-10 md:top-4 md:right-4 text-right",children:e.jsx(T.Close,{onPress:()=>t.onClose(t.featureId)})}),e.jsxs("div",{className:Ke("flex flex-col  gap-y-2 gap-x-2 h-full","md:flex-row md:gap-y-0 md:gap-x-6 md:items-center md:justify-center md:w-full","lg:justify-start"),children:[t.newFeature&&e.jsx("div",{className:"absolute top-10 left-10 md:hidden py-0.5 px-1.5 bg-[#4AD119] rounded-3xl w-fit font-xxs mb-1",children:e.jsx("p",{className:"uppercase text-xxs font-bold text-s-600",children:"Now Available"})}),e.jsx("img",{src:"https://www.datocms-assets.com/119559/1732296678-marketslrwa-min-2.jpg",alt:"Figure Markets - Forward Vault",className:"h-full bg-black rounded-lg w-auto aspect-square max-w-[120px] max-h-[120px] flex-shrink md:block hidden"}),e.jsx("img",{src:"https://www.datocms-assets.com/119559/1726191282-marketslrwa-min.jpg",alt:"FRWD Banner",className:"w-full h-[156px] object-contain bg-black rounded-lg object-bottom md:max-h-[7.5rem] md:w-fit md:hidden "}),e.jsxs("div",{className:"flex flex-col mt-2 md:mt-0 md:text-left text-center",children:[t.newFeature&&e.jsx("div",{className:"hidden md:block py-0.5 px-1.5 bg-[#4AD119] rounded-3xl w-fit font-xxs mb-1",children:e.jsx("p",{className:"uppercase text-xxs font-bold text-s-600",children:"Now Available"})}),e.jsx("p",{className:"text-base font-extralight pb-px 2xl:text-3xl xl:text-2xl md:text-xl sm:text-lg",children:t.title}),e.jsx("p",{className:"text-sm text-neutral-300",children:t.description})]})]}),e.jsxs(T.Secondary,{onPress:t.onPress,className:"w-full md:w-fit mt-4 md:mt-0 flex-shrink-0 flex gap-x-1 items-center justify-center",children:[t.buttonText,t.buttonShowExternalLinkIcon&&e.jsx(vh,{className:"w-4 h-4"})]})]}),Wn=({children:t,className:s})=>e.jsx("div",{className:k("flex flex-col justify-center gap-y-0.5 pl-4 pt-4 md:pt-0",s),children:t}),Eh=({status:t})=>e.jsx("div",{className:k("w-fit py-0.5 px-[0.313rem] rounded-[2.941px] uppercase font-bold text-xxs bg-figma-positive-dark text-figma-positive",t==="pending review"&&"bg-notice-750 text-dark",t==="sweep disabled"&&"bg-neutral-100 text-neutral-300 outline-neutral-300 outline-dashed border-px"),children:e.jsx("p",{className:"text-xxs",children:t})}),Sh=({onLRWAManageModalOpen:t,balances:s})=>{const{status:a}=Ge(),n=a==="pending review";return e.jsxs("div",{className:"relative w-full rounded-lg border border-neutral-200 bg-neutral-50 p-4 flex flex-col gap-y-4",children:[e.jsxs("div",{className:"flex gap-x-4 justify-between md:items-center pb-4 border-b border-neutral-100",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 md:items-center",children:[e.jsxs("div",{className:"flex gap-x-1 pb-3 md:pb-0 items-center",children:[e.jsx(ma,{}),e.jsx("p",{className:"font-semibold text-sm md:text-xl pr-1 pb-1 md:pb-0",children:"Figure Markets Forward Vault"})]}),e.jsx(Eh,{status:a})]}),!n&&e.jsx(T.Secondary,{onPress:t,className:"bg-neutral-50 h-fit px-10",children:"Manage"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-y-4 md:gap-y-0 divide-y md:divide-y-0 md:divide-x divide-neutral-100 h-fit w-full",children:[e.jsxs(Wn,{className:"md:pl-0 pt-0",children:[e.jsxs("p",{className:"text-sm font-bold flex gap-x-1 items-center",children:["Balance",e.jsx(Me,{className:"max-w-[257px]",iconClassname:"flex flex-start",description:"Cash is swept daily at 9AM ET.",closeDelay:0})]}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx("p",{className:"font-extralight text-xl",children:n?"- -":xe(Number((s==null?void 0:s.balance)||0),!0,!1,2," ")}),e.jsx(Z,{size:"xxs",variant:"coin",children:"USDC"})]}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx(ma,{className:"size-4"}),e.jsxs("p",{className:"text-xs text-neutral-300",children:[n?"- -":(s==null?void 0:s.balance)||0," FRWD"]})]})]}),e.jsxs(Wn,{children:[e.jsxs("p",{className:"text-sm font-bold flex gap-x-1 items-center",children:["Current yield",e.jsx(Me,{className:"max-w-[257px]",iconClassname:"flex flex-start",description:s!=null&&s.currentYieldRate?"Current yield is updated every business day, shortly after the SOFR is published at approximately 8AM ET.":"Rate is under maintenance and not available at this time. Our team is working on an update. Please check back later.",closeDelay:0})]}),e.jsxs("p",{className:"font-extralight text-xl",children:[(s==null?void 0:s.currentYieldRate)||"--","%"]})]}),e.jsxs(Wn,{className:"mr-4",children:[e.jsxs("p",{className:"text-sm font-bold flex gap-x-1 items-center",children:["Accrued yield MTD"," ",e.jsx(Me,{className:"max-w-[257px]",iconClassname:"flex flex-start",description:"The amount of yield your FRWD position has earned this month.",closeDelay:0})]}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx("p",{className:"font-extralight text-xl",children:n?"- -":xe(Number((s==null?void 0:s.yieldAccrued)||0),!0,!1,2," ")}),e.jsx(Z,{size:"xxs",variant:"coin",children:"FRWD"})]})]}),e.jsxs(Wn,{children:[e.jsxs("p",{className:"text-sm font-bold flex gap-x-1 items-center",children:["Total yield YTD"," ",e.jsx(Me,{className:"max-w-[257px]",iconClassname:"flex flex-start",description:"The total amount of yield that has been distributed as FRWD to you this year.",closeDelay:0})]}),e.jsxs("div",{className:"flex gap-x-1 items-center",children:[e.jsx("p",{className:"font-extralight text-xl",children:n?"- -":xe(Number((s==null?void 0:s.totalYieldEarned)||0),!0,!1,2," ")}),e.jsx(Z,{size:"xxs",variant:"coin",children:"FRWD"})]})]})]})]})},Ah=()=>{const{isAuthenticatedWithCookie:t}=ee(),s=Fe(),{hasLoaded:a}=Le(),{licensingJurisdictionsWithAcknowledgedExit:n,licensingJurisdictionsWithAcceptedConsents:r,currentLicensingJurisdiction:i}=ae(pt),l=X(),{shouldShowLRWABanner:o,shouldShowLRWAWidget:u,onLRWASignUpModalOpen:d,onLRWAManageModalOpen:x,balances:m,LRWAYield:f,onDismiss:p}=Ge(),g=()=>{const N=window.localStorage.getItem(gi);return N?JSON.parse(N):[]},h=g(),[b,j]=c.useState(Ur.filter(N=>!h.includes(N))),y=N=>{Ur.includes(N)||console.warn("featureId not applicable");const v=g(),A=JSON.stringify([...v,N]);window.localStorage.setItem(gi,A);const E=g();j(Ur.filter(P=>!E.includes(P)))},C=nl.find(N=>s.IS_IRELAND_RESTRICTION_ENABLED&&N.featureId===Ga.SWEEP&&N.originalLicensingJurisdiction===i&&!n.includes(N.requiredLicensingJurisdiction)&&!r.includes(N.requiredLicensingJurisdiction)),w=()=>{C?l(ss.setDestinationFeature({name:C.featureDisplayName,licensingJurisdiction:C.requiredLicensingJurisdiction,onContinue:()=>{d()}})):d()};if(!t||!a)return null;if(u)return e.jsx(Sh,{onLRWAManageModalOpen:x,balances:m});if(b.length>0){const N=b[0];switch(N){case"LRWA":return o?e.jsx(Lh,{icon:e.jsx("img",{src:"https://www.datocms-assets.com/119559/1726191282-marketslrwa-min.jpg",alt:"FRWD Banner",className:"h-[120px] w-[120px] object-contain"}),title:`Figure Markets — Forward Vault, earn up to ${f||"8"}% APY on stablecoins`,description:`Up to ${f||"8"}% APY — backed by real-world assets, why let your stablecoins sit idle?`,buttonText:"Start Earning",onPress:w,onClose:()=>{p(!0),y(N)},buttonShowExternalLinkIcon:!!C,newFeature:!0,featureId:"LRWA"}):null}}return null},Dh=t=>{const{data:s,...a}=b3({...t});return{data:s?{totalPortfolioValue:Number(s.totalPortfolioValue),cashEquivalentBalance:Number(s.cashEquivalentBalance),totalAssetValue:Number(s.totalAssetValue),balanceHistory:s.balanceHistory.map(n=>({date:n.date,totalPortfolioValue:Number(n.totalPortfolioValue),cashEquivalentBalance:Number(n.cashEquivalentBalance),totalAssetValue:Number(n.totalAssetValue)}))}:void 0,...a}},Th={line:{stroke:"#93A0C2",strokeWidth:"1"},text:{fill:"#93A0C2",fontWeight:700,fontSize:"10px"}},Ph=({balanceHistory:t,currency:s})=>{const[a,{width:n=0,height:r=0}]=ur(),[i,l]=c.useState(),o=c.useMemo(()=>{var f;return((f=t.map(p=>p.totalPortfolioValue).reduce((p,g,h)=>(Number(g)>0&&p.push(h),p),[]))==null?void 0:f[0])||0},[t]),u=c.useMemo(()=>t.reduce((f,p,g)=>(o>g||f.push({x:new Date(p.date).getTime(),y:Number(p.totalPortfolioValue),original:p}),f),[]),[o,t]),d=c.useMemo(()=>{const f=Math.ceil(u.length/6);return u.map(p=>p.x).filter((p,g)=>g%f===0)},[u]);let x=0,m=100;if(u.length){const f=Math.max(...u.map(b=>b.y));m=I(f).mul(.2).add(f).toNumber();const p=Math.min(...u.map(b=>b.y)),g=I(p).mul(.2),h=I(p).sub(g);x=Number(h)}return e.jsx("div",{className:"mobile:block relative h-auto min-h-48 w-full",ref:a,children:e.jsxs(bo,{stackBy:"y",height:r,width:n,margin:{left:Lt()?20:25,right:Lt()?10:0,bottom:30},yDomain:[x,m],onMouseLeave:()=>{l(void 0)},dontCheckIfEmpty:!0,children:[e.jsx(yo,{style:{stroke:"#93A0C2",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"2, 5"}}),e.jsx(Co,{style:{stroke:"#93A0C2",strokeWidth:"2",strokeOpacity:"0.3",strokeDasharray:"2, 5"}}),e.jsx(No,{attr:"x",attrAxis:"y",orientation:"bottom",style:Th,tickFormat:(f,p)=>{var j,y,C;const g=new Date(f),h=g.toLocaleDateString("en-US",{day:"2-digit",timeZone:"UTC"});return(Lt()?p===d.length-1:p===0||p===d.length-1)?`${(j=g.toLocaleDateString("en-US",{month:"short",timeZone:"UTC"}))==null?void 0:j.toUpperCase()} ${h} ${(y=g.toLocaleDateString("en-US",{year:"2-digit",timeZone:"UTC"}))==null?void 0:y.toUpperCase()}`:`${(C=g.toLocaleDateString("en-US",{month:"short",timeZone:"UTC"}))==null?void 0:C.toUpperCase()} ${h}`},tickSizeInner:0,tickTotal:d.length<10?d.length:10,tickValues:d}),e.jsx(Jr,{color:"#55B7A0",style:{strokeWidth:"1",fillOpacity:"0.25"},data:u,onNearestX:f=>{l(f)}}),i&&e.jsx(wo,{align:{horizontal:"auto",vertical:"top"},value:i,children:e.jsxs("div",{className:"relative w-full z-2 rounded p-3 mt-5 border-neutral-200 border-2 bg-neutral-white box-border text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-[#93A0C2] pr-3 leading-4",children:"Date"}),e.jsx("span",{className:"font-semibold text-neutral-800 leading-4",children:new Date(Number(i.x)).toLocaleDateString("en-US",{dateStyle:"medium",timeZone:"UTC"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold text-[#93A0C2] pr-3 leading-4",children:"Balance"}),e.jsx("span",{className:"font-semibold text-neutral-800 leading-4 tabular-nums",children:xe(String(i.y),!0,!0,2,s)})]})]})})]})})},kh=()=>{const{isAuthenticatedWithCookie:t,walletAddress:s}=ee(),{data:a,isLoading:n}=Dh({queryOptions:{enabled:t,refetchInterval:C5},walletAddress:s,query:{days:90}}),{marketBaseCurrency:r}=me();return t?e.jsx("div",{className:"w-full h-48 bg-neutral-white",children:!n&&a&&e.jsx(Ph,{balanceHistory:a.balanceHistory,currency:r})}):null},Ih=({title:t,description:s,image:a,cardTag:n})=>{const r=n==="NEW";return e.jsxs("div",{className:"py-xl border-b-[1px] border-figma-neutral-dark border-solid w-full flex flex-col sm:flex-row gap-x-4 gap-y-4",children:[e.jsxs("div",{className:"relative w-full sm:w-[255px] h-[143px] flex-shrink-0",children:[e.jsx("img",{src:a,alt:a,className:"w-full h-full object-cover object-center rounded-md"}),n&&e.jsx("div",{className:Ke("absolute top-2 right-2 px-1.5 py-0.5 font-bold text-xxs rounded-xl w-fit",r?"bg-figma-positive-light text-figma-positive-dark ":"bg-p-500 text-neutral-light"),children:r?"NEW":"COMING SOON"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm pb-2 font-bold",children:t}),e.jsx("span",{className:"text-sm text-figma-neutral",children:s})]})]})},Oh=({cardTag:t,title:s,description:a,image:n,url:r,isDisabled:i,onPress:l})=>{const o=t==="COMING_SOON",u=t==="NEW",d=o?"figma-dark border-dashed border-figma-neutral-dark border-[1px]":"bg-figma-neutral-darker hover:bg-figma-neutral-dark";return e.jsx(Y,{className:k("min-h-[270px] w-full rounded-lg p-lg flex outline-none",d,(l||r)&&"cursor-pointer"),onPress:()=>(l==null?void 0:l())||(r?window.location.href=r:{}),isDisabled:i||!r&&!l,children:e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n,alt:n,className:"w-full h-[156px] object-contain bg-black rounded-md object-bottom"}),t&&e.jsx("div",{className:Ke("absolute top-2 right-2 px-1.5 py-0.5 font-bold text-xxs rounded-xl w-fit",u?"bg-figma-positive-light text-figma-positive-dark ":"bg-p-500 text-neutral-light"),children:u?"NEW":"COMING SOON"})]}),e.jsxs("div",{className:"py-xl flex flex-col justify-start items-start self-stretch gap-y-1",children:[e.jsx("span",{className:k("text-sm font-bold",o?"text-figma-neutral":"text-figma-neutral-light"),children:s}),e.jsx("span",{className:"text-sm text-figma-neutral text-left",children:a})]})]})})},Mh=[{title:"Secure Crypto Trading with Decentralized MPC Wallets",description:e.jsxs("span",{children:["Figure Markets uses decentralized MPC custody wallets to hold your crypto when you trade. Read about why we believe MPC is the best custody option for trading"," ",e.jsx("a",{href:`${ke}/resources/whitepaper/delivering-on-the-potential-of-multi-party-computation-technology/`,className:"text-sm text-p-500 font-bold",children:"here."})]}),image:"https://www.datocms-assets.com/119559/1726255465-decentralized_mpc_wallet.png"}],_h=()=>{const{marketLocation:t}=me();return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm font-bold  pb-xl border-b border-b-neutral-100",children:"Learn"}),e.jsx("div",{className:"w-full h-full flex justify-start gap-4 flex-wrap",children:Mh.filter(({intendedMarketLocations:s})=>!s||s.includes(t)).map(s=>e.jsx(Ih,{...s},s.title))})]})},Rh=()=>{const{onToggleMarginTrading:t,isMarginEnabled:s,allowEnableMarginFeature:a}=at(),{positions:n}=ft(),r=ld((n==null?void 0:n.ltv)||0),i=r==null?void 0:r.toUpperCase();let l="",o="",u=20,d="Unhealthy",x="neutral";switch(r){case"healthy":o="bg-s-400",l="text-s-400",x="positive",u=20,d="Unhealthy: 80%";break;case"unhealthy":o="bg-notice-750",l="text-notice-750",x="notice",u=15,d="Warning: 85%";break;case"warning":o="bg-negative-300",l="text-negative-300",x="negative",u=10,d="Liquidation: 90%";break;default:o="bg-negative-300",l="text-negative-300",x="negative",u=10,d="Liquidation: 90%"}const m=((n==null?void 0:n.ltv)||0)*100,f=m>100?100:m;return a?e.jsxs(e.Fragment,{children:[e.jsx(S1,{}),e.jsx(v1,{}),e.jsx(L1,{cashEquivalence:n==null?void 0:n.cashEquivalentPositions}),e.jsxs("div",{className:"border border-figma-neutral-dark rounded-lg bg-gradient-to-t from-[#161B24] to-[rgba(22, 27, 36, 0)]",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center",children:[e.jsx("p",{className:"text-sm font-bold",children:"Margin Trading"}),e.jsx(r1,{checked:s,onMarginToggle:t,showLabel:!1})]}),s&&e.jsxs("div",{className:"border-t border-figma-neutral-dark pt-3 pb-4 px-4",children:[e.jsx("div",{className:"relative",children:e.jsxs("dl",{className:"flex",children:[e.jsx("dt",{className:"text-sm font-bold",children:"LTV: "}),e.jsxs("dd",{className:`text-sm font-bold flex items-center ${l}`,children:[`${m.toFixed(2)}%`," ",e.jsx(Z,{className:"ml-1.5",size:"xxs",variant:x,children:i})]})]})}),e.jsxs("div",{className:"h-[6px] rounded-full w-full bg-figma-neutral-dark my-4 relative",children:[e.jsx("div",{className:"absolute top-[-10px] w-[2px] h-[10px] bg-figma-neutral-dark z-10",style:{right:`${u}%`},children:e.jsx("p",{className:"absolute w-[200px] left-[-100px] flex justify-center top-[-20px] text-sm font-bold text-figma-neutral",style:{left:u===5?"-126px":"-100px"},children:d})}),e.jsx("div",{className:`absolute rounded-full h-full ${o}`,style:{width:`${f}%`}})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"100%"})]})]})]})]}):null},Fh=()=>{const t=Ye(),{isAuthenticatedWithCookie:s}=ee(),{IS_LEND_ENABLED:a,IS_IRELAND_RESTRICTION_ENABLED:n}=Fe(),{originalLicensingJurisdiction:r}=ae(pt),i=n&&r==="IRELAND",{shouldShowLRWAWidget:l,onLRWASignUpModalOpen:o,onLRWAManageModalOpen:u,onLRWAUnauthModalOpen:d,LRWABannerIsDismissed:x,LRWAYield:m}=Ge(),{onToggleMarginTrading:f,isMarginEnabled:p,onUnauthedModalOpen:g}=at(),{hasKrangBlocker:h}=Le(),b=x&&!l||!s?[{title:"Forward Vault",description:`Earn up to ${m||"8"}% APY on stablecoins, backed by real-world assets.`,cardTag:"NEW",image:"https://www.datocms-assets.com/119559/1726191282-marketslrwa-min.jpg",intendedMarketLocations:["CAYMAN","US"],onPress:()=>{s?x?o():l&&u():d()}}]:[],j=!s||!p?[{title:"Margin Trading",description:"Leverage your assets up to 5x with our spot margin. Available to qualified members only.",image:"https://www.datocms-assets.com/119559/1726191282-marketsmargin_trading-min.jpg",cardTag:i?"COMING_SOON":void 0,onPress:i?void 0:()=>{!s||h?g():(t(re.trade()),p||f())}}]:[];return[...b,...j,{title:"Democratized Prime",description:"Lend your cash for margin or term loans and set your own interest rates.",cardTag:i?"COMING_SOON":a?"NEW":"COMING_SOON",image:"https://www.datocms-assets.com/119559/1726191282-marketsdemocratized_prime-min.jpg",isDisabled:!a||i,onPress:i?void 0:()=>{a&&t(re.lendLearn())}}]},Uh=()=>{const{marketLocation:t}=me(),a=Fh().filter(({intendedMarketLocations:n})=>!n||n.includes(t)).sort((n,r)=>{const i=n.cardTag==="NEW"?1:n.cardTag==="COMING_SOON"?-1:0;return(r.cardTag==="NEW"?1:r.cardTag==="COMING_SOON"?-1:0)-i});return e.jsx(e.Fragment,{children:a.length?e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx("p",{className:"text-sm pb-xl font-bold border-b border-b-neutral-100",children:"More Ways to Invest"}),e.jsx("div",{className:"w-full grid grid-cols-cards gap-4",children:a.map(n=>e.jsx(Oh,{...n},n.title))})]}):e.jsx(e.Fragment,{})})},Bh=t=>t>0?"text-figma-positive":t<0?"text-figma-alert":"text-figma-neutral",Wh=t=>{var i;const{onMarketClick:s}=t,a=Et(),n=((i=a.data)==null?void 0:i.data)??[],{getAsset:r}=Te();return e.jsxs("div",{className:"w-full flex flex-col gap-y-4",children:[e.jsx("p",{className:"text-sm font-bold",children:"All Markets"}),e.jsxs("div",{className:"border border-figma-neutral-dark rounded-lg overflow-hidden",children:[a.isLoading&&e.jsx(nd,{columns:["Market","Market Price","24h Volume"],rows:5}),!a.isLoading&&e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-neutral-50",children:[e.jsx("th",{className:"text-left pl-2 mobile:pl-6 py-2",children:"Market"}),e.jsx("th",{className:"text-right py-2",children:"Market Price"}),e.jsx("th",{className:"text-right pr-2 mobile:pr-6 py-2",children:"24h Volume"})]})}),e.jsx("tbody",{className:"divide-y divide-figma-neutral-dark",children:n.map(l=>{const o=r(l.denom),u=l.quoteDenom;return o?e.jsxs("tr",{tabIndex:0,className:"hover:cursor-pointer hover:bg-figma-neutral-dark",onClick:()=>s(l.symbol),children:[e.jsx("td",{className:"text-left pl-2 mobile:pl-6 py-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{coin:o.name,className:"w-5 h-5 mr-2"}),e.jsxs("div",{className:"flex-col",children:[e.jsx("p",{className:"font-semibold",children:o.displayName}),e.jsx("p",{className:"text-figma-neutral",children:l.displayName})]})]})}),e.jsx("td",{className:"text-right py-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"",children:xe(l.midMarketPrice??l.lastTradedPrice,!0,!1,l.pricePrecision,u)}),e.jsx("p",{className:Bh(l.percentageChange24h),children:Oe(l.percentageChange24h,2)})]})}),e.jsx("td",{className:"text-right pr-2 mobile:pr-6 py-2",children:e.jsx("div",{className:"flex flex-col justify-center",children:e.jsx("p",{className:"",children:xe(l.volume24h,!0,!1,2,u)})})})]},l.symbol):null})})]})]})]})},qh=({isAuthenticatedWithCookie:t,isMarginEnabled:s,handleMarketSelect:a})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row p-2 mobile:p-6 gap-x-6",children:[e.jsxs("div",{className:"w-full lg:w-2/5 flex flex-col gap-y-6",children:[e.jsx(wh,{}),e.jsx(kh,{}),t&&s&&e.jsx(Rh,{}),t&&e.jsx(Nh,{}),e.jsx(Wh,{onMarketClick:a})]}),e.jsxs("div",{className:"w-full lg:w-3/5 flex flex-col gap-y-6 mt-6 lg:mt-0",children:[e.jsx(Ah,{}),e.jsx(Uh,{}),e.jsx(_h,{})]})]})}),$h=()=>{const{isAuthenticatedWithCookie:t}=ee(),s=Ye();return t||s(re.home()),e.jsx(dr,{})},Hh=()=>{G1({referralDestination:"EXCHANGE"});const[t,s]=Oa(),a=Ye(),{pathname:n}=Cs(),{isAuthenticatedWithCookie:r}=ee(),{getAsset:i}=Te(),l=!!i(Rs.LRWA),{isMarginEnabled:o,onToggleMarginTrading:u}=at(),{fsmStepResponse:d,hasKrangBlocker:x}=Le(),{onLRWASignUpModalOpen:m,onLRWAManageModalOpen:f,shouldShowLRWAWidget:p,LRWADataLoading:g}=Ge(),{currentLicensingJurisdiction:h}=ae(pt),b=j=>{a(re.trade(j.toLowerCase()))};return c.useEffect(()=>{t.get(an)==="true"&&r&&(a(re.trade()),!o&&!x&&u())},[x,r,o,a,u,t,s]),c.useEffect(()=>{t.get(Is)==="true"&&r&&!g&&(l&&(p?f():m()),t.delete(Is),t.delete(an),s(t))},[g,r,f,m,t,s,p,l]),e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Figure Markets"})}),r&&e.jsx(lh,{}),e.jsx(oh,{}),e.jsx(Hc,{variant:"portfolio",homeNavRoute:n!==re.home(),fsmStepResponse:d}),n===re.home()?e.jsx(qh,{isAuthenticatedWithCookie:r,handleMarketSelect:b,isMarginEnabled:o}):e.jsx($h,{}),e.jsx(b7,{}),e.jsx(j7,{}),e.jsx(e7,{}),e.jsx(d7,{}),h==="IRELAND"&&e.jsx("p",{className:"text-xs text-right text-figma-neutral my-4",children:"Figure Markets Ireland Limited, a private limited company, is incorporated in Dublin, Ireland with a registered address of 33 Sir John Rogerson’s Quay, Dublin D02 XK09, Ireland. Company registration number 753781. Directors: D Nolan, J Ou (United States)."})]})},K=({className:t,children:s,colSpan:a,isLast:n})=>e.jsx("td",{colSpan:a,className:k("px-6 py-2 border-b-neutral-100 border-b-[1px]",n&&"border-b-0",t),children:s}),Vt=({children:t,className:s})=>e.jsx("tr",{className:k("text-xs tabular-nums h-full",s),children:t}),$s=({tableBody:t,tableColumns:s,isLoading:a,headingClassname:n,isSubtable:r=!1})=>{const{pathname:i}=Cs(),[l,o]=c.useState(!0),[u,d]=c.useState(!1),x=c.useRef(null);c.useEffect(()=>{const f=()=>{if(x&&x.current){const p=x.current,g=p.scrollWidth>p.getBoundingClientRect().width;o(g),d(g)}};return f(),window.addEventListener("resize",f),window.addEventListener("load",f),()=>{window.removeEventListener("resize",f),window.removeEventListener("load",f)}},[i]);const m=f=>{const p=f.target,g=p.scrollWidth-p.offsetWidth;o(p.scrollLeft<=g&&g>0)};return e.jsx("div",{className:"relative",children:e.jsxs("div",{ref:x,onScroll:m,className:k("border border-neutral-100 rounded-lg overflow-x-scroll",u?"scrollbar-thin":"scrollbar-none",a&&"opacity-50",!r&&"max-w-[calc(100vw-20px)]"),children:[e.jsx("div",{className:k("absolute w-full h-full bg-gradient-to-r from-transparent from-90% to-[#080E18] opacity-80 pointer-events-none xl:hidden z-10",!l&&"hidden")}),e.jsxs("table",{className:"w-full border-spacing-0 border-separate rounded-lg h-fit",children:[e.jsx("thead",{children:e.jsx("tr",{className:k("bg-neutral-50",n),children:s.map(({key:f,displayName:p,className:g,element:h})=>e.jsx("th",{className:k("text-xs font-bold px-6 py-2 first:rounded-tl-lg last:rounded-tr-lg w-fit",g),children:h||p},f))})}),e.jsx("tbody",{className:"rounded-b-lg",children:a?e.jsx(Vt,{children:e.jsx(K,{colSpan:s.length,children:e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"size-10",children:e.jsx(ve,{})})})})}):t})]})]})})},Vh=({orderId:t,marketDisplayName:s,denom:a,priceDenom:n})=>{var u,d,x,m,f,p,g,h;const{getInstrumentDisplayNameFromDenom:r}=Te(),i=Ye(),l=Dc({path:{orderId:t},query:{size:10},queryOptions:{enabled:!!t}}),o=[{key:"filled",displayName:"Filled",className:"text-left"},{key:"type",displayName:"Type",className:"text-left"},{key:"amount",displayName:`Amount ${!l.isFetching&&Number((u=l.data)==null?void 0:u.data.length)!==0?`(${a})`:""}`,className:"text-right"},{key:"price",displayName:"Price",className:"text-right"},{key:"totalFee",displayName:"Total / Fee",className:"text-right"}];return e.jsxs("div",{className:"pt-4 pb-6",children:[!l.isFetching&&Number((d=l.data)==null?void 0:d.data.length)!==0&&e.jsxs("div",{className:"flex w-full justify-between items-center pb-2",children:[e.jsxs("p",{className:"text-sm font-bold pl-6",children:["Total fills",(x=l.data)!=null&&x.totalCount?`: ${(m=l.data)==null?void 0:m.totalCount}`:""]}),Number((f=l.data)==null?void 0:f.totalCount)>10&&e.jsx(T.Secondary,{className:"bg-figma-neutral-dark",onPress:()=>i(re.home("orders",t)),children:"View all fills"})]}),e.jsx($s,{tableColumns:!l.isFetching&&Number((p=l.data)==null?void 0:p.data.length)!==0?o:[],isLoading:l.isFetching,headingClassname:"bg-figma-neutral-dark",isSubtable:!0,tableBody:!l.isFetching&&Number((g=l.data)==null?void 0:g.data.length)===0?e.jsx(Vt,{children:e.jsx(K,{className:"text-sm",colSpan:o.length,isLast:!0,children:e.jsx(e.Fragment,{children:"No fills exist for this order"})})}):e.jsx(e.Fragment,{children:!l.isFetching&&((h=l.data)==null?void 0:h.data.map((b,j)=>{const y=j===l.data.data.length-1;return e.jsxs(Vt,{className:"bg-figma-neutral-dark border-b-p-500",children:[e.jsx(K,{className:k("border-b-0 border-t border-neutral-200",y&&"border-b"),children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:new Date(b.created).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:new Date(b.created).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]})})}),e.jsx(K,{className:k("border-b-0 border-t border-neutral-200",y&&"border-b"),children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:r(b.denom)}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:s})]})})}),e.jsx(K,{className:k("text-right border-b-0 border-t border-neutral-200",y&&"border-b"),children:e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:b.quantity})}),e.jsx(K,{className:k("text-right border-b-0 border-t border-neutral-200",y&&"border-b"),children:e.jsx(V,{value:b.price,decimalPlaces:2,currencySymbol:n})}),e.jsx(K,{className:k("text-right border-b-0 border-t border-neutral-200",y&&"border-b"),children:e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx(V,{value:I(b.price).times(b.quantity).toString(),decimalPlaces:2,currencySymbol:n}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:e.jsx(V,{value:b.direction==="ASK"?b.askFee:b.bidFee,decimalPlaces:2,currencySymbol:n})})]})})]},`${b.id}-${j}`)}))})})]})},Ua=({className:t,preText:s="You have no",postText:a})=>e.jsxs("div",{className:k("flex flex-col justify-center items-center mt-10 sm:mt-32",t),children:[e.jsx(dl,{}),e.jsxs("div",{className:"font-medium text-sm text-figma-neutral mt-2",children:[s," ",a]})]}),rn=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:9,height:8,viewBox:"0 0 9 8",fill:"none",...t},c.createElement("path",{d:"M5.39551 7.1363L2.94179 4.68258H8.79297V3.31778H2.94179L5.41003 0.864063L4.5534 -0.00708008L0.546145 4.00018L4.53889 7.99292L5.39551 7.1363Z",fill:"#DDDDDD"})),ba=7,lo=t=>Array(t).fill(null).map((s,a)=>a+1),En=({pagination:t,className:s,label:a})=>{const{currentPage:n,totalPages:r,setPage:i}=t,l=()=>e.jsx("span",{"aria-label":"ellipsis indicating non-visible pages",className:"font-semibold text-neutral-500 text-center leading-8 w-5",children:"…"}),o=c.useCallback(({page:m})=>{const f=n===m?`Current Page, Page ${m}`:`Show Page ${m}`;return e.jsx("li",{"aria-label":f,"aria-current":n===m?"page":void 0,children:e.jsx("button",{onClick:()=>{i(m)},className:k("flex flex-col size-[1.5rem] mobile:size-[2.125rem] rounded-lg cursor-pointer items-center justify-center","hover:bg-neutral-100",m===n&&"bg-neutral-100"),children:e.jsx("div",{children:m})})})},[n,i]),u=({direction:m,isPreviousDisabled:f,isNextDisabled:p})=>e.jsx("li",{"aria-label":m==="left"?"previous page":"next page",children:e.jsxs("button",{className:k("flex gap-x-1.5 px-2 md:px-4 py-2.5 cursor-pointer justify-center items-center border border-neutral-200 rounded-md",m==="left"&&f||m==="right"&&p?"opacity-50":"hover:bg-neutral-100 focus:border focus:border-white"),onClick:()=>{m==="left"&&!f?i(n-1):m==="right"&&!p&&i(n+1)},children:[m==="right"&&e.jsx("p",{className:"hidden sm:block text-xxs font-bold",children:"Next"}),e.jsx(rn,{className:Ke(m==="right"&&"rotate-180")}),m==="left"&&e.jsx("p",{className:"hidden sm:block text-xxs font-bold",children:"Previous"})]})}),d=c.useCallback(m=>m.map(f=>e.jsx(o,{page:f},f)),[o]),x=c.useMemo(()=>r<=ba?d(lo(r)):n===1||n<ba-2?[...d(lo(ba-2)),e.jsx(l,{},"overflow"),e.jsx(o,{page:r},r)]:n===r||n>r-ba+3?[e.jsx(o,{page:1},1),e.jsx(l,{},"overflow"),...d(Array(ba-2).fill(null).map((m,f)=>r-f)).reverse()]:[e.jsx(o,{page:1},1),e.jsx(l,{},"overflow 1"),...d(Array(ba-2-2).fill(null).map((m,f)=>n+f-1)),e.jsx(l,{},"overflow 2"),e.jsx(o,{page:r},r)],[o,n,d,r]);return t.totalPages===1?e.jsx(e.Fragment,{}):e.jsx("nav",{"aria-label":a,className:k("p-2",s),children:e.jsxs("ul",{className:"flex flex-row font-semibold text-neutral-500 items-center justify-between text-xs gap-x-1",children:[e.jsx(u,{direction:"left",isPreviousDisabled:n===1||r===1,isNextDisabled:n===r||r===1}),e.jsx("div",{className:"flex gap-x-1 md:gap-x-4",children:x}),e.jsx(u,{direction:"right",isPreviousDisabled:n===1||r===1,isNextDisabled:n===r||r===1})]})})},Zh=()=>{var d,x,m,f;const{walletAddress:t}=ee(),[s,a]=c.useState(1),r=Ac({walletAddress:t,query:{page:s,size:10},queryOptions:{enabled:!!t}}),{getInstrumentDisplayNameFromDenom:i}=Te(),l=((d=r.data)==null?void 0:d.data)??[],o=[{key:"date",displayName:"Date",className:"text-left"},{key:"asset",displayName:"Asset",className:"text-left"},{key:"amountPrice",displayName:"Amount / Price",className:"text-right"},{key:"totalFee",displayName:"Total / Fee",className:"text-right"}],{getAsset:u}=Te();return e.jsxs(e.Fragment,{children:[!r.isFetching&&!(((x=r.data)==null?void 0:x.data)??[]).length?e.jsx(Ua,{postText:"liquidations"}):e.jsx($s,{tableColumns:o,isLoading:r.isFetching,tableBody:e.jsx(e.Fragment,{children:l.map((p,g)=>e.jsxs(Vt,{children:[e.jsx(K,{children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:new Date(p.liquidationDtm).toLocaleTimeString("en-US")}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:new Date(p.liquidationDtm).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})})]})})}),e.jsx(K,{className:"text-right px-0 py-0 h-full",children:e.jsx("div",{className:"flex flex-col justify-center gap-y-2 h-full",children:p.assets.map((h,b)=>e.jsxs("div",{className:"px-6 py-2 flex items-center",children:[e.jsx(ue,{className:"w-6 h-6 mr-3",coin:h.currency,displayName:i(h.currency)}),e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:i(h.currency)})]},`${h.currency} - ${b}`))})}),e.jsx(K,{className:"text-right px-0 py-0",children:e.jsx("div",{className:"flex flex-col text-right",children:p.assets.map((h,b)=>{var j;return e.jsxs("div",{className:"px-6 py-2 flex flex-col items-end",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:he(h.quantity,(j=u(h.currency))==null?void 0:j.displayExponent)}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:xe(h.price??0,!0)})]},`${h.currency} - ${b}`)})})}),e.jsx(K,{className:"text-right px-0 py-0",children:e.jsx("div",{className:"flex flex-col text-right",children:p.assets.map((h,b)=>e.jsxs("div",{className:"px-6 py-2 flex flex-col items-end",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:xe(h.totalValue??0,!0)}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:xe(h.feeValue??0,!0)})]},`${h.currency} - ${b}`))})})]},`${p.uuid} - ${g}`))})}),e.jsx(En,{pagination:{currentPage:s,setPage:a,totalPages:((f=(m=r.data)==null?void 0:m.pagination)==null?void 0:f.totalPages)||1}})]})},Qn=t=>{var u;const{selectedItem:s,onSelect:a,dropdownOptions:n,buttonClassname:r}=t,i=c.useRef(null),[l,o]=c.useState(!1);return e.jsxs(Ws,{children:[e.jsx("div",{className:"gap-4",children:e.jsx(Y,{className:k("flex justify-between items-center bg-neutral-100 hover:bg-p-500 active:outline-none outline-none outline-offset-0 px-2.5 py-1 rounded w-full hover:cursor-pointer disabled:opacity-50",r),ref:i,onPress:()=>o(!0),children:e.jsxs("div",{className:"flex justify-between w-full items-center gap-2 text-xs font-bold",children:[e.jsx("span",{children:(u=n.find(d=>d.key===s))==null?void 0:u.value}),e.jsx(ds,{className:`shrink-0 w-3 h-3 ${l&&"rotate-180"} transition ease-in-out duration-500`})]})})}),e.jsx(xa,{isOpen:l,triggerRef:i,onOpenChange:o,offset:0,crossOffset:0,className:"entering:animate-in entering:fade-in exiting:animate-out exiting:fade-out",children:e.jsx(is,{className:"outline-none outline-offset-0 rounded ",children:e.jsx("div",{className:"rounded-sm w-full drop-shadow-2xl",children:n.map(({key:d,value:x})=>e.jsxs(Y,{id:String(d),className:k("bg-neutral-100 outline-none text-neutral-800 text-xs font-bold cursor-pointer px-2.5 py-1 w-full flex justify-between items-center gap-2 hover:bg-p-500 transition-colors border-t-[1px] border-neutral-white last:rounded-b",r),"aria-label":x,onPress:()=>{a(d),o(!1)},children:[e.jsx("div",{className:"flex items-center gap-2",children:x}),s===d&&e.jsx(Bs,{})]},d))})})})]})},od=t=>{const{currency:s,onSelect:a,valueString:n="Loans"}=t,{usdEnabled:r}=Te(),i=[...r?[{key:"USD",value:`USD ${n}`}]:[],{key:"USDC",value:`USDC ${n}`},{key:"USDT",value:`USDT ${n}`}];return e.jsx(Qn,{selectedItem:s,onSelect:a,dropdownOptions:i})},Gh=t=>{var x,m,f,p;const{currency:s}=t,{walletAddress:a}=ee(),{marketLocation:n}=me(),r=r3({walletAddress:a,query:{currency:s,location:Rt(n)},queryOptions:{enabled:!!a}}),i=r.data,l=i!=null&&i.startDate?new Date(i==null?void 0:i.startDate).toLocaleDateString("en-US"):"",o=((x=i==null?void 0:i.interestRateRange)==null?void 0:x.minRate)&&((m=i==null?void 0:i.interestRateRange)==null?void 0:m.maxRate),u=o?Oe((f=i==null?void 0:i.interestRateRange)==null?void 0:f.minRate,1):0,d=o?Oe((p=i==null?void 0:i.interestRateRange)==null?void 0:p.maxRate,1):0;return e.jsxs(e.Fragment,{children:[r.isFetching&&e.jsx("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4",children:[...Array(3)].map((g,h)=>e.jsx("div",{className:"w-full md:w-1/3 p-12 flex flex-col gap-y-1 border border-figma-neutral-dark rounded-lg animate-pulse bg-neutral-100"},h))}),!r.isFetching&&!i&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4",children:[e.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col gap-y-1 border border-figma-neutral-dark rounded-lg",children:[e.jsx("p",{className:"text-sm font-bold",children:"Margin Period"}),e.jsx("p",{className:"text-xl font-extralight",children:"-"})]}),e.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col gap-y-1 border border-figma-neutral-dark rounded-lg",children:[e.jsx("p",{className:"text-sm font-bold",children:"Interest Rate"}),e.jsx("p",{className:"text-xl font-extralight",children:"-"})]}),e.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col gap-y-1 border border-figma-neutral-dark rounded-lg",children:[e.jsx("p",{className:"text-sm font-bold",children:"Paid Interest"}),e.jsx("p",{className:"text-xl font-extralight",children:"-"})]})]}),!r.isFetching&&i&&e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4",children:[e.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col gap-y-1 border border-figma-neutral-dark rounded-lg",children:[e.jsx("p",{className:"text-sm font-bold",children:"Margin Period"}),e.jsxs("p",{className:"text-xl font-extralight",children:[l," - Present"]})]}),e.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col gap-y-1 border border-figma-neutral-dark rounded-lg",children:[e.jsx("p",{className:"text-sm font-bold",children:"Interest Rate"}),e.jsx("p",{className:"text-xl font-extralight",children:o?`${u} - ${d} APY`:"-"})]}),e.jsxs("div",{className:"w-full md:w-1/3 p-6 flex flex-col gap-y-1 border border-figma-neutral-dark rounded-lg",children:[e.jsx("p",{className:"text-sm font-bold",children:"Paid Interest"}),e.jsxs("p",{className:"text-xl font-extralight",children:[he(i.interestPaid,2,!0)," ",s]})]})]})]})},zh=({currency:t,periodFilter:s})=>{var x,m,f,p;const{walletAddress:a}=ee(),{marketLocation:n}=me(),[r,i]=c.useState(1),l=10;c.useEffect(()=>{i(1)},[s,t]);const o=l3({walletAddress:a,query:{currency:t,location:Rt(n),page:r,size:l,period:s},queryOptions:{enabled:!!a,keepPreviousData:!0}}),u=(((x=o.data)==null?void 0:x.data)??[]).sort((g,h)=>h.endTime.localeCompare(g.endTime)),d=[{key:"period",displayName:"Period",className:"text-left"},{key:"loanRollover",displayName:"Loan Rollover",className:"text-right"},{key:"newLoanIncurred",displayName:"New Loan Incurred",className:"text-right"},{key:"fees",displayName:"Fees / Effective APR",className:"text-right"},{key:"payments",displayName:"Payments",className:"text-right"},{key:"endingBalance",displayName:"Ending Balance",className:"text-right"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col justify-between gap-y-6 mb-6",children:e.jsx(Gh,{currency:t})}),e.jsx("div",{className:"flex flex-col justify-between gap-y-6",children:e.jsxs(e.Fragment,{children:[!o.isFetching&&!(((m=o.data)==null?void 0:m.data)??[]).length?e.jsx(Ua,{postText:"loans"}):e.jsx($s,{tableColumns:d,tableBody:e.jsx(e.Fragment,{children:u.map((g,h)=>e.jsxs(Vt,{children:[e.jsx(K,{children:e.jsxs("div",{className:"flex flex-col justify-start",children:[e.jsx("div",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:bc(h,g.startTime,g.endTime,s)}),s==="HOUR"&&e.jsx("div",{className:"text-neutral-400 font-semibold tabular-nums text-xs",children:Na(g.startTime)})]})}),e.jsx(K,{className:"text-right",children:xe(g.rolloverAmount,!0,!0,6,t)}),e.jsx(K,{className:"text-right",children:xe(g.newLoanIncurred,!0,!0,6,t)}),e.jsx(K,{className:"text-right",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:xe(g.fees,!0,!0,6,t)}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:Oe(g.effectiveApr,1)})]})})}),e.jsx(K,{className:"text-right",children:xe(g.payments,!0,!0,6,t)}),e.jsx(K,{className:"text-right",children:xe(g.endingBalance,!0,!0,6,t)})]},`${g.leveragePoolId} - ${h}`))}),isLoading:o.isFetching}),e.jsx(En,{pagination:{currentPage:r,setPage:i,totalPages:((p=(f=o.data)==null?void 0:f.pagination)==null?void 0:p.totalPages)||1}})]})})]})},Kh=()=>{var C;const{walletAddress:t}=ee(),{hash:s,pathname:a}=Cs(),{marketBaseCurrency:n}=me(),r=Fe(),{originalLicensingJurisdiction:i}=ae(pt),l=s?s.substring(1):"margin",o=Ye(),{hasConsented:u,isInitializing:d}=at(),[x,m]=c.useState(n),[f,p]=c.useState("MONTH"),h=((C=Ac({walletAddress:t,queryOptions:{enabled:!!t}}).data)==null?void 0:C.data)??[],b=u||h.length>0,j=u,y=[{key:"HOUR",value:"Hourly"},{key:"DAY",value:"Daily"},{key:"WEEK",value:"Weekly"},{key:"MONTH",value:"Monthly"}];return r.IS_IRELAND_RESTRICTION_ENABLED&&i==="IRELAND"?e.jsx(ks,{to:re.home()}):e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Margin - Figure Markets"})}),e.jsxs("div",{className:"flex flex-col p-6 h-full",children:[(j||b)&&e.jsxs("div",{className:"w-full mb-6 flex flex-wrap gap-3 justify-between items-center",children:[e.jsxs("div",{className:"w-full sm:w-fit flex gap-x-2 justify-between sm:justify-start items-center",children:[e.jsxs(wn,{fullWidth:!1,children:[j&&e.jsx($t,{onClick:()=>{o(`${a}#margin`)},isActive:l==="margin",className:"w-[89px]",children:"Periods"}),b&&e.jsx($t,{onClick:()=>{o(`${a}#liquidations`)},isActive:l==="liquidations",className:"w-[89px]",children:"Liquidations"})]}),l==="margin"&&e.jsx(od,{currency:x,onSelect:m})]}),l==="margin"&&e.jsx(Qn,{selectedItem:f,onSelect:w=>p(w),dropdownOptions:y,buttonClassname:"w-[196px] sm:w-[240px]"})]}),l==="margin"&&j&&e.jsx(zh,{currency:x,periodFilter:f}),l==="liquidations"&&b&&e.jsx(Zh,{}),!j&&!b&&!d&&e.jsx("div",{className:"mt-7 w-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold",children:"There is no margin history"})})]})]})},Ys=({title:t,content:s})=>e.jsxs("div",{className:"flex flex-col gap-y-1 px-6 py-2 border border-neutral-200 rounded-lg md:rounded-none md:border-0",children:[e.jsx("p",{className:"font-semibold text-xs",children:t}),s]}),Yh=()=>{var g,h,b,j;const{getInstrumentDisplayNameFromDenom:t}=Te(),{orderId:s}=Ii(),a=Ye(),[n,r]=c.useState(""),[i,l]=c.useState([""]),[o,u]=c.useState(0),d=x3({path:{orderId:String(s)},queryOptions:{enabled:!!s}}),x=Dc({path:{orderId:String(s)},query:{size:10,token:n},queryOptions:{enabled:!!s}});c.useEffect(()=>{var y,C,w;(y=x.data)!=null&&y.nextPageToken&&!i.includes((C=x.data)==null?void 0:C.nextPageToken)&&l([...i,(w=x.data)==null?void 0:w.nextPageToken])},[(g=x.data)==null?void 0:g.nextPageToken,i]),c.useEffect(()=>{const y=i.indexOf(n);u(y===-1?0:y)},[n,i]);const m=[{key:"filled",displayName:"Filled",className:"text-left"},{key:"type",displayName:"Type",className:"text-left"},{key:"amount",displayName:`Amount ${x.isFetching?"":`(${(h=d.data)==null?void 0:h.denom.split("-")[0]})`}`,className:"text-right"},{key:"price",displayName:"Price",className:"text-right"},{key:"totalFee",displayName:"Total / Fee",className:"text-right"},{key:"liquidity",displayName:"Liquidity",className:"text-right"}],f=d.data,p=x.isFetching||d.isFetching;return e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Order Fills - Figure Markets"})}),e.jsxs("div",{className:"flex flex-col p-6 gap-y-6",children:[e.jsxs(T.Link,{className:"flex gap-x-1.5 items-center no-underline text-white w-fit",onPress:()=>a(re.home("orders")),children:[e.jsx(Cn,{className:"w-2 h-3"}),e.jsx("p",{className:"text-xxs",children:"Back to Orders"})]}),e.jsx("p",{className:"text-sm font-bold",children:"Order Fills"}),p||!f?e.jsx("div",{className:"size-10",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:border md:rounded-lg md:border-neutral-200 md:divide-x md:divide-neutral-200 grid grid-cols-1 gap-y-2 md:grid-cols-7",children:[e.jsx(Ys,{title:"Market",content:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"w-5 h-5 mr-[3px]",coin:f.denom,displayName:t(f.denom)}),e.jsx("p",{className:"text-base font-bold",children:f.symbol})]})}),e.jsx(Ys,{title:"Created",content:e.jsxs("span",{className:"text-base font-bold",children:[new Date(f.created).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})," ","-"," ",new Date(f.created).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})]})}),e.jsx(Ys,{title:"Price",content:e.jsx("div",{className:"text-base font-bold",children:e.jsx(V,{value:f.price,decimalPlaces:2,currencySymbol:f.priceDenom})})}),e.jsx(Ys,{title:"Side",content:e.jsx("div",{className:"text-base font-bold",children:f.direction==="ASK"?"Sell":"Buy"})}),e.jsx(Ys,{title:"Type",content:e.jsx("p",{className:"font-bold text-base",children:f.orderType.split("_").map(C=>C.slice(0,1)+C.slice(1).toLowerCase()).join(" ")})}),e.jsx(Ys,{title:"Filled",content:e.jsx("div",{className:"text-base font-bold",children:f.filledQuantity})}),e.jsx(Ys,{title:"Weighted Fill Price",content:e.jsx("div",{className:"text-base font-bold",children:e.jsx(V,{value:I(f.totalFilledValue).div(I(f.filledQuantity).eq(0)?"1":f.filledQuantity).toString(),decimalPlaces:2,currencySymbol:f.priceDenom})})})]}),e.jsx($s,{tableColumns:m,isLoading:x.isFetching,headingClassname:"bg-figma-neutral-dark",tableBody:e.jsx(e.Fragment,{children:!x.isFetching&&((b=x.data)==null?void 0:b.data.map((y,C)=>{const w=C===x.data.data.length-1;return e.jsxs(Vt,{children:[e.jsx(K,{isLast:w,children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:new Date(y.created).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:new Date(y.created).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]})})}),e.jsx(K,{isLast:w,children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:t(y.denom)}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:d.data.marketDisplayName})]})})}),e.jsx(K,{className:"text-right",isLast:w,children:e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:y.quantity})}),e.jsx(K,{className:"text-right",isLast:w,children:e.jsx(V,{value:y.price,decimalPlaces:2,currencySymbol:f.priceDenom})}),e.jsx(K,{className:"text-right",isLast:w,children:e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx(V,{value:I(y.price).times(y.quantity).toString(),decimalPlaces:2,currencySymbol:f.priceDenom}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:e.jsx(V,{value:y.direction==="ASK"?y.askFee:y.bidFee,decimalPlaces:2,currencySymbol:f.priceDenom})})]})}),e.jsx(K,{className:"text-right",isLast:w,children:y.direction==="ASK"?"Taker":"Maker"})]},`${y.id}-${C}`)}))})}),i.length>1&&e.jsxs("div",{className:"flex items-center justify-between gap-x-4",children:[e.jsxs(Y,{className:k("flex gap-x-1.5 px-2 md:px-4 py-2.5 cursor-pointer justify-center items-center border border-neutral-200 rounded-md",o===0?"opacity-50":"hover:bg-neutral-100 focus:border focus:border-white"),onPress:()=>o!==0?r(i[o-1]):void 0,children:[e.jsx(rn,{}),e.jsx("p",{className:"hidden sm:block text-xxs font-bold",children:"Previous"})]}),e.jsxs(Y,{className:k("flex gap-x-1.5 px-2 md:px-4 py-2.5 cursor-pointer justify-center items-center border border-neutral-200 rounded-md",Number((j=x.data)==null?void 0:j.data.length)<10?"opacity-50":"hover:bg-neutral-100 focus:border focus:border-white"),onPress:()=>{var y,C;return((y=x==null?void 0:x.data)==null?void 0:y.nextPageToken)&&r(String((C=x==null?void 0:x.data)==null?void 0:C.nextPageToken))},children:[e.jsx("p",{className:"hidden sm:block text-xxs font-bold",children:"Next"}),e.jsx(rn,{className:"rotate-180"})]})]})]})]})]})},Qh=()=>{var z,se,Ee,Ue,He,Qe,Ve,Ft;const{orderId:t}=Ii(),{walletAddress:s,isAuthenticatedWithCookie:a}=ee(),[n,r]=c.useState(0),[i,l]=c.useState(""),[o,u]=c.useState([""]),[d,x]=c.useState(0),[m,f]=c.useState(""),[p,g]=c.useState(),[h,b]=c.useState(!1),[j,y]=c.useState(!1),[C,w]=c.useState(),N=Et(),{getInstrumentDisplayNameFromDenom:v}=Te(),A=El({query:{status:n===0?void 0:n===1?["NEW","PARTIALLY_FILLED"]:[ya[n]],token:i,size:10},queryOptions:{enabled:a,keepPreviousData:!0},walletAddress:s}),E=El({query:{status:["NEW","PARTIALLY_FILLED"],size:100},queryOptions:{enabled:a,keepPreviousData:!0},walletAddress:s});c.useEffect(()=>{var q,de,Ze;(q=A.data)!=null&&q.nextPageToken&&!o.includes((de=A.data)==null?void 0:de.nextPageToken)&&u([...o,(Ze=A.data)==null?void 0:Ze.nextPageToken])},[(z=A.data)==null?void 0:z.nextPageToken,o]),c.useEffect(()=>{const q=o.indexOf(i);x(q===-1?0:q)},[i,o]);const{mutateAsync:P,isLoading:L}=Tc(),{mutateAsync:O,isLoading:W}=Yi(),[$,R]=c.useState(!1),D=$||A.isFetching,M=async()=>{R(!0),setTimeout(async()=>{await A.refetch(),R(!1)},3e3)};async function B(q,de){await O({path:{orderId:q,symbol:de}},{onSettled:async()=>{await M()}})}async function _(){await P({requestBody:{}},{onSettled:async()=>{await M()}})}const F=[{key:"openSubTable",displayName:""},{key:"market",displayName:"Market",className:"text-left"},{key:"created",displayName:"Created",className:"text-left"},{key:"status",displayName:"Status",className:"text-left"},{key:"side",displayName:"Side",className:"text-left"},{key:"price",displayName:"Price",className:"text-right"},{key:"amount",displayName:"Amount / Filled",className:"text-right text-nowrap"},{key:"type",displayName:"Type",className:"text-left"},{key:"total",displayName:"Total",className:"text-right"},{key:"weightedFillPrice",displayName:"Weighted Fill Price",className:"text-right text-nowrap"},{key:"fillPercent",displayName:"Fill %",className:"text-right text-nowrap"},{key:"goodTill",displayName:"Good Till",className:"text-right text-nowrap"},{key:"stopLimit",displayName:"Stop Limit",className:"text-right text-nowrap"},{key:"cancelAll",displayName:"Cancel All",className:"text-right text-nowrap",element:e.jsx(Y,{className:k("font-bold text-xs text-negative-300 text-right",Number((Ee=(se=E.data)==null?void 0:se.data)==null?void 0:Ee.length)===0&&"pointer-events-none text-negative-700"),onPress:()=>{b(!0)},children:"Cancel All"})}],U=((Ue=A.data)==null?void 0:Ue.data.length)||1;return t?e.jsx(dr,{}):e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Orders - Figure Markets"})}),e.jsxs("div",{className:"flex flex-col p-6 gap-y-4",children:[e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx("p",{className:"text-sm font-bold",children:"Orders"}),e.jsx(a1,{width:"w-36",isDisabled:D||L||W,dropdownOptions:[{key:ya.ALL_ORDERS,value:"All Orders"},{key:ya.OPEN,value:"Open"},{key:ya.FILLED,value:"Filled"},{key:ya.CANCELED,value:"Canceled"}],selectedItem:n,onSelect:q=>{l(""),r(q)}})]}),!A.isFetching&&!(((He=A.data)==null?void 0:He.data)??[]).length?e.jsx(Ua,{postText:"orders"}):e.jsx($s,{tableColumns:F,tableBody:e.jsx(e.Fragment,{children:!A.isLoading&&((Qe=A.data)==null?void 0:Qe.data.map((q,de)=>e.jsxs(c.Fragment,{children:[e.jsxs(Vt,{className:m===q.orderId?"bg-figma-neutral-dark":"",children:[e.jsx(K,{className:m===q.orderId?"rounded-tl-lg border-l border-t border-b-0 border-p-500":"",isLast:de===U-1,children:e.jsx("button",{className:k("size-6 rounded-full border border-neutral-200 p-1.5 transition ease-in-out cursor-pointer",m===q.orderId?"bg-p-500":"bg-transparent"),onClick:()=>f(m===q.orderId?"":q.orderId),children:e.jsx(el,{className:m===q.orderId?"rotate-90":"rotate-[-90deg]"})})}),e.jsx(K,{className:m===q.orderId?"border-t border-b-0 border-p-500":"",isLast:de===U-1,children:e.jsxs("div",{className:"flex items-center w-fit sm:w-[113px]",children:[e.jsx(ue,{className:"w-6 h-6 mr-3",coin:q.denom,displayName:v(q.denom)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:v(q.denom)}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:q.marketDisplayName})]})]})}),e.jsx(K,{className:m===q.orderId?"border-t border-b-0 border-p-500":"",isLast:de===U-1,children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:new Date(q.created).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:new Date(q.created).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]})})}),e.jsx(K,{className:m===q.orderId?"border-t border-b-0 border-p-500":"",isLast:de===U-1,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(qt,{variant:q.state}),e.jsx("p",{className:"text-xs font-semibold",children:(()=>{let Ze="";switch(q.state){case"PARTIALLY_FILLED":return"Partial";default:return Ze=q.state.split("_")[0],Ze.slice(0,1)+Ze.slice(1).toLowerCase()}})()})]})}),e.jsx(K,{className:m===q.orderId?"border-t border-b-0 border-p-500":"",isLast:de===U-1,children:q.direction==="ASK"?e.jsx(Z,{variant:"negative",size:"xs",children:"Sell"}):e.jsx(Z,{variant:"positive",size:"xs",children:"Buy"})}),e.jsx(K,{className:k("text-right font-semibold text-nowrap",m===q.orderId&&"border-t border-b-0 border-p-500"),isLast:de===U-1,children:e.jsx(V,{value:q.price,decimalPlaces:2,currencySymbol:q.priceDenom})}),e.jsx(K,{className:m===q.orderId?"border-t border-b-0 border-p-500":"",isLast:de===U-1,children:e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:q.quantity}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:q.filledQuantity})]})}),e.jsx(K,{className:m===q.orderId?"border-t border-b-0 border-p-500":"",isLast:de===U-1,children:e.jsx("p",{className:"font-semibold text-xs tabular-nums text-neutral-500 w-[63px]",children:q.orderType.split("_").map(At=>At.slice(0,1)+At.slice(1).toLowerCase()).join(" ")})}),e.jsx(K,{className:k("text-right font-semibold text-nowrap",m===q.orderId&&"border-t border-b-0 border-p-500"),isLast:de===U-1,children:e.jsx(V,{value:q.totalFilledValue,decimalPlaces:2,currencySymbol:q.priceDenom})}),e.jsx(K,{className:k("text-right font-semibold text-nowrap",m===q.orderId&&"border-t border-b-0 border-p-500"),isLast:de===U-1,children:e.jsx(V,{value:I(q.totalFilledValue).div(I(q.filledQuantity).eq(0)?"1":q.filledQuantity).toString(),decimalPlaces:2,currencySymbol:q.priceDenom})}),e.jsx(K,{className:k("text-right font-semibold text-nowrap text-xs",m===q.orderId&&"border-t border-b-0 border-p-500"),isLast:de===U-1,children:e.jsxs(e.Fragment,{children:[I(q.quantity).minus(q.remainingQuantity).div(I(q.quantity).eq(0)?"1":I(q.quantity)).times(100).prec(2).toString(),"%"]})}),e.jsx(K,{className:k("text-right font-semibold text-nowrap",m===q.orderId&&"border-t border-b-0 border-p-500"),isLast:de===U-1,children:e.jsx("span",{className:"tabular-nums text-xs",children:q!=null&&q.expiration?new Date(q.expiration).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"-"})}),e.jsx(K,{className:k("text-right",m===q.orderId&&"border-t border-b-0 border-p-500"),isLast:de===U-1,children:q.stopPrice?e.jsx(V,{value:q.stopPrice,decimalPlaces:2,currencySymbol:q.priceDenom}):"-"}),e.jsx(K,{className:k("text-right",m===q.orderId&&"rounded-tr-lg border-r border-t border-b-0 border-p-500"),isLast:de===U-1,children:["NEW","PARTIALLY_FILLED"].includes(q.state)?e.jsx(Y,{onPress:()=>{var Ze;g(q),w((Ze=N.data)==null?void 0:Ze.data.find(At=>At.denom===q.denom)),y(!0)},children:e.jsx(Ln,{})}):e.jsx(e.Fragment,{})})]}),e.jsx(Vt,{className:m===q.orderId?"bg-figma-neutral-dark":"hidden",children:e.jsx(K,{className:"text-sm rounded-b-lg border-l border-r border-b border-p-500 px-20",colSpan:F.length,isLast:de===U-1,children:e.jsx(Vh,{orderId:m,marketDisplayName:q.marketDisplayName,denom:q.denom,priceDenom:q.priceDenom})})})]},`${q.orderId}-${de}`)))}),isLoading:D||L||W}),o.length>1&&e.jsxs("div",{className:"flex items-center justify-between gap-x-4",children:[e.jsxs(Y,{className:k("flex gap-x-1.5 px-2 md:px-4 py-2.5 cursor-pointer justify-center items-center border border-neutral-200 rounded-md",d===0?"opacity-50":"hover:bg-neutral-100 focus:border focus:border-white"),onPress:()=>d!==0?l(o[d-1]):void 0,children:[e.jsx(rn,{}),e.jsx("p",{className:"hidden sm:block text-xxs font-bold",children:"Previous"})]}),e.jsxs(Y,{className:k("flex gap-x-1.5 px-2 md:px-4 py-2.5 cursor-pointer justify-center items-center border border-neutral-200 rounded-md",Number((Ve=A.data)==null?void 0:Ve.data.length)<10?"opacity-50":"hover:bg-neutral-100 focus:border focus:border-white"),onPress:()=>{var q,de;return((q=A==null?void 0:A.data)==null?void 0:q.nextPageToken)&&l(String((de=A==null?void 0:A.data)==null?void 0:de.nextPageToken))},children:[e.jsx("p",{className:"hidden sm:block text-xxs font-bold",children:"Next"}),e.jsx(rn,{className:"rotate-180"})]})]})]}),e.jsx(vr,{isOpen:j,onClose:()=>y(!1),currentMarket:C,orderDetails:[{orderId:String(p==null?void 0:p.orderId),price:String(p==null?void 0:p.price),quantity:String(p==null?void 0:p.quantity),remainingQuantity:String(p==null?void 0:p.remainingQuantity),state:p==null?void 0:p.state}],onCancelOrder:()=>B(String(p==null?void 0:p.orderId),String(p==null?void 0:p.symbol))}),e.jsx(wr,{isOpen:h,onClose:()=>b(!1),cancelOrderCount:Number((Ft=E.data)==null?void 0:Ft.totalCount),onCancelAllOrders:()=>_()})]})},Jh=()=>{var d,x;const{isAuthenticatedWithCookie:t,walletAddress:s}=ee(),[a,n]=c.useState(1),r=10,{getInstrumentDisplayNameFromDenom:i}=Te(),l=N3({query:{page:a,size:r},queryOptions:{enabled:t,keepPreviousData:!0},walletAddress:s});c.useEffect(()=>{l.refetch()},[]);const o=[{key:"transferDate",displayName:"Date",className:"text-left"},{key:"market",displayName:"Asset",className:"text-left"},{key:"status",displayName:"Status",className:"text-left"},{key:"amount",displayName:"Amount",className:"text-right"},{key:"action",displayName:"Action",className:"text-left"},{key:"addresses",displayName:"Sender / Recipient",className:"text-right"}],u=((d=l.data)==null?void 0:d.data)??[];return e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Transfers - Figure Markets "})}),e.jsxs("div",{className:"flex flex-col p-6 gap-y-4",children:[e.jsx("div",{className:"flex w-full justify-between",children:e.jsx("p",{className:"text-sm font-bold",children:"Transfers"})}),!l.isFetching&&!u.length?e.jsx(Ua,{postText:"transfers"}):e.jsx($s,{tableColumns:o,tableBody:e.jsx(e.Fragment,{children:!l.isFetching&&u.map((m,f)=>e.jsxs(Vt,{children:[e.jsx(K,{children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:new Date(m.transferDateTime).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),e.jsx("span",{className:"text-neutral-400 tabular-nums text-xs",children:new Date(m.transferDateTime).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]})})}),e.jsx(K,{children:e.jsxs("div",{className:"flex items-center w-fit sm:w-[113px]",children:[e.jsx(ue,{className:"w-6 h-6 mr-3",coin:m.currency,displayName:i(m.currency)}),e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:i(m.currency)})]})}),e.jsx(K,{className:"font-semibold text-nowrap text-xs",children:m.status.slice(0,1)+m.status.slice(1).toLowerCase()}),e.jsxs(K,{className:"text-right font-semibold text-nowrap",children:[he(m.amount,99)," ",m.currency]}),e.jsx(K,{className:"font-semibold text-nowrap text-xs",children:m.action.slice(0,1)+m.action.slice(1).toLowerCase()}),e.jsxs(K,{className:"text-right",children:[e.jsxs("span",{className:"text-xs",children:[jc(m.action==="DEPOSIT"?m.senderAddress:m.recipientAddress)," "]}),e.jsx(Y,{onPress:()=>{navigator.clipboard.writeText(m.action==="DEPOSIT"?m.senderAddress:m.recipientAddress??"")},className:"outline-none",children:e.jsx("span",{className:"ml-1 inline-block text-xs",children:e.jsx(Yc,{className:"text-xs"})})})]})]},`${m.uuid}-${f}`))}),isLoading:l.isFetching}),e.jsx(En,{pagination:{currentPage:a,setPage:n,totalPages:((x=l.data)==null?void 0:x.pagination.totalPages)||1}})]})]})},Xh=t=>{var p;const{currency:s,statusFilter:a}=t,[n,r]=c.useState(1),{marketLocation:i}=me(),l=10,[o,u]=c.useState();c.useEffect(()=>{r(1)},[a,s]);const{getInstrumentDisplayNameFromDenom:d}=Te(),{data:x,isFetching:m}=p1({query:{location:Rt(i),page:n,size:l,status:a==="ALL"?[]:[a],asset:s}}),f=[{key:"loanPool",displayName:"Loan Pool",className:"text-left"},{key:"createdAt",displayName:"Created Date",className:"text-left"},{key:"status",displayName:"Status",className:"text-left"},{key:"initialAmount",displayName:"Initial Amount",className:"text-right"},{key:"interestIncurred",displayName:"Interest Incurred",className:"text-right"},{key:"totalAmount",displayName:"Total Amount",className:"text-right"},{key:"apr",displayName:"APR",className:"text-right"},{key:"utilRate",displayName:"Util. Rate / Amount",className:"text-right"},{key:"cancel",displayName:""}];return e.jsxs(e.Fragment,{children:[!m&&!((x==null?void 0:x.data)??[]).length?e.jsx(Ua,{preText:"",postText:"No offers to display"}):e.jsx($s,{tableColumns:f,isLoading:m,tableBody:e.jsx(e.Fragment,{children:x==null?void 0:x.data.map((g,h)=>e.jsxs(Vt,{children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center justify-start",children:[e.jsx(ue,{coin:g.asset,displayName:d(g.asset),className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-xs font-bold text-figma-neutral-light",children:d(g.asset)})]})}),e.jsx(K,{children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:new Date(g.createdAt).toLocaleTimeString("en-US")}),e.jsx("span",{className:"text-neutral-400 font-semibold tabular-nums text-xs",children:new Date(g.createdAt).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})})]})})}),e.jsx(K,{className:"text-left",children:e.jsx(qt,{variant:g.status,statusDisplay:g.status,byPercentage:!0,percentage:I(g.utilRate).mul(100).toNumber()})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:e.jsx(V,{value:g.initialAmt,currencySymbol:g.asset,decimalPlaces:2})})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:e.jsx(V,{value:g.interestAmt,currencySymbol:g.asset,decimalPlaces:2})})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:e.jsx(V,{value:I(g.amt).add(g.outstandingInterestAmt).toNumber(),currencySymbol:g.asset,decimalPlaces:2})})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:Oe(g.rate,1)})}),e.jsxs(K,{className:"text-right",children:[e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:Oe(g.utilRate,1)}),e.jsx("p",{className:"text-figma-neutral font-semibold",children:e.jsx(V,{value:g.utilAmt,currencySymbol:g.asset,decimalPlaces:2})})]}),e.jsx(K,{className:"text-right",children:["ACTIVE","PENDING"].includes(g.status)?e.jsx(Y,{onPress:()=>u(g),className:"outline-none cursor-pointer",children:e.jsx(Ln,{})}):e.jsx(e.Fragment,{})})]},`${g.id} - ${h}`))})}),e.jsx(En,{pagination:{currentPage:n,setPage:r,totalPages:((p=x==null?void 0:x.pagination)==null?void 0:p.totalPages)||1}}),e.jsx(g1,{offer:o,onClose:()=>u(void 0)})]})},e9=t=>{var d,x,m,f;const{currency:s,periodFilter:a}=t,[n,r]=c.useState(1),{marketLocation:i}=me(),l=10;c.useEffect(()=>{r(1)},[a,s]);const o=q6({query:{location:Rt(i),page:n,size:l,period:a,asset:s}}),u=[{key:"period",displayName:"Period",className:"text-left"},{key:"beginningOffers",displayName:"Beginning Offers",className:"text-right"},{key:"newOffers",displayName:"New Offers",className:"text-right"},{key:"interestAccrued",displayName:"Int. Accrued",className:"text-right"},{key:"exitAmount",displayName:"Exit Amount",className:"text-right"},{key:"endingOffers",displayName:"Ending Offers",className:"text-right"}];return e.jsxs(e.Fragment,{children:[!o.isFetching&&!(((d=o==null?void 0:o.data)==null?void 0:d.data)??[]).length?e.jsx(Ua,{postText:`${s} periods`}):e.jsx($s,{tableColumns:u,isLoading:o.isFetching,tableBody:e.jsx(e.Fragment,{children:(x=o==null?void 0:o.data)==null?void 0:x.data.map((p,g)=>e.jsxs(Vt,{className:"h-14",children:[e.jsx(K,{children:e.jsxs("div",{className:"flex flex-col justify-start",children:[e.jsx("div",{className:"font-semibold text-xs tabular-nums text-neutral-500",children:bc(g,p.startTime,p.endTime,a)}),a==="HOUR"&&e.jsx("div",{className:"text-neutral-400 font-semibold tabular-nums text-xs",children:Na(p.startTime)})]})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:e.jsx(V,{value:p.beginningOffers,currencySymbol:p.asset,decimalPlaces:6})})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:e.jsx(V,{value:p.newOffers,currencySymbol:p.asset,decimalPlaces:6})})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:e.jsx(V,{value:p.interestAccrued,currencySymbol:p.asset,decimalPlaces:6})})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:e.jsx(V,{value:p.exitAmount,currencySymbol:p.asset,decimalPlaces:6})})}),e.jsx(K,{className:"text-right",children:e.jsx("p",{className:"text-figma-neutral-light font-semibold",children:e.jsx(V,{value:p.endingOffers,currencySymbol:p.asset,decimalPlaces:6})})})]},`${p.leveragePoolId} - ${g}`))})}),e.jsx(En,{pagination:{currentPage:n,setPage:r,totalPages:((f=(m=o.data)==null?void 0:m.pagination)==null?void 0:f.totalPages)||1}})]})},t9=()=>{const{hasConsented:t}=cs(),{hash:s,pathname:a}=Cs(),{marketBaseCurrency:n}=me(),r=Fe(),{originalLicensingJurisdiction:i}=ae(pt),l=Ye(),[o,u]=c.useState(n),[d,x]=c.useState("ALL"),[m,f]=c.useState("MONTH"),p=s?s.substring(1):"offers",g=t,h=[{key:"ALL",value:"All Offers"},{key:"ACTIVE",value:"Active Offers"},{key:"PENDING_CANCELLATION",value:"Pending Cancelation"},{key:"CANCELLED",value:"Canceled"}],b=[{key:"HOUR",value:"Hourly"},{key:"DAY",value:"Daily"},{key:"WEEK",value:"Weekly"},{key:"MONTH",value:"Monthly"}];return r.IS_IRELAND_RESTRICTION_ENABLED&&i==="IRELAND"?e.jsx(ks,{to:re.home()}):e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Lending - Figure Markets"})}),e.jsxs("div",{className:"flex flex-col p-6 h-full",children:[g&&e.jsxs("div",{className:"w-full mb-6 flex flex-wrap gap-3 justify-between items-center",children:[e.jsxs("div",{className:"w-full sm:w-fit flex gap-x-2 justify-between sm:justify-start items-center",children:[e.jsxs(wn,{fullWidth:!1,children:[g&&e.jsx($t,{onClick:()=>{l(`${a}#offers`)},isActive:p==="offers",className:"w-[89px]",children:"Offers"}),g&&e.jsx($t,{onClick:()=>{l(`${a}#periods`)},isActive:p==="periods",className:"w-[89px]",children:"Periods"})]}),e.jsx(od,{currency:o,onSelect:u,valueString:"Loan Pool"})]}),e.jsxs("div",{children:[p==="offers"&&e.jsx(Qn,{selectedItem:d,onSelect:j=>x(j),dropdownOptions:h,buttonClassname:"w-[196px] sm:w-[240px]"}),p==="periods"&&e.jsx(Qn,{selectedItem:m,onSelect:j=>f(j),dropdownOptions:b,buttonClassname:"w-[196px] sm:w-[240px]"})]})]}),p==="offers"&&g&&e.jsx(Xh,{currency:o,statusFilter:d}),p==="periods"&&g&&e.jsx(e9,{currency:o,periodFilter:m}),!g&&e.jsx("div",{className:"mt-7 w-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold",children:"There is no lending history"})})]})]})},s9=()=>{const{pathname:t}=Cs();return e.jsxs(ad,{children:[e.jsx(ea,{to:re.lendLearn(),isActive:t===re.lendLearn(),children:"About"}),e.jsx(ea,{to:re.lend(),isActive:t===re.lend(),children:"Marketplace"})]})},a9="/exchange/assets/Democratized-Prime-Terms-and-Disclosures-Po6mVTBt.pdf",n9=({isOpen:t,onClose:s})=>{const{isAuthenticatedWithCookie:a}=ee(),{hasKrangBlocker:n}=Le(),[r,i]=c.useState(!1),[l,o]=c.useState(!1),[u,d]=c.useState(!1),[x,m]=c.useState(),[f]=Uu(),{notifyGenericError:p}=Be(),g=c.useRef(null),h={title:"Democratized_Prime_Terms_and_Conditions",file:a9},b=()=>{if(g.current){const C=g.current.scrollHeight-g.current.scrollTop;i(Math.ceil(C)===g.current.clientHeight)}};c.useEffect(()=>{var C;return(C=g.current)==null||C.addEventListener("scroll",b),()=>{var w;(w=g.current)==null||w.removeEventListener("scroll",b)}},[t]);const j=()=>{o(!1),s()},y=()=>{d(!0),f().unwrap().then(()=>{d(!1),j()}).catch(C=>{m(ct(C)),d(!1)})};return e.jsx($e,{isOpen:t,onClose:j,useChildrenWidth:!Lt(),children:u?e.jsx("div",{className:"flex w-[400px] h-[200px] items-center justify-center pt-4 [&>*]:w-12 [&>*]:h-12",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{button:e.jsxs(T.Secondary,{className:"flex gap-x-2 items-center",onPress:async()=>{try{(async()=>{var A;const N=await(await fetch(h.file)).blob(),v=document.createElement("a");v.setAttribute("href",window.URL.createObjectURL(N)),v.setAttribute("download",h.title),document.body.appendChild(v),v.click(),(A=v.parentNode)==null||A.removeChild(v),setTimeout(()=>URL.revokeObjectURL(v.href),7e3)})()}catch{p({title:"There was an issue downloading the documents",description:"Please try again, or contact support"})}},children:["Download",e.jsx(w1,{})]}),children:"Democratized Prime Terms and Conditions"}),e.jsxs("div",{className:"mobile:w-[615px]",children:[e.jsx("div",{ref:g,className:"rounded-md border border-neutral-100 h-[31.25rem] overflow-y-scroll my-2",children:e.jsx(i1,{file:h.file})}),a&&!n&&e.jsxs(e.Fragment,{children:[e.jsx(Os,{className:"text-xs font-normal items-start pt-2 pb-4",isSelected:l,onChange:()=>o(!l),children:e.jsx("p",{className:"text-xs font-normal",children:"By checking this box, the Lender agrees that they have reviewed the above Terms and Conditions."})}),x&&e.jsx(G,{className:"my-2",variant:"error",children:x}),e.jsx(T.Primary,{className:"w-full",onPress:y,isDisabled:!l||!r,children:"Scroll and read to accept"})]}),a&&n&&e.jsx(G,{variant:"success",children:"Use your Figure Markets mobile app to continue the sign up process to enable deposits, withdrawals, and trading. It only takes couple of minutes."}),!a&&e.jsx(G,{children:"Log In or Sign Up to continue"})]})]})})},r9=({onPress:t})=>{const s=Ye();return e.jsx("div",{className:"border-y-neutral-200 border-solid border-y p-2.5 md:h-[156px]",children:e.jsxs("div",{className:"w-full h-full text-center sm:text-left px-5 lg:px-12 py-5 md:py-3 flex flex-col sm:flex-row items-center justify-between gap-x-4 gap-y-3",style:{background:"radial-gradient(55.54% 135.1% at 50% 135.1%, rgba(8, 14, 24, 0.00) 0%, rgba(8, 14, 24, 0.00) 1.07%, rgba(91, 153, 138, 0.20) 26.69%, rgba(23, 111, 188, 0.20) 76.87%, rgba(128, 123, 201, 0.20) 100%), var(--Neutral-Dark, #1C2434)"},children:[e.jsx("img",{src:"https://www.datocms-assets.com/119559/1726191282-marketsdemocratized_prime-min.jpg",className:"h-28 w-28 object-cover rounded-2xl",alt:"demo_prime"}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-x-7 gap-y-4 items-center justify-center lg:justify-between w-full",children:[e.jsxs("div",{className:"flex flex-col gap-y-1.5",children:[e.jsx("p",{className:"text-sm sm:text-base font-bold",children:"Democratized Prime"}),e.jsx("p",{className:"text-xs sm:text-sm font-normal",children:"With Democratized Prime, we connect your assets with borrowers seeking short-term loans for trading within Figure Markets."})]}),e.jsxs("div",{className:"flex gap-2 justify-center sm:justify-start lg:justify-end w-full lg:w-fit",children:[e.jsx(T.Primary,{className:"flex items-center justify-center gap-x-1 w-max whitespace-nowrap",onPress:t,children:"Get Started"}),e.jsx(T.Secondary,{className:"flex items-center justify-center gap-x-1 w-max whitespace-nowrap bg-transparent",onPress:()=>s(re.lendLearn()),children:"Learn More"})]})]})]})})},cd=t=>c.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"M7 3L12.1962 9H1.80385L7 3Z",fill:"currentColor"})),Ds=t=>{const{title:s,value:a,change:n,tooltip:r}=t;return e.jsxs("div",{className:"flex-col text-xs font-bold whitespace-nowrap min-w-20",children:[e.jsxs("div",{className:"flex gap-x-1.5 items-center",children:[e.jsx("p",{className:"text-figma-neutral",children:s}),r&&e.jsx(Me,{description:r})]}),e.jsxs("div",{className:"flex gap-x-2",children:[e.jsx("p",{className:"font-bold tabular-nums",children:a}),!isNaN(Number(n))&&e.jsxs("div",{className:Ke("flex gap-x-1 items-center",Number(n)>=0&&"text-figma-positive",Number(n)<0&&"text-figma-alert"),children:[Number(n)>0&&e.jsx(cd,{className:"w-4 h-4"}),n," bps"]})]})]})},i9=()=>{const{selectedSummary:t,selectedLoanPoolAsset:s,currentPeriods:a,nextPeriods:n}=cs(),[r,i]=c.useState(""),l=I5(t==null?void 0:t.termDuration),o=nc(t==null?void 0:t.termDuration),u=s0(new Date),d=new Date,m=a0(d,u)%l,f=hl(n0(d,m)),p=hl(r0(f,l));return xo(()=>{const g=i0(p,new Date),h=g<0?0:g,b=Math.floor(h/60),j=h%60;i(`${b}:${j.toString().padStart(2,"0")}`)},1e3),e.jsxs("div",{className:"flex gap-x-4 max-h-[56px] overflow-x-auto scrollbar-none",children:[e.jsx(Ds,{title:"Total Offers",value:xe((a==null?void 0:a.totalOfferAmount)??"--",!1,!0,0,s),tooltip:"Assets offered to be loaned out by lenders at various rates. See the Current Offers for details."}),e.jsx(Ds,{title:"Current Loans",value:xe((a==null?void 0:a.totalLoanAmount)??"--",!1,!0,0,s),tooltip:"Total borrowing activity within the period"}),e.jsx(Ds,{title:"Est. Next Loans",value:xe((n==null?void 0:n.totalLoanAmount)??"--",!1,!0,0,s),tooltip:"Total borrowing activity projected. This is a current snapshot of the current loans outstanding less any assets borrowers have in their account that could be used to automatically pay back loans."}),e.jsx(Ds,{title:"Current APR",value:Oe(a==null?void 0:a.rate,1),change:(a==null?void 0:a.rateChangeBps)??0,tooltip:"Rate that was determined by the prior dutch auction. The rate stays constant during this loan period. Rate is exclusive of Figure Markets' 50bps matching fee."}),e.jsx(Ds,{title:"Est. Next APR",value:Oe(n==null?void 0:n.rate,1),change:(n==null?void 0:n.rateChangeBps)??0,tooltip:"Rate that would be active if all outstanding loans, less repayments, rolled into the offers offered in the next cycle. Rate is exclusive of Figure Markets' 50bps matching fee."}),e.jsx(Ds,{title:"Loan Period",value:o??"--"}),e.jsx(Ds,{title:"Time to Roll",value:r,tooltip:"Countdown to the next loan cycle and dutch auction."}),e.jsx(Ds,{title:"Minimum Offer",value:xe((t==null?void 0:t.minimumOffer)??"--",!1,!0,0,s)})]})},l9=()=>{const t=cs(),{selectedLoanPoolAsset:s,selectLoanPool:a,leveragePools:n}=t,[r,i]=c.useState(!1),l=c.useRef(null),o=c.useRef(null),u=lr({isOpen:r,onOpenChange:i}),{triggerProps:d}=Di({type:"menu"},u,l),{popoverProps:x,underlayProps:m}=Ti({triggerRef:l,offset:0,popoverRef:o,placement:"bottom"},u);return!n||s===""?e.jsx("div",{className:"animate-pulse bg-neutral-100 rounded w-[252px] h-[38px]"}):e.jsx("div",{children:e.jsxs(fo,{children:[e.jsxs(Y,{...d,ref:l,"aria-label":"Menu",className:`flex relative items-center justify-between bg-neutral-100 hover:bg-p-500 text-xs font-bold outline-none outline-offset-0 px-2.5 py-2.5 w-[150px] mobile:w-[252px] hover:cursor-pointer ${r?"rounded-t":"rounded"}`,children:[e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx(ue,{coin:s,className:"w-4 h-4"}),s]}),e.jsxs("div",{className:"flex items-center gap-x-1",children:[e.jsx("p",{className:"hidden mobile:block",children:r?"Close":"All Loan Pools"}),e.jsx(ds,{className:`ml-2 w-3 h-3 ${r&&"rotate-180"} transition ease-in-out duration-500`})]})]}),u.isOpen&&e.jsxs(Pi,{children:[e.jsx("div",{...m,className:"fixed z-50 overflow-hidden w-full h-full top-0",id:"underlay"}),e.jsx("div",{...x,ref:o,children:e.jsx(po,{className:"rounded-b-md bg-neutral-100 outline-none drop-shadow-2xl",children:n.map(f=>e.jsxs(go,{onAction:()=>{a(f.asset),i(!1)},className:"flex items-center gap-x-1  w-[150px] mobile:w-[252px] px-2.5 py-2.5 rounded-b-md outline-none text-xs font-bold relative hover:bg-p-500 cursor-pointer",children:[e.jsx(ue,{coin:f.asset,className:"w-4 h-4"}),f.asset]},f.asset))})})]})]})})},o9=()=>e.jsxs("div",{className:"flex h-[56px] items-center gap-x-4 p-3",children:[e.jsx(l9,{}),e.jsx(i9,{})]}),c9=({isAuthenticatedWithCookie:t,isDisabled:s,activeLoanPool:a,offers:n})=>{const[r,i]=c.useState(),l=n==null?void 0:n.data.filter(o=>a==="ALL"?!0:o.asset===a);return e.jsxs(e.Fragment,{children:[!t&&e.jsxs("div",{className:"flex justify-center items-center flex-col h-full min-h-[250px]",children:[e.jsx("span",{className:"font-bold text-sm mb-3",children:"Connect your wallet to see your offers"}),e.jsx(Ns,{})]}),t&&((n==null?void 0:n.data.length)===0||s)&&e.jsxs("div",{className:"flex flex-col justify-center items-center gap-y-2 h-full min-h-[250px]",children:[e.jsx(ka,{className:"h-28 w-28"}),e.jsxs("span",{className:"text-sm font-bold text-figma-neutral",children:["Your ",a!=="ALL"?a:void 0," offers will appear here"]})]}),t&&!s&&(n==null?void 0:n.data)&&n.data.length>0&&e.jsxs("div",{className:"h-full min-h-[250px]",children:[e.jsxs("table",{className:"w-full","aria-label":"Offers",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-neutral-200 border-solid border-b-[1px]",children:[e.jsx("th",{className:"text-xs font-bold text-left py-2 px-4 mobile:px-6  text-nowrap",children:"Loan Pool"}),e.jsx("th",{className:"text-xs font-bold text-left py-2 px-4 mobile:px-6",children:"Date"}),e.jsx("th",{className:"text-xs font-bold text-left py-2 px-6 hidden ultra:table-cell",children:"Status"}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6 hidden mobile:table-cell",children:e.jsxs("div",{className:"flex text-nowrap justify-end gap-1 items-center",children:["Initial Amount",e.jsx(Me,{description:"The original amount offered for lending. Does not include accrued interest."})]})}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6 hidden ultra:table-cell",children:"Interest"}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-4 mobile:px-6",children:e.jsxs("div",{className:"flex text-nowrap justify-end gap-1 items-center",children:["Total Amount",e.jsx(Me,{description:"The original amount offered for lending plus accrued interest"})]})}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6 text-nowrap hidden mobile:table-cell",children:"APR"}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6 text-nowrap hidden ultra:table-cell",children:"Util. Rate / Amount"}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-4 mobile:px-6"})]})}),e.jsx("tbody",{children:l==null?void 0:l.map((o,u)=>e.jsxs("tr",{className:"border-b-neutral-200 border-b-[1px] last:border-b-0 text-xs tabular-nums",children:[e.jsx("td",{className:"px-4 mobile:px-6 py-2 text-left",children:e.jsxs("div",{className:"flex items-center justify-start",children:[e.jsx(ue,{coin:o.asset,className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-xs font-bold text-figma-neutral-light",children:o.asset})]})}),e.jsxs("td",{className:"px-4 mobile:px-6  py-2 text-left",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-figma-neutral-light text-nowrap",children:new Date(o.createdAt).toLocaleTimeString("en-US")}),e.jsx("span",{className:"text-figma-neutral",children:new Date(o.createdAt).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]})," "]}),e.jsx("td",{className:"px-6 py-2 text-left hidden ultra:table-cell",children:e.jsx(qt,{variant:o.status,statusDisplay:o.status,byPercentage:!0,percentage:I(o.utilRate).mul(100).toNumber()})}),e.jsx("td",{className:"px-6 py-2 text-right text-nowrap hidden mobile:table-cell",children:e.jsx(V,{value:o.initialAmt,currencySymbol:o.asset,decimalPlaces:2})}),e.jsx("td",{className:"px-6 py-2 text-right text-nowrap hidden ultra:table-cell",children:e.jsx(V,{value:o.interestAmt,currencySymbol:o.asset,decimalPlaces:2})}),e.jsx("td",{className:"px-4 mobile:px-6  py-2 text-right text-nowrap",children:e.jsx(V,{value:I(o.amt).add(o.outstandingInterestAmt).toString(),currencySymbol:o.asset,decimalPlaces:2})}),e.jsx("td",{className:"px-6 py-2 text-right hidden mobile:table-cell",children:e.jsx("p",{className:"text-figma-neutral-light",children:Oe(o.rate,1)})}),e.jsxs("td",{className:"px-6 py-2 text-right hidden ultra:table-cell",children:[e.jsx("p",{className:"text-figma-neutral-light",children:Oe(o.utilRate,2)}),e.jsx("p",{className:"text-figma-neutral",children:e.jsx(V,{value:o.utilAmt,currencySymbol:o.asset,decimalPlaces:2})})]}),e.jsx("td",{className:"py-2 px-4 mobile:px-6  text-right",children:["ACTIVE","PENDING"].includes(o.status)&&e.jsx(Y,{onPress:()=>i(o),className:"outline-none cursor-pointer",children:e.jsx(Ln,{})})})]},`${o.id}-${u}`))})]}),(l==null?void 0:l.length)===0&&e.jsxs("div",{className:"w-full flex flex-col justify-center items-center gap-y-2 pt-12",children:[e.jsx(ka,{className:"h-28 w-28"}),e.jsxs("span",{className:"text-sm font-bold text-figma-neutral",children:["No offers for ",a]})]})]}),e.jsx(g1,{offer:r,onClose:()=>i(void 0)})]})},d9=({isAuthenticatedWithCookie:t,isDisabled:s,currentPeriod:a})=>e.jsxs(e.Fragment,{children:[!t&&e.jsxs("div",{className:"flex justify-center items-center flex-col h-full min-h-[250px]",children:[e.jsx("span",{className:"font-bold text-sm mb-3",children:"Connect your wallet to see your positions"}),e.jsx(Ns,{})]}),t&&((a==null?void 0:a.length)===0||s)&&e.jsxs("div",{className:"flex flex-col justify-center items-center gap-y-2 h-full min-h-[250px]",children:[e.jsx(ka,{className:"h-28 w-28"}),e.jsx("span",{className:"text-sm font-bold text-figma-neutral",children:"Your positions will appear here"})]}),t&&!s&&a&&(a==null?void 0:a.length)>0&&e.jsx("div",{className:"h-full min-h-[250px]",children:e.jsxs("table",{className:"w-full","aria-label":"Orders",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-neutral-200 border-solid border-b-[1px]",children:[e.jsx("th",{className:"text-xs font-bold text-left py-2 px-6 text-nowrap",children:"Loan Pool"}),e.jsxs("th",{className:"text-xs font-bold py-2 px-6 flex text-nowrap justify-end gap-1 items-center",children:["Total Amount",e.jsx(Me,{description:"Your initial offer amount will increase in value as you accrue interest after each period"})]}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6 text-nowrap",children:"Current APR"}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6 text-nowrap",children:"Util. Rate / Amount"}),e.jsx("th",{className:"text-xs font-bold text-right py-2 px-6 text-nowrap",children:"Est. Earnings"})]})}),e.jsx("tbody",{children:a==null?void 0:a.map((n,r)=>e.jsxs("tr",{className:"border-b-neutral-200 border-b-[1px] last:border-b-0 text-xs tabular-nums",children:[e.jsx("td",{className:"px-6 py-2 text-left",children:e.jsxs("div",{className:"flex items-center justify-start",children:[e.jsx(ue,{coin:n.asset,className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-xs font-bold text-figma-neutral-light",children:n.asset})]})}),e.jsx("td",{className:"px-6 py-2 text-right",children:e.jsx(V,{value:n.totalAmt,currencySymbol:n.asset,decimalPlaces:2})}),e.jsx("td",{className:"px-6 py-2 text-right",children:Oe(n.interestRate,1)}),e.jsxs("td",{className:"px-6 py-2 text-right",children:[e.jsx("p",{className:"text-figma-neutral-light",children:Oe(n.utilRate,1)}),e.jsxs("p",{className:"text-figma-neutral",children:[" ",e.jsx(V,{value:n.utilAmt,currencySymbol:n.asset,decimalPlaces:2})]})]}),e.jsx("td",{className:"px-6 py-2 text-right text-nowrap",children:e.jsx(V,{value:n.estEarnings,currencySymbol:n.asset,decimalPlaces:6})})]},`${n.leveragePoolId}-${r}`))})]})})]}),u9=()=>{const[t,s]=c.useState("openLoans"),{isAuthenticatedWithCookie:a}=ee(),{hasConsented:n,leveragePools:r}=cs(),{marketLocation:i}=me(),l=Ye(),[o,u]=c.useState(!1),[d,x]=c.useState("ALL"),m=c.useRef(null),{data:f}=p1({query:{location:Rt(i),status:["ACTIVE","PENDING","PENDING_CANCELLATION"]}},{pollingInterval:15e3,skip:!n||!a}),{data:p}=$6({query:{location:Rt(i)}},{pollingInterval:15e3,skip:!n||!a}),g=[{id:"ALL",name:"All Loan Pools"},...(r==null?void 0:r.map(b=>({id:b.asset,name:b.asset})))||[]],h=g.find(b=>b.id===d)??g[0];return e.jsxs(mr,{className:"flex flex-col w-full h-full",selectedKey:t,onSelectionChange:b=>{s(b)},children:[e.jsx("div",{className:"sticky top-0 z-50 bg-neutral-white",children:e.jsxs("div",{className:"md:flex w-full border-b-[1px] border-figma-neutral-dark items-center justify-between",children:[e.jsxs(xr,{className:"flex bg-neutral-white","aria-label":"Open Loans, Offers, and Earnings",children:[e.jsx(Ms,{id:"openLoans",className:"w-full sm:min-w-[120px] sm:w-fit",children:"Current Period"}),e.jsx(Ms,{id:"offers",className:"w-full sm:min-w-[120px] sm:w-fit",children:"Offers"})]}),a&&n&&t==="offers"&&e.jsxs("div",{className:"hidden lg:flex gap-x-6 mr-2.5",children:[e.jsx(T.Link,{onPress:()=>{l(re.home("lending"))},className:"text-xs underline-offset-2",children:"View All Offers"}),e.jsxs(Ws,{children:[e.jsx(Y,{onPress:()=>u(!0),ref:m,"aria-label":"Menu",className:`flex relative items-center justify-between bg-neutral-100 hover:bg-p-500 text-xs font-bold outline-none outline-offset-0 px-2.5 py-1 w-[125px] hover:cursor-pointer ${o?"rounded-t":"rounded"}`,children:e.jsxs("div",{className:"w-full flex items-center justify-between gap-x-1",children:[e.jsx("p",{children:h.name}),e.jsx(ds,{className:`ml-2 w-3 h-3 ${o&&"rotate-180"} transition ease-in-out duration-500`})]})}),e.jsxs(xa,{isOpen:o,triggerRef:m,onOpenChange:u,offset:0,crossOffset:0,className:"entering:animate-in entering:fade-in exiting:animate-out exiting:fade-out",children:[" ",e.jsx(is,{className:"rounded-b-md bg-neutral-100 outline-none drop-shadow-2xl",children:g.map(b=>e.jsxs(Y,{id:String(b.id),className:"flex justify-between items-center gap-x-1 w-[125px] px-2.5 py-2.5 last:rounded-b-md outline-none text-xs font-bold relative hover:bg-p-500 cursor-pointer","aria-label":b.id,onPress:()=>{x(b.id),u(!1)},children:[e.jsx("div",{className:"flex items-center gap-2",children:b.name}),h.id===b.id&&e.jsx(Bs,{})]},b.id))})]})]})]})]})}),e.jsx(es,{id:"openLoans",className:"h-full overflow-auto scrollbar-thin",children:e.jsx(d9,{isAuthenticatedWithCookie:a,isDisabled:!n,currentPeriod:p})}),e.jsx(es,{id:"offers",className:"h-full overflow-auto scrollbar-thin",children:e.jsx(c9,{offers:f,isAuthenticatedWithCookie:a,activeLoanPool:d,isDisabled:!n})})]})},m9=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:21,height:20,viewBox:"0 0 21 20",fill:"none",...t},c.createElement("mask",{id:"mask0_393_6287",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:21,height:20},c.createElement("rect",{x:.5,width:20,height:20,fill:"#D9D9D9"})),c.createElement("g",{mask:"url(#mask0_393_6287)"},c.createElement("path",{d:"M13.249 16C11.583 16 10.1667 15.4167 9 14.25C7.83333 13.0833 7.25 11.667 7.25 10.001C7.25 8.34757 7.83333 6.93403 9 5.76042C10.1667 4.58681 11.583 4 13.249 4C14.9024 4 16.316 4.58681 17.4896 5.76042C18.6632 6.93403 19.25 8.34757 19.25 10.001C19.25 11.667 18.6632 13.0833 17.4896 14.25C16.316 15.4167 14.9024 16 13.249 16ZM13.2396 14.5C14.4965 14.5 15.5625 14.066 16.4375 13.1979C17.3125 12.3299 17.75 11.2674 17.75 10.0104C17.75 8.75347 17.3125 7.6875 16.4375 6.8125C15.5625 5.9375 14.5 5.5 13.25 5.5C11.9861 5.5 10.9201 5.9375 10.0521 6.8125C9.18403 7.6875 8.75 8.75 8.75 10C8.75 11.2639 9.18403 12.3299 10.0521 13.1979C10.9201 14.066 11.9826 14.5 13.2396 14.5ZM14.9583 12.7917L16.0208 11.7292L13.9981 9.70229V7H12.5V10.3175L14.9583 12.7917ZM3 7.5V6H6V7.5H3ZM2 10.75V9.25H6V10.75H2ZM3 14V12.5H6V14H3Z",fill:"#DDDDDD"}))),x9=t=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...t},c.createElement("mask",{id:"mask0_393_6279",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:20,height:20},c.createElement("rect",{width:20,height:20,fill:"#D9D9D9"})),c.createElement("g",{mask:"url(#mask0_393_6279)"},c.createElement("path",{d:"M12.4792 8.79167L15.3542 5.91667L14.6251 5.20833L12.4792 7.375L11.3751 6.25L10.6459 6.97917L12.4792 8.79167ZM2.97925 16V14.5H11.9792V16H2.97925ZM12.9953 11C11.8874 11 10.9445 10.6095 10.1667 9.82854C9.38897 9.04771 9.00008 8.10326 9.00008 6.99521C9.00008 5.88729 9.39057 4.94444 10.1715 4.16667C10.9524 3.38889 11.8968 3 13.0049 3C14.1128 3 15.0556 3.39049 15.8334 4.17146C16.6112 4.95229 17.0001 5.89674 17.0001 7.00479C17.0001 8.11271 16.6096 9.05556 15.8286 9.83333C15.0478 10.6111 14.1033 11 12.9953 11ZM2.97925 9.75V8.25H7.64592C7.71536 8.52778 7.79869 8.78819 7.89592 9.03125C7.99314 9.27431 8.11119 9.51389 8.25008 9.75H2.97925ZM2.97925 12.875V11.375H9.68758C10.0241 11.6283 10.3825 11.841 10.7628 12.0129C11.1432 12.1849 11.5487 12.3125 11.9792 12.3958V12.875H2.97925Z",fill:"#DDDDDD"}))),h9=({rows:t})=>[...Array(t)].map((s,a)=>e.jsx("div",{className:"flex",children:e.jsx("div",{className:"rounded-3xl bg-figma-neutral-darker w-full h-[18px] grid grid-cols-3 gap-10 tabular-nums mb-1 animate-pulse"})},a)),f9=({rate:t,amount:s,utilRate:a})=>e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"rounded-3xl w-full grid grid-cols-3 gap-10 tabular-nums mb-1",style:{background:`linear-gradient(
              to right, 
              #003D2B,
              #003D2B ${I(a).mul(100)}%,
              #161B24 ${I(a).mul(100)}%,
              #161B24
            )`},children:[e.jsx("span",{className:"text-xs font-medium flex gap-1 items-center justify-end",children:Oe(t,1)}),e.jsx("span",{className:"text-xs font-medium flex gap-1 items-center justify-end",children:St(s,2)}),e.jsx("span",{className:"text-xs font-medium flex gap-1 items-center justify-end mr-7",children:Oe(a,1)})]})}),oo=({title:t,description:s,current:a,offers:n,selectedLoanPoolAsset:r})=>e.jsx("div",{className:"h-1/2",children:e.jsxs("div",{className:"h-full overflow-y-auto scrollbar-thin",children:[e.jsxs("div",{className:"sticky  top-0 z-50 bg-neutral-white",children:[e.jsxs("div",{className:"py-[7px] px-3 flex flex-col items-center gap-1 justify-center border-b-[1px] border-figma-neutral-dark",children:[e.jsxs("div",{className:"flex items-center gap-1 text-figma-neutral-light font-bold text-sm",children:[a?e.jsx(x9,{}):e.jsx(m9,{}),t]}),e.jsx("span",{className:"text-xs font-medium text-figma-neutral text-center",children:s})]}),e.jsxs("div",{className:"py-[3px] px-3 border-b-[1px] border-figma-neutral-dark bg-figma-neutral-darker flex justify-between items-center gap-1",children:[e.jsxs("span",{className:"text-xxs text-figma-neutral-light font-medium tabular-nums flex flex-wrap gap-1",children:[e.jsxs("span",{children:[a?"Current":"Est. Next"," Loans:"]}),e.jsx("span",{children:xe((n==null?void 0:n.totalLoanAmount)??"--",!0,!1,2,r)})]}),e.jsxs("div",{className:"text-xxs text-figma-neutral-light font-medium tabular-nums items-center flex flex-wrap gap-1",children:[a?"Current":"Est. Next"," APR: ",Oe(n==null?void 0:n.rate,1),e.jsx("div",{className:"flex gap-x-1",children:e.jsxs("div",{className:Ke("flex gap-x-1 items-center text-xxs",((n==null?void 0:n.rateChangeBps)??0)>=0&&"text-figma-positive",((n==null?void 0:n.rateChangeBps)??0<0)&&"text-figma-alert"),children:[((n==null?void 0:n.rateChangeBps)??0)>0&&e.jsx(cd,{className:"w-4 h-4"}),n?Math.abs(n.rateChangeBps):"-"," bps"]})})]})]}),e.jsxs("div",{className:"p-3 border-b-[1px] border-figma-neutral-dark grid grid-cols-3 gap-10",children:[e.jsxs("div",{className:"text-xs font-medium flex gap-1 items-center justify-end",children:["APR"," ",e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:"%"})]}),e.jsxs("div",{className:"text-xs font-medium flex gap-1 items-center justify-end",children:["Amount",r!==""?e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:r}):e.jsx(Z,{size:"xxs",className:"ml-1 h-4 w-7 animate-pulse",variant:"coin"})]}),e.jsxs("div",{className:"text-xs font-medium flex gap-1 items-center justify-center",children:["Util. Rate",e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:"%"})]})]})]}),e.jsx("div",{className:"py-3 px-2",children:n?n.offers.map((i,l)=>e.jsx(f9,{...i},l)):e.jsx(h9,{rows:3})})]})}),p9=()=>{const{selectedLoanPoolAsset:t,currentPeriods:s,nextPeriods:a}=cs();return e.jsxs("div",{className:"h-full divide-y-[1px] divide-neutral-200",children:[e.jsx(oo,{title:"Next Period Offers",description:e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-bold",children:"Estimate"})," of offers outstanding at the beginning of next loan period with loan utilization reduced by expected loan payments."]}),offers:a,selectedLoanPoolAsset:t}),e.jsx(oo,{title:"Current Offers",description:"Shows all outstanding offers grouped and sorted by APR with utilization rate determined by loans outstanding.",offers:s,selectedLoanPoolAsset:t,current:!0})]})};const g9=t=>c.createElement("svg",{width:220,height:120,viewBox:"0 0 220 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"M89.3447 25.589L96.1204 71.7073L37.98 66.2453L31 19.4478L32.8437 17L89.3447 25.589Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M90.5363 23.8779L97.3119 69.9963L40.082 63.2261L33.292 17.0327L90.5363 23.8779Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M40.2527 63.0605L97.2354 69.8036L131.461 99.1177L129.839 102.852L74.1163 96.2573L38.252 66.6914L40.2527 63.0605Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M102.641 74.249L45.3622 67.479",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M117.238 86.77L60.2559 80.0269",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M39.957 63.0605L75.8214 92.6264L131.544 99.2213",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M75.7838 92.5483L74.1504 96.5152",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M120.955 42.7026H99.0976C89.6434 55.7586 81.1277 59.787 74.1327 59.2591C102.461 69.2052 117.151 52.3656 120.955 42.7026Z",fill:"#080E18"}),c.createElement("path",{d:"M56.5381 45.4245C59.5506 51.4495 65.7495 58.6265 74.1327 59.2591M74.1327 59.2591C81.1277 59.787 89.6434 55.7586 99.0976 42.7026H120.955C117.151 52.3656 102.461 69.2052 74.1327 59.2591Z",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M82.8496 45.5898H56.6211C68.3647 66.76 84.6265 58.6934 91.0976 52.2707C87.6004 51.6769 84.1418 47.5694 82.8496 45.5898Z",fill:"#5A56EC",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M136.081 36.5363H115.791C117.597 32.9433 120.888 29.0456 125.009 28.698C125.445 28.6612 125.89 28.6641 126.344 28.7113L147.666 28.9252C155.964 28.9252 160.942 40.0843 163.002 44.8913C164.554 48.511 167.39 55.0012 168.839 57.7099H146.121C144.198 55.6497 141.543 48.3057 140.455 44.8913C138.982 41.5042 137.519 38.7494 136.081 36.5363Z",fill:"#5A56EC"}),c.createElement("path",{d:"M136.449 36.5363H115.791C117.597 32.9433 120.888 29.0456 125.009 28.698M125.009 28.698C129.465 28.3221 134.89 32.0959 140.455 44.8913C141.543 48.3057 144.198 55.6497 146.121 57.7099H168.839C167.39 55.0012 164.554 48.511 163.002 44.8913C160.942 40.0843 155.964 28.9252 147.666 28.9252L125.009 28.698Z",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("path",{d:"M115.247 37.0794C118.357 30.8204 126.865 22.0577 136.019 37.0794H115.247Z",fill:"#080E18",stroke:"#5A56EC",strokeWidth:.515976}),c.createElement("ellipse",{cx:6.67362,cy:6.67233,rx:6.67362,ry:6.67233,transform:"matrix(-0.991897 -0.128028 0.127657 -0.991692 108.333 37.3301)",fill:"#2F285A"}),c.createElement("ellipse",{cx:6.67362,cy:6.67233,rx:6.67362,ry:6.67233,transform:"matrix(-0.991897 -0.128028 0.127657 -0.991692 109.093 36.9097)",fill:"#5A56EC"}),c.createElement("ellipse",{cx:6.67362,cy:6.67233,rx:6.67362,ry:6.67233,transform:"matrix(-0.991897 -0.128028 0.127657 -0.991692 183.652 56.8394)",fill:"#2F285A"}),c.createElement("ellipse",{cx:6.67362,cy:6.67233,rx:6.67362,ry:6.67233,transform:"matrix(-0.991897 -0.128028 0.127657 -0.991692 184.412 56.4189)",fill:"#5A56EC"}),c.createElement("ellipse",{cx:6.67362,cy:6.67233,rx:6.67362,ry:6.67233,transform:"matrix(-0.991897 -0.128028 0.127657 -0.991692 133.609 67.8901)",fill:"#2F285A"}),c.createElement("ellipse",{cx:6.67362,cy:6.67233,rx:6.67362,ry:6.67233,transform:"matrix(-0.991897 -0.128028 0.127657 -0.991692 134.369 67.4697)",fill:"#5A56EC"})),j9=()=>{const{showBanner:t}=cs(),s=Ye();return t?null:e.jsx("div",{className:"mb-3 xl:min-h-[120px]",children:e.jsxs("div",{className:"w-full h-full text-center xl:text-left px-5 py-3 md:py-3 flex flex-col xl:flex-row items-center justify-between gap-x-4 gap-y-3 bg-[#1C2434] to-transparent bg-gradient-to-r from-[#531C1C]/20",children:[e.jsx("div",{children:e.jsx(g9,{className:"h-[86px] w-[157px]"})}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-x-7 gap-y-4 items-center justify-center xl:justify-between w-full",children:[e.jsxs("div",{className:"flex flex-col gap-y-1.5",children:[e.jsx("p",{className:"text-sm xl:text-base font-bold",children:"Democratized Prime"}),e.jsx("p",{className:"text-xs xl:text-sm font-normal",children:"Learn how to lend on Democratized Prime"})]}),e.jsx("div",{className:"flex gap-2 justify-center xl:justify-end w-full xl:w-fit",children:e.jsx(T.Secondary,{className:"flex items-center justify-center gap-x-1 w-max whitespace-nowrap bg-transparent",onPress:()=>s(re.lendLearn()),children:"Learn More"})})]})]})})},Qs=({title:t,value:s,className:a,border:n})=>e.jsxs("div",{className:k("flex justify-between items-center p-2",n?"border-b-[1px] border-figma-neutral-darker border-solid":"",a),children:[e.jsx("p",{className:"font-medium text-xs",children:t}),e.jsx("p",{className:"font-medium text-xs tabular-nums",children:s})]}),b9=({asset:t})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{coin:t,className:"w-4 h-4"}),e.jsx("span",{children:t})]}),y9=()=>{const{selectedSummary:t,selectedLoanPoolAsset:s}=cs(),a=nc(t==null?void 0:t.termDuration);return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[e.jsx(j9,{}),e.jsxs("div",{className:"flex items-center justify-start",children:[e.jsx(ue,{coin:s,className:"w-5 h-5 mr-2"}),e.jsxs("span",{className:"text-sm font-bold text-figma-neutral-light",children:[s," Loan Pool Details"]})]}),e.jsx("span",{className:"font-bold text-xs",children:t==null?void 0:t.description}),e.jsxs("span",{className:"font-medium text-xs",children:["Put your ",s," to work by participating in hourly loan offers for leveraged trading. You set the amount and desired APR and Figure Markets will match you with a borrower and handle liquidations as needed. Unused assets can be withdrawn at the next loan roll."]})]}),e.jsxs("div",{className:"grid gap-x-8 grid-col-1 md:grid-rows-4 md:grid-cols-2",children:[e.jsx(Qs,{border:!0,title:"APR Range",value:`${Oe(t==null?void 0:t.minIntRate,1)} - ${Oe(t==null?void 0:t.maxIntRate,1)}`}),e.jsx(Qs,{border:!0,title:"Initial Position LTV",value:Oe(t==null?void 0:t.marginRate)}),e.jsx(Qs,{border:!0,title:"Roll",value:a}),e.jsx(Qs,{border:!0,title:"Margin Call LTV",value:Oe(t==null?void 0:t.marginCallRate)}),e.jsx(Qs,{title:"Collateral assets",value:e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:t==null?void 0:t.collateralAssets.map(n=>e.jsx(b9,{asset:n},n))}),className:"row-span-2 flex-col items-start justify-start gap-1"}),e.jsx(Qs,{border:!0,title:"Liquidation LTV",value:Oe(t==null?void 0:t.liquidationRate)}),e.jsx(Qs,{title:"Minimum Offer",value:xe((t==null?void 0:t.minimumOffer)??"--",!0)})]})]})},C9=({width:t})=>{const[a,n]=c.useState("rates");return e.jsx("div",{className:"w-full h-full overflow-auto scrollbar-thin border-t-[1px] border-figma-primary-dark lg:border-0",children:e.jsx(y9,{})})},N9=t=>c.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},c.createElement("path",{d:"M9.50005 2.55713L6 6.0572",stroke:"white",strokeWidth:1.5,strokeLinecap:"square",strokeLinejoin:"round"}),c.createElement("path",{d:"M5 2.05713H2V10.0571H10V7.05713",stroke:"white",strokeWidth:1.5}),c.createElement("path",{d:"M7 2.05713H10V5.05713",stroke:"white",strokeWidth:1.5})),w9=({currentPosition:t,isDisabled:s})=>{var F;const{selectedSummary:a,selectedLoanPoolAsset:n,currentPeriods:r}=cs(),i=(a==null?void 0:a.minimumOffer)??10,l=(r==null?void 0:r.rate)??.065,o=X(),{isAuthenticatedWithCookie:u}=ee(),[d,x]=c.useState("CREATE"),[m,f]=c.useState(0),[p,g]=c.useState(!1),[h,{isLoading:b,isError:j,error:y}]=W6(),C=Be(),w=c.useRef(null),{marketLocation:N}=me(),v={apr:ht(),amount:{value:i,display:he(i,2)}},A=Xe({defaultValues:v,mode:"onBlur",resolver:et(tt({apr:qe().required("APR is required").test({test:U=>Number(U.value)>0,message:"APR must be greater than 0"}).test({test:U=>Number(U.value)<30,message:"Maximum rate for loan pool is 30.0%"}),amount:qe().required("Amount is required").test({test:U=>Number(U.value)>=i,message:`Amount must be greater than ${he(i,0)}`}).test({name:"insufficient-funds",test:U=>Number(U.value)<=Number(t??0),message:"Insufficient funds to place this offer"})}))}),{reset:E,trigger:P,formState:{errors:L,isValid:O,isSubmitSuccessful:W},getValues:$,...R}=A;c.useEffect(()=>{E(v)},[u,n,a]),c.useEffect(()=>{W&&!j?(x("CREATE"),g(!1),E(v)):W&&j&&(x("REVIEW"),g(!1),E(void 0,{keepDirtyValues:!0}))},[E,W,j,v]);const D=()=>{o(te.open(n))},M=()=>{var U;O?(f(((U=w==null?void 0:w.current)==null?void 0:U.clientHeight)??200),x("REVIEW")):P()},B=()=>{j&&g(!0),x("CREATE")},_=async U=>{g(!1),await h({id:crypto.randomUUID(),rate:I(U.apr.value).div(100).toNumber(),amount:U.amount.value,currency:n,location:Rt(N)}).unwrap().then(z=>{C.notifyOfferReceived({...z,asset:n})})};return e.jsx(st,{...A,children:e.jsxs("form",{onSubmit:R.handleSubmit(_),id:"loan-offer-form",className:"p-4",children:[d==="CREATE"&&e.jsxs("div",{ref:w,className:"w-full flex flex-col items-center justify-center gap-y-6",children:[e.jsxs("span",{className:`text-sm font-bolder flex items-center gap-1 ${s?"opacity-50":""}`,children:[e.jsx(ue,{className:"w-5 h-5",coin:n,displayName:n})," Create"," ",n," Offer"]}),e.jsx(Pe.Number,{name:"apr",label:"APR %",description:`Current APR: ${Oe(l,1)}`,isDisabled:s,precision:1,className:"max-w-[625px] w-full",displayName:"%",placeholder:I(l).mul(100).toString(),labelTooltip:{heading:"APR (%)",description:"Enter your rate as an annual percentage rate. We’ll calculate the period rate automatically for you. Hourly rates are calculated as APR%/365/24. This would be the minimum APR for a borrower prior to origination fees charged by Figure Markets to the borrower. It’s possible the APR you receive will be higher."}}),e.jsx(Pe.Currency,{name:"amount",label:"Amount",description:`Offer Minimum: ${he(i)} ${n}`,additionalInputButtons:((F=L.amount)==null?void 0:F.type)==="insufficient-funds"?e.jsxs(T.Link,{onPress:D,className:"text-xs underline-offset-2 flex items-center gap-1 group",children:["Deposit ",n," ",e.jsx(N9,{className:"[&>*]:stroke-figma-primary-light group-hover:[&>*]:stroke-white"})]}):e.jsx(e.Fragment,{}),isDisabled:s,className:"max-w-[625px] w-full",displayName:n})]}),d==="REVIEW"&&e.jsxs("div",{className:"flex flex-col bg-neutral-white gap-y-6 max-w-[625px] w-full mx-auto max-lg:!min-h-0",style:{minHeight:`${m}px`},children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(T.Back,{className:"absolute",onPress:B}),e.jsx("p",{className:"text-sm font-bolder text-white mx-auto",children:"Review Order"})]}),e.jsxs("div",{className:"border border-1 border-p-dark p-4 flex flex-col gap-y-2 mb-4",children:[e.jsxs("div",{className:"font-bolder flex items-center gap-1",children:["Offer ",R.watch("amount.display")," ",e.jsx(ue,{className:"w-5 h-5",coin:n,displayName:n})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center pb-[4px]",children:[e.jsx("p",{className:"font-bold text-xs text-figma-neutral",children:"APR"}),e.jsx("p",{className:"font-bold text-xs tabular-nums text-right",children:Xa(R.watch("apr.display"),1)})]})]})]}),e.jsxs("div",{className:"pt-4 max-w-[625px] w-full mx-auto",children:[d==="CREATE"&&e.jsxs(e.Fragment,{children:[s?e.jsx(T.Primary,{type:"button",className:"w-full",isDisabled:!0,children:"Unavailable"}):e.jsx(T.Primary,{type:"button",className:"w-full",onPress:M,children:"Review Offer"}),e.jsx("div",{className:`${s?"opacity-50":""} pt-6`,children:e.jsx(Me,{icon:e.jsx("p",{className:"text-xs text-figma-primary-light",children:"How do Lending Cycles work?"}),isDisabled:s,heading:"Next Period Offers",description:"Offers are adjusted for any edits in progress, and reduced by exiting offers. Estimated loan utilization based on current borrowers’ available trading balance that can be used to pay loans outstanding."})})]}),d==="REVIEW"&&!s&&e.jsxs(e.Fragment,{children:[j&&!p&&e.jsx("div",{className:"mb-3",children:e.jsx(G,{variant:"error",children:ct(y)})}),e.jsx(T.Primary,{type:"submit",className:"w-full",isDisabled:b,children:b?e.jsx("div",{className:"flex justify-center [&>*]:w-5 [&>*]:h-5",children:e.jsx(ve,{white:!0})}):"Submit Offer"}),e.jsx("p",{className:"mt-4 text-xxs text-neutral-300 font-bolder text-center leading-normal",children:"Offers are available next loan period for borrowers. Figure Markets charges a 50bps fee for loans matched."})]})]})]})})},v9=()=>{var l;const{hasKrangStep:t}=Le(),{isAuthenticatedWithCookie:s}=ee(),{positions:a}=ft(),{selectedLoanPoolAsset:n,hasConsented:r}=cs(),i=(l=a==null?void 0:a.cashEquivalentPositions.find(o=>o.denom===n))==null?void 0:l.tradingPower;return e.jsxs("div",{className:"w-full flex flex-col",children:[e.jsxs("div",{className:"hidden sm:block",children:[t&&e.jsx(n1,{}),!s&&e.jsx("div",{className:"bg-figma-dark border-b-[1px] border-b-figma-primary-dark",children:e.jsx(l1,{text:"Sign up or log in to start creating loan offers",button:e.jsx(Ns,{className:"w-full max-w-[115px]"})})})]}),s&&e.jsx("div",{className:"p-4 text-xs font-bold border-b-[1px] border-b-figma-primary-dark w-full",children:e.jsxs("div",{className:"max-w-[650px] mx-auto flex flex-col gap-y-[10px]",children:[e.jsx("div",{className:"flex items-center gap-1",children:"Total Balances"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{children:n}),e.jsx(Me,{className:"w-[300px]",heading:n,description:"The value shows the amount that is in your account excluding those associated with a pending offer"})]}),e.jsxs("span",{className:"flex tabular-nums",children:[he(Ta(i||0,2),2,!0),e.jsx(Z,{size:"xxs",className:"ml-1",variant:"coin",children:n})]})]})]})}),e.jsx(w9,{currentPosition:i,isDisabled:!s||!r})]})},Qr=15e3,L9=()=>{z1();const[t,{width:s=0}]=ur(),{selectedLoanPoolAsset:a,hasLoadedPools:n,showBanner:r}=cs(),{isAuthenticatedWithCookie:i}=ee(),l=Fe(),[o,u]=c.useState(!1),{marketLocation:d}=me();Bu(void 0,{skip:!i}),Iu({query:{location:Rt(d)}},{pollingInterval:Qr,refetchOnMountOrArgChange:!0}),ku({query:{asset:a,location:Rt(d)}},{pollingInterval:Qr,skip:!n,refetchOnMountOrArgChange:!0}),Pu({query:{asset:a,location:Rt(d)}},{pollingInterval:Qr,skip:!n,refetchOnMountOrArgChange:!0});const x=()=>u(!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ht,{children:e.jsx("title",{children:"Lend - Figure Markets"})}),!l.IS_REX_NAV&&e.jsx(s9,{}),e.jsx("div",{className:"border-b-[1px] border-b-figma-primary-dark",children:e.jsx(o9,{})}),r&&i&&e.jsx(r9,{onPress:x}),e.jsxs("div",{className:"flex flex-col lg:flex-row w-full h-full lg:h-dvh overflow-hidden z-0",ref:t,children:[e.jsxs("div",{className:"w-full lg:w-[42%] flex flex-col flex-grow order-3 lg:order-1 divide-y divide-figma-primary-dark",children:[e.jsx("div",{className:"overflow-y-auto scrollbar-none h-[350px] sm:h-[273px] lg:h-1/2",children:e.jsx(C9,{width:s})}),e.jsx("div",{className:"overflow-y-auto scrollbar-none h-1/2",children:e.jsx(u9,{})})]}),e.jsx("div",{className:"w-full lg:w-[27%] lg:max-w-[444px] order-1 lg:order-2 lg:border-x-[1px] lg:border-x-figma-primary-dark border-solid",children:e.jsx(p9,{})}),e.jsx("div",{className:"w-full lg:w-[35%] lg:max-w-[400px] order-2 lg:order-3 overflow-none lg:overflow-y-auto scrollbar-none border-t-[1px] border-t-neutral-200 border-solid lg:border-none",children:e.jsx(v9,{})})]}),e.jsx(n9,{isOpen:o,onClose:()=>u(!1)}),e.jsx(b1,{licensingJurisdictionFeature:"LEND"})]})},E9=()=>{const[t,s]=c.useState(!1),[a,n]=c.useState("one"),[r,i]=c.useState(1),[l,o]=c.useState(1);return e.jsxs("div",{className:"flex gap-x-8",children:[e.jsxs("div",{className:"flex flex-col gap-y-4 w-1/5",children:[e.jsx("div",{className:"font-bold",children:"Buttons"}),e.jsx(T.Primary,{children:"Primary"}),e.jsx(T.Primary,{isDisabled:!0,children:"Primary Disabled"}),e.jsx(T.Primary,{small:!0,className:"w-fit",children:"Primary Small"}),e.jsx(T.Secondary,{children:"Secondary"}),e.jsx(T.Secondary,{isDisabled:!0,children:"Secondary Disabled"}),e.jsx(T.Secondary,{inverse:!0,children:"Secondary Inverse"}),e.jsx(T.Alert,{children:"Alert"}),e.jsx(T.Alert,{isDisabled:!0,children:"Alert Disabled"}),e.jsx(T.Deposit,{className:"w-fit",children:"Deposit"}),e.jsx(T.Cancel,{className:"w-fit",children:"Cancel"}),e.jsx(T.Cancel,{isDisabled:!0,className:"w-fit",children:"Cancel Disabled"}),e.jsx(T.ModalClose,{})]}),e.jsxs("div",{className:"flex flex-col gap-y-4 w-1/5",children:[e.jsx("div",{className:"font-bold",children:"Modal"}),e.jsx(T.Primary,{onPress:()=>s(!0),children:"Open Modal"}),e.jsxs($e,{isOpen:t,onClose:()=>s(!1),children:[e.jsx(ne,{onBack:()=>{},children:"My New Title"}),"Hi New Modal"]}),e.jsx("div",{className:"font-bold",children:"Loader"}),e.jsx("div",{className:"w-8 h-8",children:e.jsx(ve,{})}),e.jsx("div",{className:"font-bold",children:"Warning Wells"}),e.jsx(G,{children:"Warning"}),e.jsx(G,{variant:"error",children:"Error"}),e.jsx(G,{variant:"success",children:"Success"}),e.jsx(G,{variant:"info",children:"Signing"}),e.jsx("div",{className:"font-bold",children:"Toggles"}),e.jsxs(wn,{fullWidth:!0,children:[e.jsx($t,{onClick:()=>{n("one")},isActive:a==="one",children:"One"}),e.jsx($t,{onClick:()=>{n("two")},isActive:a==="two",children:"Two"})]}),e.jsx("div",{className:"font-bold",children:"Token Chips"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-3 [&>*]:w-fit",children:[e.jsx(Z,{children:"Neutral"}),e.jsx(Z,{variant:"positive",size:"xs",children:"Positive xs"}),e.jsx(Z,{variant:"negative",size:"xxs",children:"Negative xxs"}),e.jsx(Z,{variant:"coin",size:"3xs",children:"Coin 3xs"})]}),e.jsxs("div",{className:"flex flex-col gap-3 [&>*]:w-fit",children:[e.jsx(Z,{variant:"coin",size:"md",children:"Coin md"}),e.jsx(Z,{variant:"coin",size:"lg",children:"Coin lg"}),e.jsx(Z,{variant:"coin",size:"xl",children:"Coin xl"}),e.jsx(Z,{variant:"coin",size:"2xl",children:"Coin 2xl"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx("div",{className:"font-bold",children:"Pagination"}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs(e.Fragment,{children:[e.jsx(hi,{pagination:{isPreviousDisabled:!1,isNextDisabled:!1,onPageChange:i,setPage:i,currentPage:r,totalPages:15,totalCount:150,mode:"NUMBER"}}),e.jsx(hi,{pagination:{isPreviousDisabled:!1,isNextDisabled:!1,onPageChange:o,setPage:o,currentPage:l,totalPages:6,totalCount:60,mode:"NUMBER"}})]})})]}),e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx(qt,{variant:"NEW",orderType:"LIMIT"}),e.jsx(qt,{variant:"PARTIALLY_FILLED",orderType:"LIMIT"}),e.jsx(qt,{variant:"FILLED",orderType:"LIMIT"}),e.jsx(qt,{variant:"PENDING_RISK",orderType:"LIMIT"}),e.jsx(qt,{variant:"CANCELED",orderType:"LIMIT"})]})]})},le=({children:t,title:s})=>e.jsxs("div",{className:" p-2 flex flex-col justify-between items-center h-full",children:[e.jsx("div",{className:"p-2",children:t}),e.jsx("span",{className:"text-xs",children:s})]}),S9=()=>e.jsxs("div",{className:"flex flex-wrap gap-4 h-50",children:[e.jsx(le,{title:"AlertIcon",children:e.jsx(Vc,{className:"h-6 w-6"})}),e.jsx(le,{title:"CaretDown",children:e.jsx(Zc,{className:"h-6 w-6"})}),e.jsx(le,{title:"CaretUp",children:e.jsx(Gc,{className:"h-6 w-6"})}),e.jsx(le,{title:"CheckmarkIcon",children:e.jsx(zc,{className:"h-6 w-6"})}),e.jsx(le,{title:"Chevron",children:e.jsx(el,{className:"h-6 w-6"})}),e.jsx(le,{title:"ChromeLogo",children:e.jsx(Z3,{className:"h-6 w-6"})}),e.jsx(le,{title:"CircleApprove",children:e.jsx(G3,{className:"h-6 w-6"})}),e.jsx(le,{title:"CircleCamera",children:e.jsx(z3,{className:"h-6 w-6"})}),e.jsx(le,{title:"CircleGear",children:e.jsx(K3,{className:"h-6 w-6"})}),e.jsx(le,{title:"CircleNumOne",children:e.jsx(Y3,{className:"h-6 w-6"})}),e.jsx(le,{title:"CircleNumTwo",children:e.jsx(J3,{className:"h-6 w-6"})}),e.jsx(le,{title:"CircleNumThree",children:e.jsx(Q3,{className:"h-6 w-6"})}),e.jsx(le,{title:"CircleReliable",children:e.jsx(X3,{className:"h-6 w-6"})}),e.jsx(le,{title:"CircleSecure",children:e.jsx(e4,{className:"h-6 w-6"})}),e.jsx(le,{title:"Close",children:e.jsx(Kc,{className:"h-6 w-6"})}),e.jsx(le,{title:"Copy",children:e.jsx(Yc,{className:"h-6 w-6"})}),e.jsx(le,{title:"CryptoCoins",children:e.jsx(t4,{className:"h-6 w-6"})}),e.jsx(le,{title:"Document",children:e.jsx(Qc,{className:"h-6 w-6"})}),e.jsx(le,{title:"DottedLine",children:e.jsx(s4,{className:"h-6 w-6 bg-p-500"})}),e.jsx(le,{title:"Dropdown",children:e.jsx(ds,{className:"h-6 w-6"})}),e.jsx(le,{title:"Envelope",children:e.jsx(Jc,{className:"h-6 w-6"})}),e.jsx(le,{title:"FigureIcon",children:e.jsx(a4,{className:"text-neutral-500 w-6 h-6"})}),e.jsx(le,{title:"FigurePayWalletIcon",children:e.jsx(n4,{})}),e.jsx(le,{title:"FilledChevron",children:e.jsx(r4,{className:"h-6 w-6"})}),e.jsx(le,{title:"FinanceIcon",children:e.jsx(i4,{className:"h-6 w-6"})}),e.jsx(le,{title:"InfoCircleIcon",children:e.jsx(Xc,{className:"h-6 w-6"})}),e.jsx(le,{title:"LeftChevronIcon",children:e.jsx(Cn,{className:"h-6 w-6"})}),e.jsx(le,{title:"LinkIcon",children:e.jsx(mi,{className:"h-6 w-6"})}),e.jsx(le,{title:"LiquidityIcon",children:e.jsx(l4,{className:"h-6 w-6"})}),e.jsx(le,{title:"OpenNewWindow",children:e.jsx(c4,{className:"h-6 w-6"})}),e.jsx(le,{title:"PendingClock",children:e.jsx(e1,{className:"h-6 w-6"})}),e.jsx(le,{title:"QuestionIcon",children:e.jsx(t1,{className:"h-6 w-6"})}),e.jsx(le,{title:"ReliableIcon",children:e.jsx(u4,{className:"h-6 w-6"})}),e.jsx(le,{title:"SpeedIcon",children:e.jsx(x4,{className:"h-6 w-6"})}),e.jsx(le,{title:"USDIcon",children:e.jsx(h4,{className:"h-6 w-6"})}),e.jsx(le,{title:"WalletPocket",children:e.jsx(p4,{className:"h-6 w-6"})}),e.jsx(le,{title:"WalletSmall",children:e.jsx(g4,{className:"h-6 w-6"})}),e.jsx(le,{title:"WalletApprove",children:e.jsx(f4,{className:"h-21 w-21"})}),e.jsx(le,{title:"WalletReview",children:e.jsx(Gt,{className:"h-20 w-20"})}),e.jsx(le,{title:"WalletWarning",children:e.jsx(j4,{className:"h-20 w-20"})}),e.jsx(le,{title:"WalletIcon",children:e.jsx(b4,{className:"h-20 w-20"})}),e.jsx(le,{title:"WalletBW",children:e.jsx(s1,{className:"h-20 w-20"})})]}),A9=()=>{const[t,s]=c.useState("components");return e.jsxs("div",{className:"p-20",children:[e.jsx("div",{className:"font-bold text-[20px] pb-5",children:"Exchange Component Playground"}),e.jsx("div",{className:"w-96 pb-5",children:e.jsxs(wn,{fullWidth:!0,children:[e.jsx($t,{onClick:()=>{s("components")},isActive:t==="components",children:"Components"}),e.jsx($t,{onClick:()=>{s("icons")},isActive:t==="icons",children:"Icons"})]})}),t==="components"&&e.jsx(E9,{}),t==="icons"&&e.jsx(S9,{})]})},D9="/exchange/assets/fingerprint-shield-3azVr8m1.svg",T9="data:image/svg+xml,%3csvg%20width='84'%20height='84'%20viewBox='0%200%2084%2084'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M41.9997%2083.6667C65.0115%2083.6667%2083.6663%2065.0119%2083.6663%2042C83.6663%2018.9882%2065.0115%200.333374%2041.9997%200.333374C18.9878%200.333374%200.333008%2018.9882%200.333008%2042C0.333008%2065.0119%2018.9878%2083.6667%2041.9997%2083.6667Z'%20fill='%232A7DE1'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M42.955%2016.2172C42.6621%2016.0476%2042.3305%2015.9584%2041.9931%2015.9584C41.6557%2015.9584%2041.3241%2016.0476%2041.0312%2016.2172L20.3926%2028.2956C20.1008%2028.4645%2019.8582%2028.7085%2019.6893%2029.0028C19.5204%2029.2972%2019.4312%2029.6315%2019.4307%2029.9719V54.1285C19.4312%2054.469%2019.5204%2054.8034%2019.6893%2055.0976C19.8582%2055.3918%2020.1008%2055.6361%2020.3926%2055.8048L28.7527%2060.7051V36.2188C28.7573%2035.8917%2028.8425%2035.571%2029.0006%2035.2857C29.1587%2035.0004%2029.3847%2034.7598%2029.658%2034.5855L35.3163%2031.0322L40.9746%2027.5219C41.2764%2027.3329%2041.6242%2027.2327%2041.979%2027.2327C42.3338%2027.2327%2042.6815%2027.3329%2042.9833%2027.5219L48.6416%2031.0322L54.3%2034.5855C54.5771%2034.7623%2054.8058%2035.0076%2054.9641%2035.2983C55.1225%2035.5889%2055.2053%2035.9155%2055.2053%2036.2475V47.8387C55.208%2048.1712%2055.1261%2048.4988%2054.9678%2048.7899C54.8091%2049.0811%2054.5792%2049.326%2054.3%2049.5005L48.6416%2053.0684L42.9833%2056.5642C42.4458%2056.9081%2041.9082%2056.3495%2041.9082%2055.7046V51.1198C41.9546%2050.8089%2042.0773%2050.5147%2042.2652%2050.2642C42.453%2050.0141%2042.7%2049.8155%2042.9833%2049.6868L47.7221%2046.7211C47.9995%2046.5442%2048.228%2046.299%2048.3863%2046.0083C48.5446%2045.7176%2048.6276%2045.3911%2048.6274%2045.0591V40.3166C48.6244%2039.9911%2048.5397%2039.6718%2048.3814%2039.3885C48.223%2039.1053%2047.9962%2038.8675%2047.7221%2038.6975L43.0116%2035.832C42.7098%2035.643%2042.362%2035.5429%2042.0073%2035.5429C41.6525%2035.5429%2041.3047%2035.643%2041.0029%2035.832L36.3065%2038.6975C36.0263%2038.863%2035.7931%2039.099%2035.6295%2039.3827C35.4659%2039.6664%2035.3775%2039.9881%2035.3729%2040.3166V43.7409V58.0687V64.2012C35.3799%2064.2869%2035.3799%2064.3729%2035.3729%2064.459L41.0312%2067.7829C41.3241%2067.9526%2041.6557%2068.0417%2041.9931%2068.0417C42.3305%2068.0417%2042.6621%2067.9526%2042.955%2067.7829L63.6079%2055.7046C63.8996%2055.5356%2064.1423%2055.2916%2064.311%2054.9974C64.48%2054.7031%2064.5692%2054.3688%2064.5696%2054.0283V29.9719C64.5692%2029.6315%2064.48%2029.2972%2064.311%2029.0028C64.1423%2028.7085%2063.8996%2028.4645%2063.6079%2028.2956L42.955%2016.2172Z'%20fill='white'/%3e%3c/svg%3e",P9="/exchange/assets/telegram-VNs526HU.png",k9=()=>{const{isAuthenticatedWithCookie:t,walletAddress:s}=ee(),{hasKrangStep:a,currentStep:n,navigateToPassport:r,setPassportRedirectUrl:i}=Le(),[l,o]=c.useState("CONNECT");return c.useEffect(()=>{document.title="Airdrop"},[]),c.useEffect(()=>{i(`${ke}/exchange/airdrop`)},[i]),c.useEffect(()=>{o(t?a&&n==="UNIVERSAL_PASSPORT"?"PASSPORT":"TELEGRAM":"CONNECT")},[t,a,n]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-y-[22px] mb-7",children:e.jsx("div",{className:"divide-neutral-200 divide-y min-w-full md:min-w-fit",children:e.jsx("div",{className:"md:min-w-[480px] max-w-[480px] mx-auto mt-10 p-6 border border-neutral-200 ",children:l0(l).with("CONNECT",()=>e.jsx(O9,{})).with("PASSPORT",()=>e.jsx(M9,{navigateToPassport:r,redirectUrl:`${ke}/exchange/airdrop`})).with("TELEGRAM",()=>e.jsx(I9,{setStep:o,walletAddress:s})).with("COMPLETE",()=>e.jsx(_9,{})).exhaustive()})})})})},I9=({setStep:t})=>{const s=js?"figuremarkets_bot":"farkets_bot",a=c.useRef(null),{mutateAsync:n}=L3(),{notifyGenericSuccess:r}=Be(),[i,l]=c.useState("");return window.TelegramLoginWidget={dataOnauth:o=>{l(""),n({requestBody:{id:o.id,userName:o.username,firstName:o.first_name,lastName:o.last_name,authDate:o.auth_date,hash:o.hash,photoUrl:o.photo_url}},{onSuccess:u=>{r({title:"Telegram Connected",description:u}),t("COMPLETE")},onError:()=>{l("There was a problem linking your Telegram Account. Please try again.")}})}},c.useEffect(()=>{var u;const o=document.createElement("script");o.src="https://telegram.org/js/telegram-widget.js?22",o.async=!0,o.setAttribute("data-telegram-login",s),o.setAttribute("data-size","large"),o.setAttribute("data-user-pic","false"),o.setAttribute("data-onauth","TelegramLoginWidget.dataOnauth(user)"),o.setAttribute("data-request-access","read"),(u=a==null?void 0:a.current)==null||u.appendChild(o)},[s]),e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"font-bolder gap-1 text-pretty",children:"Connect Your Telegram Account"}),e.jsx("img",{className:"h-[85px] mx-auto mt-8",src:P9,alt:"Telegram Logo"}),e.jsx("p",{className:"pt-3",children:"Connect your Telegram account to verify your account address. Your airdrop will be delivered to the connected address."}),e.jsx("div",{className:"pt-10 block items-center",ref:a}),i&&e.jsx(G,{variant:"error",className:"text-xs",children:i})]})},O9=()=>e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"font-bolder gap-1 text-pretty",children:"Telegram HASH Airdrop"}),e.jsx("img",{className:"w-[200px] h-[70px] mx-auto mt-8",src:T9,alt:"Provenance Blockchain"}),e.jsx("h2",{className:"mt-3",children:"Step 1: Connect your wallet "}),e.jsx("p",{className:"pt-3",children:"You’ll use your Figure Wallet to authenticate to the Figure Markets exchange, view your assets, and approve transactions from a single place."}),e.jsx("h2",{className:"mt-10",children:"Step 2: Connect your Telegram "}),e.jsx("p",{className:"pt-3",children:"Link your Telegram account to verify your account address. Your HASH will be deposited directly into your address."}),e.jsx("h2",{className:"mt-10",children:"Step 3: That’s it! "}),e.jsx("p",{className:"pt-3",children:"You should receive your HASH in your wallet in the next few days. Thanks for being part of our Telegram community."}),e.jsx("div",{className:"mt-10",children:e.jsx(Ns,{})})]}),M9=({navigateToPassport:t,redirectUrl:s})=>e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"font-bolder gap-1 text-pretty",children:"Verify your identity"}),e.jsx("img",{className:"w-[200px] h-[70px] mx-auto mt-8",src:D9,alt:"redirecting-to-passport"}),e.jsx("p",{className:"mt-3",children:"To easily verify your identity, we are sending you to Figure Passport."}),e.jsx(T.Primary,{onPress:()=>t(s),className:"mt-10 p-3 w-full",children:e.jsxs("div",{className:"flex justify-center",children:[e.jsx("p",{children:"Continue to Passport"}),e.jsx("img",{className:"ml-1",src:Xi,alt:"continue-to-passport"})]})})]}),_9=()=>{const t=Ye();return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"font-bolder gap-1 text-pretty",children:"Telegram Account Connected!"}),e.jsx("p",{className:"pt-3",children:"Thank you for connecting your Telegram account to Figure Markets and for being part of our Telegram community. You should receive your HASH in your wallet in the next few days."}),e.jsx(T.Secondary,{onPress:()=>t("/trade/btc-usd"),className:"mt-10 p-3 w-full",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("p",{children:"Done"})})})]})},Ha=({url:t})=>(c.useEffect(()=>{window.location.href=t},[t]),null),R9=[{element:e.jsx(q7,{}),errorElement:e.jsx(zx,{}),children:[{path:ye.ROOT,children:[{index:!0,element:e.jsx(ks,{to:`${re.trade()}${window.location.search}`})}]},{element:e.jsx(Hx,{}),children:[{path:`${ye.TRADE}/:token`,element:e.jsx(Bn,{marketType:"CRYPTO"})},{path:`${ye.ATS}/:token`,element:e.jsx(Bn,{marketType:"ATS"})},{path:ye.ATS,element:e.jsx(Bn,{marketType:"ATS"})},{path:ye.TRADE,element:e.jsx(Bn,{marketType:"CRYPTO"})},{path:ye.COMMIT,element:e.jsx(Vx,{})},{path:ye.AIRDROP,element:e.jsx(k9,{})},{path:ye.ONBOARDING,element:e.jsx(ih,{})},{path:ye.LEGACY_HOME,element:e.jsx(Hh,{}),children:[{path:re.home("orders"),element:e.jsx(Qh,{}),children:[{path:re.home("orders",":orderId"),element:e.jsx(Yh,{})}]},{path:re.home("transfers"),element:e.jsx(Jh,{})},{path:re.home("margin"),element:e.jsx(Kh,{})},{path:re.home("lending"),element:e.jsx(t9,{})}]},{path:ye.HOME,element:e.jsx(Ha,{url:`${ke}/c/home`})},{path:ye.LEND_LEARN,element:e.jsx(Ha,{url:`${ke}/c/learn/democratized-prime`})},{path:ye.LEND,element:e.jsx(L9,{})}]},{path:ye.CREDENTIAL_TRANSFER_REDIRECT,element:js?e.jsx($r,{}):e.jsx(rh,{})},{path:ye.NOT_FOUND,element:e.jsx($r,{})},{path:ye.PLAYGROUND,element:js?e.jsx($r,{}):e.jsx(A9,{})},{path:ye.AUTH_REDIRECT,element:e.jsx(ks,{replace:!0,to:`${re.trade("btc-usd")}${window.location.search}`})},{path:ye.PORTFOLIO,element:e.jsx(Ha,{url:`${ke}/c/home`})},{path:ye.HISTORY,element:e.jsx(Ha,{url:`${ke}/c/home`})},{path:ye.FTX_CLAIM_OFFER,element:e.jsx(Ha,{url:`${ke}/c/home`})},{path:"*",element:e.jsx(ks,{replace:!0,to:ye.NOT_FOUND})}]}],dd=ke,F9={baseURL:dd,timeout:3e4,withCredentials:!0,paramsSerializer:{encode:t=>o0.stringify(t,{arrayFormat:"brackets"})}},U9=vo.create({...F9}),B9=()=>{U9.interceptors.request.use(t=>{const s=localStorage.getItem(T5);return t.headers={...t.headers,...s?{Authorization:s}:{}},t},t=>Promise.reject(t))},W9=()=>{const{isAuthenticatedWithCookie:t,walletAddress:s,signingWalletAddress:a}=ee(),{originalLicensingJurisdiction:n}=ae(pt),r=Fe(),i=xs.getInternalContext(),l=xs.getUser();return c.useEffect(()=>{r.DATADOG_RUM_ENABLED&&!(i!=null&&i.application_id)&&(console.log("init datadog"),p6({applicationId:"375f9dd2-19b7-49fe-befe-3fea2216279d",clientToken:"pub4c56e848154bcc142856737a5e0c9204",config:{site:"us5.datadoghq.com",service:"frontend-exchange",version:"f581445738",sessionSampleRate:100,sessionReplaySampleRate:100,telemetrySampleRate:100,trackUserInteractions:!0,defaultPrivacyLevel:"mask-user-input",storeContextsAcrossPages:!0,silentMultipleInit:!1,allowedTracingUrls:["https://www.figuremarkets.com","https://figuremarkets.com"]}}),xs.startSessionReplayRecording())},[r.DATADOG_RUM_ENABLED,i==null?void 0:i.application_id]),c.useEffect(()=>{t&&s?l!=null&&l.id||(console.log("set user"),xs.setUser({id:s,signerAddress:a})):xs.clearUser()},[t,a,s,l]),c.useEffect(()=>{t&&n!=="UNKNOWN_LICENSING_JURISDICTION"&&n!=="UNRECOGNIZED"?xs.setUserProperty("licensingJurisdiction",n):xs.removeUserProperty("licensingJurisdiction")},[t,n]),null},q9=()=>{const{isAuthenticatedWithCookie:t}=ee();bs.useGetConsentsQuery(void 0,{skip:!t}),c.useEffect(()=>{oe.shared.setIsAuthenticated(t)},[t])},$9=c0({form:Nu,modal:R3,depositModal:I3,marketLocation:Tu,withdrawModal:O3,enableUSDModal:F3,commitUSDModal:k3,lend:Zu,[en.reducerPath]:en.reducer,[bs.reducerPath]:bs.reducer,[Pa.reducerPath]:Pa.reducer,orders:n8,licensingJurisdiction:M3}),H9=t=>d0({reducer:$9,preloadedState:t,middleware:s=>s({serializableCheck:!1}).concat(bs.middleware,en.middleware,Pa.middleware)}),V9=document.getElementById("root"),Z9=u0(V9);B9();oe.shared.init();_0();const G9=()=>{W9(),Q1(),q9();const t=x0(R9,{basename:"/exchange"}),s=window.location.pathname.split("/"),a=s==null?void 0:s[1],n=s.length>2?`/${s.slice(2).join("/")}`:"";return`/${a}`!="/exchange"&&window.location.assign(`/exchange${n}`),e.jsx(h0,{router:t})};Z9.render(e.jsx(c.StrictMode,{children:e.jsx(m0,{store:H9(),children:e.jsx(Eo,{baseUrl:dd,children:e.jsx(W7,{children:e.jsx(G9,{})})})})}));
//# sourceMappingURL=index-218EIfxb.js.map
